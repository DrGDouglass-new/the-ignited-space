(()=>{"use strict";var e,t,n,i,o,r,a,c,s,u,l,p,E,d,g,A,f,R,I=function(){function e(){this.events=[],this.events=[]}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.on=function(e,t){this.events.push({action:e,callback:t})},e.prototype.handleInput=function(e,t){var n=this.events.find((function(t){return t.action===e}));n?n.callback(t):console.error("Unknown event: ",e)},e.prototype.output=function(e,t){postMessage({type:e,payload:t})},e}().getInstance(),N=function(){function e(){this.workDispatcher=I}return e.prototype.importData=function(e){},e.prototype.exportData=function(){return{}},e.prototype.dataToUI=function(){return{}},e.prototype.process=function(e){},e}();!function(e){e[e.POLYNOMIAL=0]="POLYNOMIAL",e[e.EXPONENTIAL=1]="EXPONENTIAL",e[e.LINEAR=2]="LINEAR"}(e||(e={})),function(e){e.CHARGE="charge",e.DRILL_ROCK="drillRock",e.DRILL_ORE="drillOre",e.COLLECT_BIOMASS="collectBiomass"}(t||(t={})),function(e){e.REPAIR_DRILL="repair-drill",e.REPAIR_CABLE="repair-cable",e.REPAIR_MANIPULATORS="repair-manipulators",e.REPAIR_MACHINERY="repair-machinery",e.AUTO_QUARRYING="autoquarrying",e.AUTO_MINERS="autominers",e.COMBUSTION="combustion",e.REPAIR_STORAGE_MODULE="storage-module",e.REPAIR_BATTERY="repair-battery",e.COMBUSTION_CAMERA="combuscion-camera",e.THERMAL_TECH="thermal-tech",e.MINE_TECH="mine-tech",e.QUARRY_TECH="quarry-tech",e.BIO_TECH="bio-tech",e.STORAGE_TECH="storage-tech",e.BACTERIA_SELECTION="bacteria-selection",e.THERMAL_TECH2="thermal-tech2",e.OXYGEN_CAMERAS="oxygen-cameras",e.RESERVE_BATTERIES="reserve-batteries",e.OXYGEN_COMPRESSORS="oxygen-compressors",e.WATER_PUMPING="water-pumping",e.ELECTROLITES="electrolites",e.SUPPLY_MODULE="supply-module",e.DOCKING_MODULE="docking-module",e.RESEARCH_MODULE="research-module",e.CARGO_SORTING="cargo-sorting",e.FARMING_TOOLS="farming-tools",e.DEEP_MINING="deep-mining",e.UNDERGROUND_VAULTS="underground-vaults",e.WATER_DRILLING="water-drill",e.FERTILIZING="fertilizing",e.FLORA="flora",e.FLAMMABILITY="flammability",e.CRANES="cranes",e.CARGO_CRANES="cargo-cranes",e.FORESTER_TOOLS="forester-tools",e.BROADLEAVED="broad-leaved",e.WOODEN_FURNITURE="furniture",e.IRON_TOOLS="iron-tools",e.IRON_PARTS="iron-parts",e.IRON_CONTAINERS="iron-containers",e.IMPROVED_WIRES="improved wires",e.REFRACTORY_MATERIALS="refractory-materials",e.METAL_WORKING="metal-working",e.CEMENT="cement",e.TREE_CARE="tree-care",e.NATURAL_ENVIRONMENT="natural-environment",e.FRUIT_TREES="fruit-trees",e.WATER_FILTERING="water-filtering",e.CHEMICAL_ANALYSIS="chemical-analysis",e.BETTER_ELECTROLITES="better-electrolites",e.HIGH_TEMPERATURE_ENGINE="high-temperature-engine",e.PLATINUM_MINING="platinum-mining",e.PLATINUM_DRILLS="platinum-drills",e.PLATINUM_TOOLS="platinum-tools",e.SOCIAL_RESEARCH_CENTER="social-research-center",e.COTTAGES="cottages",e.ENTERTAINMENT="entertainment",e.ADVANCED_METALLURGY="advanced_metallurgy",e.COMPOSITE_METALS="composite_metals",e.HEAT_INSULATING_CAMERAS="heat_insulating_cameras",e.GERMETISATION="germetisation",e.RUBBER_DETAILS="rubber_details",e.IMPROVED_WIRING="improved_wiring",e.ENERGY_SAVING="energy_saving",e.ENERGY_SAVING_EXPEDITION_DRONES="energy-saving-expedition-drones",e.SURVEILLANCE_CAMERAS="surveillance_cameras",e.COMPUTERS="computers",e.INDUSTRY_AUTOMATION="idustrial_automation",e.BUILDING_PRINTING="building_printer",e.ORGANISM_PRINTING="organs_printing",e.BETTER_DIAGNOSTICS="better-diagnostics",e.MULTISTORE_WAREHOUSES="multistore_warehouses",e.GMO="GMO",e.LASER_CUTTING="laser-cutting",e.IMPROVED_LITHOGRAPHY="improved-lithography",e.BETTER_PHOTOELEMENTS="better-photo-elements",e.GREAT_RADIO_TRANSMITTER="great_radio_transmitter",e.FLIGHT_TECHNOLOGY="flight-technology",e.FASTER_ROCKETS="faster-rockets",e.CONDUCTIVE_NANOPARTICLES="conductive-nanoparticles",e.NANO_BOTS="nano_bots",e.TELESCOPE="telescope",e.GENES_MODIFICATION="genes_modification",e.GRAVITATIONAL_LENSING="gravitational_lensing",e.RADIATIVE_DISSOCIATION="radiative_dissociation",e.FUEL_PROCESSING_CATALYSATION="fuel_processing_catalysation",e.IMPULSE_ENGINE="impulse_engine",e.PLASMA_KNIFE="plasma_knife",e.NANO_TRANSISTORS="nano_transistors",e.UF_POLYMERYSATION="uf-polymerysation",e.BULLETPROOF_POLYMERS="bulletproof_polymers",e.COLD_SYNTHESIS="cold_synthesis",e.ELECTRIC_TRACTION="electric_traction",e.EFFICIENT_CONDUCTION="efficient_conduction",e.GRAPHENE_SYNTHESIS="graphene_generation",e.GRAPHENE_DRILLS="graphene_drills",e.GRAPHENE_SENSORS="graphene_sensors",e.GRAPHENE_MEMBRANES="graphene_membranes",e.COMPOSITE_BUILDING_MATERIALS="composite_building_materials",e.PLATINUM_ALLOYS="platinum-alloys",e.STRONG_CISTERN="strong_cistern",e.EFFICIENT_COLLIDERS="efficient_colliders",e.NEUTRON_CANON="neutron_canon",e.MAGNETIC_FIELD_GENERATOR="magnetic_field_generator",e.CONTROLLABLE_THERMONUCLEAR_REACTIONS="controllable_thermonuclear_reactions",e.ADVANCED_EVAPORATORS="advanced_evaporators",e.NEUTRINO_DETECTORS="neutrino_detectors",e.NEUTRINO_COOLERS="neutrino_coolers",e.QUARK_CANON="quark_canon",e.FUEL_COOLERS="fuel_coolers",e.MAGNETO_COOLING="magneto_cooling",e.ADVANCED_REFRIGERATOR="advanced_refrigerator",e.FROZEN_BIOMASS="frozen_biomass",e.IMPROVED_REFRIGERATION="improved_refrigeration",e.BATTERIES_COOLERS="batteries_coolers",e.ORBITAL_CLINIC="orbital_clinics",e.ORBITAL_BIORESEARCH="orbital_bioresearch",e.NANO_BIOBOTS="nano_biobots",e.HIGH_ENERGY_PLASMA_KNIFE="high_energy_plasma_knife",e.NUCLEAR_SYNTHESIS_CONTROL="nuclear_synthesis_control"}(n||(n={})),function(e){e.QUARRY="quarry",e.MINE="mine",e.BACTERIA_INCUBATOR="bacteria-incubator",e.THERMOELECTRIC_STATION="thermo-electric-station",e.STORAGE="storage-section",e.STORAGE_HUB="storage-hub",e.OXYGEN_COLLECTOR="oxygen-collector",e.WATER_PUMP="water-pump",e.WATER_STORAGE="water-storage",e.BATTERY="battery",e.LIVING_CABIN="living-cabin",e.METEO_STATION="meteo-station",e.MONUMENT="monument",e.CLINIC="clinic",e.PARK="park",e.BIO_LAB="bio-lab",e.FOREST_PLANT="forest-plant",e.SMELTER="smelter",e.EXPEDITION_CENTER="expedition_center",e.WAREHOUSE="warehouse",e.TANK="tank",e.COTTAGE="cottage",e.CINEMA="cinema",e.SOCIAL_RESEARCH_CENTER="social_research_center",e.METALLURGY_COMPLEX="metallurgy_complex",e.BUILDING_FACTORY="building_factory",e.STORAGE_CONTAINER="storage_container",e.SOLAR_PANEL="solar-panel",e.SHRINE="shrine",e.DATA_CENTER="data-center",e.APARTMENT="apartment",e.PANDEMIC_RESEARCH_CENTER="pandemic-research-center",e.ELECTRONICS_FACTORY="electronics-factory",e.TEMPLE="temple",e.ADMINISTRATIVE_CENTER="administrative_center",e.SOLAR_SATELLITE="solar-satellite",e.ORBITAL_TOURISM_CENTER="orbital-tourism-center",e.ICE_MELTING_STATION="ice-melting-station",e.FUEL_FACTORY="fuel-factory",e.NANOBOTS_FACTORY="nanobots-factory",e.SPACE_TELESCOPE="space-telescope",e.ZOO="zoo",e.SPACE_STORAGE_HUB="space_storage_hub",e.SMELTING_FACTORY="smelting_factory",e.PLUTO_MONUMENT="pluto_monument",e.PLATINUM_MINE="platinum-mine",e.FLORA_PLANT="flora_plant",e.TROPIC_FOREST_PLANT="tropic_forest_plant",e.ORGANIC_PROCESSING_FACTORY="organics_processing_factory",e.THERMONUCLEAR_PLANT="thermonuclear_plant",e.ADRONIC_COLLIDER="adronic_collider",e.SPACESHIP_STATION="spaceship_station",e.SPACESHIP_FACTORY="spaceship_factory",e.ORBITAL_LIVING_MODULE="orbital_living_module",e.ORBITAL_SUPPLY_MODULE="orbital_supply_module"}(i||(i={})),function(e){e.POWER="Power",e.INDUSTRIAL="Industrial",e.STORAGE="Storage",e.SCIENCE="Science",e.MILITARY="Military",e.PUBLIC="Public",e.RESIDENTAL="Residental"}(o||(o={})),function(e){e.ORBIT="Orbit",e.MOON="Moon",e.AID="Aid",e.VENUS="Venus",e.OUTER="Outer Orbit"}(r||(r={})),function(e){e.STONE="stone",e.POWER="power",e.ORE="ore",e.BIOMASS="biomass",e.OXYGEN="oxygen",e.NUTRITION="nutrition",e.WATER="water",e.RESEARCH="research",e.WOOD="wood",e.IRON="iron",e.PLATINUM="platinum",e.BEAM="beam",e.BRICK="brick",e.PLATE="plate",e.WIRE="wire",e.FUEL="fuel",e.RUBBER="rubber",e.PLASTICS="plastics",e.SEMICONDUCTOR="semiconductor",e.COMPUTER="computer",e.ROCKET_ENGINE="rocket-engine",e.GRAPHENE="graphene",e.MAGNETO="magneto",e.KNOWLEDGE_POINT="knowledge-point",e.COLONIZE_XP="XP"}(a||(a={})),function(e){e.DRONE_MASTERITY="Drone Masterity",e.REPAIRED_SOLAR_PANEL="Drone Solar Panel",e.POWER_MASTERITY="Power Masterity",e.MINING_MASTERITY="Mining Masterity",e.NATURE_MASTERITY="Nature Masterity",e.GAS_MASTERITY="Gas And Liquids",e.BUILDING_MASTERITY="Building Masterity",e.ELECTRONICS_MASTERITY="Electronics Masterity",e.ROCKET_MASTERITY="Rocket Masterity",e.ORGANICS_MASTERITY="Organics Masterity",e.SCIENCE_MASTERITY="Science Masterity",e.POWER_CAPACITY="Power Capacity",e.MATERIALS_CAPACITY="Materials Capacity",e.LIQUIDS_CAPACITY="Liquids Capacity",e.RESEARCH_CAPACITY="Research Capacity",e.AESTHETICS_CONSUMPTION="Aesthetics Consumption",e.HEALTH_CONSUMPTION="Health Consumption",e.ENTERTAINMENT_CONSUMPTION="Entertainment Consumption",e.RELIGION_CONSUMPTION="Religion Consumption",e.SECURITY_CONSUMPTION="Security Consumption"}(c||(c={})),function(e){e.START="Start",e.MASTERITIES="Production",e.CAPACITY="Capacity",e.COLONY="Colony"}(s||(s={})),function(e){e.CRUST="Crust",e.GRAVITY="Gravity",e.SIZE="Size",e.HUMIDITY="Humidity",e.TEMPERATURE="Temperature"}(u||(u={})),function(e){e.SMALL="Small",e.LARGE="Large",e.ORE_RICH="Ore Rich",e.PLATINUM_RICH="Platinum Rich",e.ORE_POOR="Ore Poor",e.PLATINUM_POOR="Platinum Poor",e.WET="Wet",e.DRY="Dry",e.COLD="Cold",e.HOT="Hot"}(l||(l={}));var O,y=[{id:t.CHARGE,name:"Charge",description:"Recover your power",unlockCondition:function(e){return!0},availableCondition:function(e){return!0},getCost:{},getGain:(p={},p[a.POWER]=function(t){return{A:(1+.6*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.REPAIR_CABLE))*(1+.2*t.prestige.transmitKnowledge.getUpgradeLevel(c.DRONE_MASTERITY)),B:1,type:e.EXPONENTIAL}},p)},{id:t.DRILL_ROCK,name:"Drill Rock",description:"Spend power to drill some rocks for stone",unlockCondition:function(e){return!0},availableCondition:function(e){return!0},getCost:(E={},E[a.POWER]=function(t){return{A:1,B:1,type:e.EXPONENTIAL}},E),getGain:(d={},d[a.STONE]=function(t){return{A:(.25+.125*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.REPAIR_DRILL))*(1+.2*t.prestige.transmitKnowledge.getUpgradeLevel(c.DRONE_MASTERITY)),B:1,type:e.EXPONENTIAL}},d)},{id:t.DRILL_ORE,name:"Drill Ore",description:"Spend power to mine some ore",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.REPAIR_DRILL)>3},availableCondition:function(e){return!0},getCost:(g={},g[a.POWER]=function(t){return{A:2,B:1,type:e.EXPONENTIAL}},g),getGain:(A={},A[a.ORE]=function(t){return{A:(.2+.1*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.REPAIR_DRILL))*(1+.2*t.prestige.transmitKnowledge.getUpgradeLevel(c.DRONE_MASTERITY)),B:1,type:e.EXPONENTIAL}},A)},{id:t.COLLECT_BIOMASS,name:"Collect Biomass",description:"Dig the soil for organic matter to gather some biomass",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.REPAIR_MANIPULATORS)>0},availableCondition:function(e){return!0},getCost:(f={},f[a.POWER]=function(t){return{A:4,B:1,type:e.EXPONENTIAL}},f),getGain:(R={},R[a.BIOMASS]=function(t){return{A:(.2+.1*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.REPAIR_MANIPULATORS))*(1+.2*t.prestige.transmitKnowledge.getUpgradeLevel(c.DRONE_MASTERITY)),B:1,type:e.EXPONENTIAL}},R)}];!function(e){e.EXOFARMING="exofarming",e.METEOROLOGY="meteorology",e.MINERALOGY="mineralogy",e.CIVIL_SERVICE="civilservice",e.ENGINEERING="engineering",e.EXOBIOLOGY="exobiology",e.METALLURGY="metallurgy",e.EXOFORESTRY="exo-forestry",e.FLORA_RESEARCH="flora-research",e.CHEMISTRY="chemistry",e.SOCIOLOGY="sociology",e.GEOLOGY="geology",e.GEOGRAPHY="geography",e.MATERIAL_KNOWLEDGE="material_knowledge",e.ORGANIC_CHEMISTRY="organic_chemistry",e.CODEX_OF_LAW="codex_of_law",e.ELECTRICITY_STUDY="electricity_study",e.ELECTRONICS="electronics",e.PUBLIC_SERVICE="public_service",e.PRINTING_3D="printing_3d",e.GENETICS="genetics",e.HIGH_GRAVITY_PHYSICS="high_gravity_physics",e.ADVANCED_ANATOMY="advanced_anatomy",e.ROCKET_SCIENCE="rocket-science",e.GRAVITY_THEORY="gravity-theory",e.ADVANCED_BIOLOGY="advanced-biology",e.RADIATION_STUDY="radiation-study",e.QUANTUM_PHYSICS="quantum-physics",e.NANO_PHYSICS="nano-physics",e.ASTROPHYSICS="astrophysics",e.RELATIVITY_PHYSICS="relativity_physics",e.ADVANCED_GENETICS="genetics",e.PHOTOCHEMISTRY="photochemistry",e.BRAIN_STUDY="brain study",e.HIGH_ENERGY_PHYSICS="high energy physics",e.PHOTO_LITHOGRAPHY="photo_lithography",e.THERMONUCLEAR_SYNTHESIS="thermonuclear_synthesis",e.ADVANCED_POLYMERIZATION="advanced_polymerization",e.MOLECULAR_PHYSICS="molecular-physics",e.SUPER_CONDUCTIVITY="super-conductivity",e.ADVANCED_COMPOSITES="advanced-composited",e.MAGNETODYNAMICS="magnetodynamics",e.SPACESHIP_BUILDINGS="spaceship_buildings",e.EXOPLANET_SCIENCE="exoplanets_science",e.PARTICLE_PHYSICS="particle_physics",e.ADVANCED_THERMODYNAMICS="advanced_thermodynamics",e.ADVANCED_SPACE_CONSTRUCTION="advanced_space_construction",e.NEUTRINO_PHYSICS="neutrino_physics",e.QUARK_PHYSICS="quark_physics",e.LOW_TEMP_PHYSICS="low_temperature_physics",e.SPACE_ORGANICS="space_organics",e.NANO_BIOLOGY="nano_biology",e.CRYOGENICS="cryogenics",e.ADVANCED_NUCLEAR_RESEARCH="advanced_nuclear_research"}(O||(O={}));var m,L,T=[{id:a.POWER,name:"Power",unlockCondition:function(e){return!0},hasCapacityLimit:!0,valuability:4},{id:a.WATER,name:"Water",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.WATER_PUMPING)>0},hasCapacityLimit:!0,valuability:8},{id:a.NUTRITION,name:"Nutrition",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.SUPPLY_MODULE)>0},hasCapacityLimit:!0,valuability:4},{id:a.OXYGEN,name:"Oxygen",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.BACTERIA_SELECTION)>0},hasCapacityLimit:!0,valuability:8},{id:a.WOOD,name:"Wood",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.EXOFORESTRY)>0},hasCapacityLimit:!0,valuability:4},{id:a.STONE,name:"Stone",unlockCondition:function(e){return!0},hasCapacityLimit:!0,valuability:1},{id:a.ORE,name:"Ore",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.REPAIR_DRILL)>3},hasCapacityLimit:!0,valuability:1},{id:a.IRON,name:"Metal",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.METALLURGY)>0},hasCapacityLimit:!0,valuability:4},{id:a.PLATINUM,name:"Platinum",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.GEOLOGY)>0},hasCapacityLimit:!0,valuability:16},{id:a.BIOMASS,name:"Biomass",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.REPAIR_MANIPULATORS)>0},hasCapacityLimit:!0,valuability:2},{id:a.RESEARCH,name:"Research",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.RESEARCH_MODULE)>0},hasCapacityLimit:!0,valuability:4},{id:a.BEAM,name:"Beam",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.METALLURGY)>0},hasCapacityLimit:!1,isCraftable:!0,valuability:64},{id:a.BRICK,name:"Brick",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.METALLURGY)>0},hasCapacityLimit:!1,isCraftable:!0,valuability:64},{id:a.PLATE,name:"Plate",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.METALLURGY)>0},hasCapacityLimit:!1,isCraftable:!0,valuability:128},{id:a.FUEL,name:"Fuel",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.ROCKET_SCIENCE)>0},hasCapacityLimit:!1,isCraftable:!0,valuability:256},{id:a.RUBBER,name:"Rubber",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.ORGANIC_CHEMISTRY)>0},hasCapacityLimit:!1,isCraftable:!0,valuability:128},{id:a.PLASTICS,name:"Plastic",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.ORGANIC_CHEMISTRY)>0},hasCapacityLimit:!1,isCraftable:!0,valuability:128},{id:a.WIRE,name:"Wire",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.MATERIAL_KNOWLEDGE)>0},hasCapacityLimit:!1,isCraftable:!0,valuability:128},{id:a.SEMICONDUCTOR,name:"Semiconductor",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.ELECTRICITY_STUDY)>0},hasCapacityLimit:!1,isCraftable:!0,valuability:256},{id:a.COMPUTER,name:"Computer",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.COMPUTERS)>0},hasCapacityLimit:!1,isCraftable:!0,valuability:512},{id:a.ROCKET_ENGINE,name:"Rocket",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.ROCKET_SCIENCE)>0},hasCapacityLimit:!1,isCraftable:!0,valuability:1024},{id:a.GRAPHENE,name:"Graphene",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.GRAPHENE_SYNTHESIS)>0},hasCapacityLimit:!1,isCraftable:!0,valuability:2048},{id:a.MAGNETO,name:"Magneto",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.MAGNETIC_FIELD_GENERATOR)>0},hasCapacityLimit:!1,isCraftable:!0,valuability:4096},{id:a.KNOWLEDGE_POINT,name:"Knowledge Point",unlockCondition:function(e){return!0},hasCapacityLimit:!1,isHidden:!0,valuability:1096428},{id:a.COLONIZE_XP,name:"XP",unlockCondition:function(e){return!0},hasCapacityLimit:!1,isHidden:!0,valuability:1096428}];!function(e){e.QUARRYMAN="quarryman",e.MINER="miner",e.SCIENTIST="scientist",e.FARMER="farmer",e.FORESTER="forester",e.ARTISAN="artisan",e.POLICEMAN="policeman"}(m||(m={})),function(e){e.AESTHETICS="AESTHETICS",e.ENTERTAINMENT="ENTERTAINMENT",e.SECURITY="SECURITY",e.HEALTHCARE="HEALTHCARE",e.RELIGION="RELIGION",e.WORK_CONDITIONS="WORK_CONDITIONS"}(L||(L={}));var C=[{id:L.ENTERTAINMENT,name:"Entertainment",minimum:20,maximum:150,unlockCondition:function(e){return e.colony.maxColonists>=10},getConsumption:function(e){return Math.max(2*(e.colony.colonists-10)-4*e.prestige.transmitKnowledge.getUpgradeLevel(c.ENTERTAINMENT_CONSUMPTION),0)}},{id:L.HEALTHCARE,name:"Healthcare",minimum:20,maximum:150,unlockCondition:function(e){return e.colony.maxColonists>=10},getConsumption:function(e){return Math.max((2*(e.colony.colonists-10)-4*e.prestige.transmitKnowledge.getUpgradeLevel(c.HEALTH_CONSUMPTION))*Math.pow(.95,e.landingZone.landingZoneBuildings.getBuildingActiveLevel(i.PANDEMIC_RESEARCH_CENTER)),0)}},{id:L.AESTHETICS,name:"Aesthetics",minimum:20,maximum:150,unlockCondition:function(e){return e.colony.maxColonists>0},getConsumption:function(e){return Math.max(2*e.colony.colonists-4*e.prestige.transmitKnowledge.getUpgradeLevel(c.AESTHETICS_CONSUMPTION),0)}},{id:L.SECURITY,name:"Security",minimum:20,maximum:150,unlockCondition:function(e){return e.colony.maxColonists>=40||e.science.scienceResearches.getResearchLevel(O.PUBLIC_SERVICE)>0},getConsumption:function(e){return Math.max(2*(e.colony.colonists-40)-4*e.prestige.transmitKnowledge.getUpgradeLevel(c.SECURITY_CONSUMPTION),0)}},{id:L.RELIGION,name:"Religion",minimum:20,maximum:150,unlockCondition:function(e){return e.colony.maxColonists>=40},getConsumption:function(e){return Math.max(2*(e.colony.colonists-40)-4*e.prestige.transmitKnowledge.getUpgradeLevel(c.RELIGION_CONSUMPTION),0)}}],h=function(e){var t=T.find((function(t){return t.id===e}))||C.find((function(t){return t.id===e}));return t?t.unlockCondition(ju)?t.name:"???":e},S=function(){function t(){}return t.calculate=function(e,n,i,o){void 0===o&&(o=1);var r=n(e);return t.calculateFormulaBatch(r,i,o)},t.calculateFormula=function(n,i){switch(n.type){case e.EXPONENTIAL:return t.calculateExponential(n,i);case e.POLYNOMIAL:return t.calculatePolynomial(n,i);case e.LINEAR:return t.calculateLinear(n,i);default:return 0}},t.calculateExponential=function(e,t){return e.A*Math.pow(e.B,t)},t.calculatePolynomial=function(e,t){return e.A*Math.pow(t,e.B)},t.calculateLinear=function(e,t){return e.A*t+e.B},t.calculateFormulaBatch=function(n,i,o){switch(n.type){case e.EXPONENTIAL:return t.calculateExponentialBatch(n,i,o);case e.POLYNOMIAL:return t.calculatePolynomialBatch(n,i,o);case e.LINEAR:return t.calculateLinearBatch(n,i,o);default:return 0}},t.calculateExponentialBatch=function(e,t,n){return 1===e.B?e.A*n:e.A*Math.pow(e.B,t)*(Math.pow(e.B,n)-1)/(e.B-1)},t.calculatePolynomialBatch=function(e,t,n){return console.error("Polynomial batch is not implemented"),0},t.calculateLinearBatch=function(e,t,n){return e.A*n+e.B},t.calculateDX=function(e,n,i,o){var r=n(e);return t.calculateDXByFormula(r,i,o)},t.calculateDXByFormula=function(n,i,o){switch(n.type){case e.EXPONENTIAL:return t.calculateDXExponential(n,i,o);case e.POLYNOMIAL:return t.calculateDXPolynomial(n,i,o);case e.LINEAR:return t.calculateDXLinear(n,i,o);default:return 0}},t.calculateDXExponential=function(e,t,n){return 0===e.A?1e300:1===e.B?n/e.A:n?Math.log(n*(e.B-1)/(e.A*Math.pow(e.B,t))+1)/Math.log(e.B):0},t.calculateDXPolynomial=function(e,t,n){return console.error("Polynomial dX is not implemented"),0},t.calculateDXLinear=function(e,t,n){return(n-e.B)/e.A},t.calcBatch=function(e,n,i,o){void 0===o&&(o=1);var r=[];return Object.entries(e).forEach((function(e){var a=e[0],c=e[1];r.push({id:a,name:h(a),amount:t.calculate(n,c,i,o)})})),r},t.calcDXBatch=function(e,n,i,o){var r={};return Object.entries(e).forEach((function(e){var a=e[0],c=e[1];r[a]=t.calculateDX(n,c,i,o[a])})),r},t.calcBatchAll=function(e,n,i,o,r){void 0===r&&(r=1);var a=[];return Object.entries(e).forEach((function(e){var c=e[0],s=e[1],u=t.calculateDX(n,s,i,o[c]),l=t.calculate(n,s,i,r),p=0,E=!1;if(u<1){var d=n.resources.getResourceCap(c);d&&d<l&&(E=!0),p=d&&d<l||n.resources.getResourceBalance(c)<0&&l-(o[c]||0)>0?1e300:(l-(o[c]||0))/(n.resources.getResourceBalance(c)||1e-300)}a.push({id:c,name:h(c),amount:l,max:u,eta:p,isBlocked:E})})),a},t.getValue=function(e,t){var n=[];return Object.entries(e).forEach((function(e){var i=e[0],o=e[1];n.push({id:i,name:h(i),amount:o(t)})})),n},t}();function v(e){if(e>1e12)return"Never";if(!e||e<0)return"00:00:00";e=Number(e);var t=Math.floor(e/3600),n=Math.floor(e%3600/60),i=Math.floor(e%3600%60);return(t>9?"".concat(t,":"):"0".concat(t,":"))+(n>9?"".concat(n,":"):"0".concat(n,":"))+(i>9?"".concat(i):"0".concat(i))}function P(e,t,n){if(void 0===t&&(t=3),void 0===n&&(n=12),Math.abs(e)>Math.pow(10,n))return e.toExponential(t);if(Math.abs(e)<1e-4)return"0.00";if(Math.abs(e)<1)return e.toFixed(t);var i=Math.abs(e),o=Math.log10(i),r=Math.floor(o/3),a=i/Math.pow(10,3*r),c="";switch(r){case 1:c="K";break;case 2:c="M";break;case 3:c="B";break;case 4:c="T";break;default:c=""}return"".concat((Math.sign(e)*a).toPrecision(t)).concat(c)}var B,_,M,U,G,b,w,X,D,H,x,k,Y,Z,W,F,V,j,K,q,z,Q,J,$,ee,te,ne,ie,oe,re,ae,ce,se,ue,le,pe,Ee,de,ge,Ae,fe,Re,Ie,Ne,Oe,ye,me,Le,Te,Ce,he,Se,ve,Pe,Be,_e,Me,Ue,Ge,be,we,Xe,De,He,xe,ke,Ye,Ze,We,Fe,Ve,je,Ke,qe,ze,Qe,Je,$e,et,tt,nt,it,ot,rt,at,ct,st,ut,lt,pt,Et,dt,gt,At,ft,Rt,It,Nt,Ot,yt,mt,Lt,Tt,Ct,ht,St,vt,Pt,Bt,_t,Mt,Ut,Gt,bt,wt,Xt,Dt,Ht,xt,kt,Yt,Zt,Wt,Ft,Vt,jt,Kt,qt,zt,Qt,Jt,$t,en,tn,nn,on,rn,an,cn,sn,un,ln,pn,En,dn,gn,An,fn,Rn,In,Nn,On,yn,mn,Ln,Tn,Cn,hn,Sn,vn,Pn,Bn,_n,Mn,Un,Gn,bn,wn,Xn,Dn,Hn,xn,kn,Yn,Zn,Wn,Fn,Vn,jn,Kn,qn,zn,Qn,Jn,$n,ei,ti,ni,ii,oi,ri,ai,ci,si,ui,li,pi,Ei,di,gi,Ai,fi,Ri,Ii,Ni,Oi,yi,mi,Li,Ti,Ci,hi,Si,vi,Pi,Bi,_i,Mi,Ui,Gi,bi,wi,Xi,Di,Hi,xi,ki,Yi,Zi,Wi,Fi,Vi,ji,Ki,qi,zi,Qi,Ji,$i,eo,to,no,io,oo,ro,ao,co,so,uo,lo,po,Eo,go,Ao,fo,Ro,Io,No,Oo,yo,mo,Lo,To,Co,ho,So,vo,Po,Bo,_o,Mo,Uo,Go,bo,wo,Xo,Do,Ho,xo,ko,Yo,Zo,Wo,Fo,Vo,jo,Ko,qo,zo,Qo,Jo,$o,er,tr,nr,ir,or,rr,ar,cr,sr,ur,lr,pr,Er,dr,gr,Ar,fr,Rr,Ir,Nr,Or,yr,mr,Lr,Tr,Cr=(B=function(e,t){return B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},B(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}B(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),hr=function(){return hr=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},hr.apply(this,arguments)},Sr=function(e){function t(){var t=e.call(this)||this;return t.actions=[],t.workDispatcher.on("[landing-zone] do action",(function(e){console.log("do action",e),t.doAction(e.id)})),t}return Cr(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.actions=e},t.prototype.exportData=function(){return this.actions},t.prototype.dataToUI=function(){var e=this;return{list:y.map((function(t){return e.processToUI(t)}))}},t.prototype.processToUI=function(e){var t=this.actions.find((function(t){return t.id===e.id}));t||(t={id:e.id,cooldown:0,progress:0,performed:0},this.actions.push(t));var n=S.calcBatchAll(e.getCost,Vu.getInstance(),0,Vu.getInstance().resources.getBatchObject()),i=S.calcBatch(e.getGain,Vu.getInstance(),0),o=n.reduce((function(e,t){return Math.min(e,Math.floor(t.max))}),1e300),r=n.reduce((function(e,t){return e&&!t.isBlocked}),!0),a=n.reduce((function(e,t){return Math.max(e,t.eta)}),0),c=e.unlockCondition(ju);return c&&ju.newNotifications.registerNotification("planet:landing-zone:actions:".concat(e.id)),{id:e.id,name:e.name,description:e.description,isUnlocked:c,isAvailable:e.availableCondition(ju)&&o>=1,cost:Vu.getInstance().resources.assertEnought(n,Vu.getInstance().resources.getBatchObject(),Vu.getInstance().resources.getBatchBalanceObject()),gain:i.map((function(e){return hr(hr({},e),{amountValue:e.amount,amount:P(e.amount)})})),progress:(t.cooldown?100*t.progress/t.cooldown:100).toPrecision(3),isBlocked:!r,etaNum:a}},t.prototype.doAction=function(e){var t=y.find((function(t){return t.id===e}));if(t){var n=this.actions.findIndex((function(t){return t.id===e}));if(n<0)n=this.actions.length,this.actions.push({id:e,cooldown:0,progress:0,performed:0});else if(this.actions[n].cooldown>0)return;var i=S.calcBatchAll(t.getCost,Vu.getInstance(),0,Vu.getInstance().resources.getBatchObject());i.reduce((function(e,t){return Math.min(e,Math.floor(t.max))}),1e300)<1||(this.actions[n].cooldown=1.5,this.actions[n].performed++,console.log("costs: ",i),Vu.getInstance().resources.subtractResourceBatch(i),ju.resources.reassertBalances())}},t.prototype.getActionPerformed=function(e){var t;return(null===(t=this.actions.find((function(t){return t.id===e})))||void 0===t?void 0:t.performed)||0},t.prototype.process=function(e){this.actions.forEach((function(t,n){if(t.cooldown&&(t.progress+=e,t.progress>=t.cooldown)){t.cooldown=0,t.progress=0;var i=y.find((function(e){return t.id===e.id}));if(!i)return;var o=S.calcBatch(i.getGain,Vu.getInstance(),0);console.log("gain: ",o,ju.resources.resourcesStatus),o.forEach((function(e){ju.resources.addResource(e.id,e.amount)})),ju.resources.reassertBalances()}}))},t.prototype.reset=function(){this.actions=[]},t}(N),vr=Sr.getInstance(),Pr=[{id:n.REPAIR_DRILL,name:"Repair Drill",description:"Allows drilling harder materials. Also improves stone output",unlockCondition:function(e){return!0},getCost:(_={},_[a.POWER]=function(t){return{A:2,B:1.3,type:e.EXPONENTIAL}},_[a.STONE]=function(t){return{A:.5,B:1.3,type:e.EXPONENTIAL}},_),maxLevel:8},{id:n.REPAIR_CABLE,name:"Repair Charging Cable",description:"Improves power output",unlockCondition:function(e){return e.landingZone.landingZoneActions.getActionPerformed(t.DRILL_ORE)>0},getCost:(M={},M[a.POWER]=function(t){return{A:3,B:1.3,type:e.EXPONENTIAL}},M[a.ORE]=function(t){return{A:1,B:1.3,type:e.EXPONENTIAL}},M),maxLevel:5},{id:n.REPAIR_MANIPULATORS,name:"Repair Manipulators",description:"Allows digging and picking more materials",unlockCondition:function(e){return e.landingZone.landingZoneActions.getActionPerformed(t.DRILL_ORE)>0},getCost:(U={},U[a.POWER]=function(t){return{A:5,B:1.3,type:e.EXPONENTIAL}},U[a.ORE]=function(t){return{A:2,B:1.3,type:e.EXPONENTIAL}},U),maxLevel:5},{id:n.AUTO_QUARRYING,name:"Auto-quarrying",description:"Allows building quarries that gather stone automatically",unlockCondition:function(e){return e.landingZone.landingZoneActions.getActionPerformed(t.DRILL_ORE)>0},getCost:(G={},G[a.POWER]=function(t){return{A:8,B:1.3,type:e.EXPONENTIAL}},G[a.ORE]=function(t){return{A:4,B:1.3,type:e.EXPONENTIAL}},G),maxLevel:1},{id:n.REPAIR_MACHINERY,name:"Repair Machinery",description:"Repair mining machinery. Improves your automatic quarries and mines by 50%",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.AUTO_QUARRYING)>0},getCost:(b={},b[a.POWER]=function(t){return{A:8,B:1.5,type:e.EXPONENTIAL}},b[a.ORE]=function(t){return{A:5,B:1.5,type:e.EXPONENTIAL}},b),maxLevel:4},{id:n.AUTO_MINERS,name:"Auto-miners",description:"Allows building mines that gather ore automatically",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.REPAIR_MACHINERY)>0},getCost:(w={},w[a.POWER]=function(t){return{A:8,B:1.3,type:e.EXPONENTIAL}},w[a.ORE]=function(t){return{A:4,B:1.3,type:e.EXPONENTIAL}},w),maxLevel:1},{id:n.COMBUSTION,name:"Combustion",description:"Allows producing electrical power by burning biomass",unlockCondition:function(e){return e.landingZone.landingZoneActions.getActionPerformed(t.COLLECT_BIOMASS)>0},getCost:(X={},X[a.POWER]=function(t){return{A:12,B:1.3,type:e.EXPONENTIAL}},X[a.BIOMASS]=function(t){return{A:6,B:1.3,type:e.EXPONENTIAL}},X),maxLevel:1},{id:n.REPAIR_STORAGE_MODULE,name:"Repair Storage Module",description:"Repair the storage module. Allows building storage sections",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.REPAIR_MANIPULATORS)>2},getCost:(D={},D[a.POWER]=function(t){return{A:8,B:1.5,type:e.EXPONENTIAL}},D[a.ORE]=function(t){return{A:5,B:1.5,type:e.EXPONENTIAL}},D),maxLevel:1},{id:n.REPAIR_BATTERY,name:"Repair Battery",description:"Improves power storage by +20",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.REPAIR_MANIPULATORS)>4&&e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.REPAIR_STORAGE_MODULE)>0},getCost:(H={},H[a.POWER]=function(t){return{A:15,B:1.5,type:e.EXPONENTIAL}},H[a.ORE]=function(t){return{A:15,B:1.5,type:e.EXPONENTIAL}},H),getCapacityEffect:(x={},x[a.POWER]=function(t){return{A:20,B:0,type:e.LINEAR}},x),maxLevel:3},{id:n.COMBUSTION_CAMERA,name:"Combustion Chambers",description:"Extra combustion chambers decrease biomass consumption of thermoelectric power plants by 25%",unlockCondition:function(e){return e.landingZone.landingZoneBuildings.getBuildingLevel(i.THERMOELECTRIC_STATION)>0&&e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.REPAIR_STORAGE_MODULE)>0},getCost:(k={},k[a.POWER]=function(t){return{A:12,B:1.5,type:e.EXPONENTIAL}},k[a.STONE]=function(t){return{A:18,B:1.5,type:e.EXPONENTIAL}},k),maxLevel:1},{id:n.QUARRY_TECH,name:"Improved Quarry",description:"Modify conveyor belts of your quarries to increases their output by 25%",unlockCondition:function(e){return e.landingZone.landingZoneBuildings.getBuildingLevel(i.QUARRY)>4},getCost:(Y={},Y[a.STONE]=function(t){return{A:50,B:1.5,type:e.EXPONENTIAL}},Y[a.ORE]=function(t){return{A:12,B:1.5,type:e.EXPONENTIAL}},Y),maxLevel:1},{id:n.MINE_TECH,name:"Improved Mine",description:"Modify conveyor belts of your mines to increases their output by 25%",unlockCondition:function(e){return e.landingZone.landingZoneBuildings.getBuildingLevel(i.MINE)>4},getCost:(Z={},Z[a.ORE]=function(t){return{A:50,B:1.5,type:e.EXPONENTIAL}},Z[a.POWER]=function(t){return{A:12,B:1.5,type:e.EXPONENTIAL}},Z),maxLevel:1},{id:n.THERMAL_TECH,name:"Improved Combustion",description:"Regulate the flow of raw materials to stabilize the combustion process. Increases thermal plant output by 25%",unlockCondition:function(e){return e.landingZone.landingZoneBuildings.getBuildingLevel(i.THERMOELECTRIC_STATION)>4},getCost:(W={},W[a.POWER]=function(t){return{A:50,B:1.5,type:e.EXPONENTIAL}},W[a.BIOMASS]=function(t){return{A:12,B:1.5,type:e.EXPONENTIAL}},W),maxLevel:1},{id:n.BIO_TECH,name:"Improved Bio Technology",description:"Create a better environment for biological growth. Increases incubators output by 25%",unlockCondition:function(e){return e.landingZone.landingZoneBuildings.getBuildingLevel(i.BACTERIA_INCUBATOR)>4},getCost:(F={},F[a.BIOMASS]=function(t){return{A:50,B:1.5,type:e.EXPONENTIAL}},F[a.STONE]=function(t){return{A:12,B:1.5,type:e.EXPONENTIAL}},F),maxLevel:1},{id:n.STORAGE_TECH,name:"Improved Storage",description:"Increases stone, ore and biomass storage from storage sections and hubs by 25%",unlockCondition:function(e){return e.landingZone.landingZoneBuildings.getBuildingLevel(i.STORAGE)>4},getCost:(V={},V[a.STONE]=function(t){return{A:120,B:1.5,type:e.EXPONENTIAL}},V[a.ORE]=function(t){return{A:120,B:1.5,type:e.EXPONENTIAL}},V),getCapacityMultiplier:(j={},j[a.STONE]=function(t){return{A:1,B:1.25,type:e.EXPONENTIAL}},j[a.ORE]=function(t){return{A:1,B:1.25,type:e.EXPONENTIAL}},j[a.BIOMASS]=function(t){return{A:1,B:1.25,type:e.EXPONENTIAL}},j),maxLevel:1},{id:n.BACTERIA_SELECTION,name:"Bacteria Selection",description:"Create and cultivate a more complex bio-form. Increases electricity consumption by incubators, but incubators start producing oxygen",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.BIO_TECH)>0},getCost:(K={},K[a.POWER]=function(t){return{A:80,B:1.5,type:e.EXPONENTIAL}},K[a.BIOMASS]=function(t){return{A:90,B:1.5,type:e.EXPONENTIAL}},K),maxLevel:1},{id:n.THERMAL_TECH2,name:"Improved Thermal Plants",description:"Modify the delivery mechanism to work at higher speeds. Increases thermal plant output by 25%",unlockCondition:function(e){return e.landingZone.landingZoneBuildings.getBuildingLevel(i.THERMOELECTRIC_STATION)>9},getCost:(q={},q[a.POWER]=function(t){return{A:50,B:1.5,type:e.EXPONENTIAL}},q[a.BIOMASS]=function(t){return{A:12,B:1.5,type:e.EXPONENTIAL}},q),maxLevel:1},{id:n.OXYGEN_CAMERAS,name:"Oxidize Combustion Chambers",description:"Add oxygen to maintain a stronger pressure. Thermal plants are 50% more efficient, but now require oxygen",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.BACTERIA_SELECTION)>0},getCost:(z={},z[a.POWER]=function(t){return{A:50,B:1.5,type:e.EXPONENTIAL}},z[a.OXYGEN]=function(t){return{A:8,B:1.5,type:e.EXPONENTIAL}},z),maxLevel:1},{id:n.OXYGEN_COMPRESSORS,name:"Oxygen Compressors",description:"Allows building oxygen compressors to store more oxygen",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.BACTERIA_SELECTION)>0},getCost:(Q={},Q[a.POWER]=function(t){return{A:65,B:1.5,type:e.EXPONENTIAL}},Q[a.ORE]=function(t){return{A:165,B:1.5,type:e.EXPONENTIAL}},Q[a.OXYGEN]=function(t){return{A:10,B:1.5,type:e.EXPONENTIAL}},Q),maxLevel:1},{id:n.RESERVE_BATTERIES,name:"Reserve Batteries",description:"Thermoelectric plants now also provide small power storage",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.OXYGEN_CAMERAS)>0},getCost:(J={},J[a.POWER]=function(t){return{A:75,B:1.5,type:e.EXPONENTIAL}},J[a.OXYGEN]=function(t){return{A:10,B:1.5,type:e.EXPONENTIAL}},J[a.ORE]=function(t){return{A:125,B:1.5,type:e.EXPONENTIAL}},J),maxLevel:1},{id:n.WATER_PUMPING,name:"Water Pumping",description:"Perform a geological survey to find deposits of underground water. Allows building water pumps",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.OXYGEN_CAMERAS)>0},getCost:($={},$[a.POWER]=function(t){return{A:75,B:1.5,type:e.EXPONENTIAL}},$[a.STONE]=function(t){return{A:165,B:1.5,type:e.EXPONENTIAL}},$[a.ORE]=function(t){return{A:175,B:1.5,type:e.EXPONENTIAL}},$),maxLevel:1},{id:n.ELECTROLITES,name:"Electrolytes",description:"Allows building extra batteries to store power. Also, improves power output by 20%",unlockCondition:function(e){return e.landingZone.landingZoneBuildings.getBuildingLevel(i.WATER_PUMP)>0},getCost:(ee={},ee[a.POWER]=function(t){return{A:125,B:1.5,type:e.EXPONENTIAL}},ee[a.WATER]=function(t){return{A:25,B:1.5,type:e.EXPONENTIAL}},ee[a.ORE]=function(t){return{A:225,B:1.5,type:e.EXPONENTIAL}},ee),getGain:{},getGainMultiplier:(te={},te[a.POWER]=function(t){return{A:1,B:1.2,type:e.EXPONENTIAL}},te),getCapacityEffect:(ne={},ne[a.POWER]=function(t){return{A:40,B:0,type:e.LINEAR}},ne),maxLevel:1},{id:n.SUPPLY_MODULE,name:"Repair Supply Module",description:"Repair the supply module to start generating a trace amount of nutrition",unlockCondition:function(e){return e.landingZone.landingZoneBuildings.getBuildingLevel(i.WATER_PUMP)>0&&e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.ELECTROLITES)>0},getCost:(ie={},ie[a.POWER]=function(t){return{A:275,B:1.5,type:e.EXPONENTIAL}},ie[a.WATER]=function(t){return{A:40,B:1.5,type:e.EXPONENTIAL}},ie[a.ORE]=function(t){return{A:275,B:1.5,type:e.EXPONENTIAL}},ie),getGain:(oe={},oe[a.NUTRITION]=function(t){return{A:.2,B:0,type:e.LINEAR}},oe),getCapacityEffect:(re={},re[a.NUTRITION]=function(t){return{A:40,B:0,type:e.LINEAR}},re),maxLevel:1},{id:n.DOCKING_MODULE,name:"Repair Docking Module",description:"Enables colonists arrival",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.SUPPLY_MODULE)>0},getCost:(ae={},ae[a.POWER]=function(t){return{A:275,B:1.5,type:e.EXPONENTIAL}},ae[a.WATER]=function(t){return{A:40,B:1.5,type:e.EXPONENTIAL}},ae[a.ORE]=function(t){return{A:360,B:1.5,type:e.EXPONENTIAL}},ae),getGain:{},getCapacityEffect:{},maxLevel:1},{id:n.RESEARCH_MODULE,name:"Repair Research Module",description:"Repair the research module to allow colonists to work as researchers and produce research",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.DOCKING_MODULE)>0},getCost:(ce={},ce[a.POWER]=function(t){return{A:275,B:1.5,type:e.EXPONENTIAL}},ce[a.WATER]=function(t){return{A:40,B:1.5,type:e.EXPONENTIAL}},ce[a.OXYGEN]=function(t){return{A:40,B:1.5,type:e.EXPONENTIAL}},ce),getGain:{},getCapacityEffect:(se={},se[a.RESEARCH]=function(t){return{A:100,B:0,type:e.LINEAR}},se),maxLevel:1},{id:n.CARGO_SORTING,name:"Cargo Sorting",description:"Repairs sorting machinery. Gives 75% bonus to stone, ore and biomass storage",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.DOCKING_MODULE)>0},getCost:(ue={},ue[a.POWER]=function(t){return{A:275,B:1.5,type:e.EXPONENTIAL}},ue[a.STONE]=function(t){return{A:340,B:1.5,type:e.EXPONENTIAL}},ue[a.ORE]=function(t){return{A:340,B:1.5,type:e.EXPONENTIAL}},ue),getGain:{},getCapacityMultiplier:(le={},le[a.STONE]=function(t){return{A:1,B:1.75,type:e.EXPONENTIAL}},le[a.ORE]=function(t){return{A:1,B:1.75,type:e.EXPONENTIAL}},le[a.BIOMASS]=function(t){return{A:1,B:1.75,type:e.EXPONENTIAL}},le),maxLevel:1},{id:n.FARMING_TOOLS,name:"Farming Tools",description:"Provide some basic tools to your farmers. Improves farming output by 10%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.EXOFARMING)>0},getCost:(pe={},pe[a.POWER]=function(t){return{A:300,B:1.5,type:e.EXPONENTIAL}},pe[a.RESEARCH]=function(t){return{A:35,B:1.5,type:e.EXPONENTIAL}},pe[a.ORE]=function(t){return{A:400,B:1.5,type:e.EXPONENTIAL}},pe),getGain:{},getGainMultiplier:(Ee={},Ee[a.NUTRITION]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Ee),maxLevel:3},{id:n.DEEP_MINING,name:"Deep Mining",description:"Expand your mining shaft network. Improves stone and ore output by 20%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.MINERALOGY)>0},getCost:(de={},de[a.POWER]=function(t){return{A:300,B:1.5,type:e.EXPONENTIAL}},de[a.RESEARCH]=function(t){return{A:45,B:1.5,type:e.EXPONENTIAL}},de[a.ORE]=function(t){return{A:450,B:1.5,type:e.EXPONENTIAL}},de),getGain:{},getGainMultiplier:(ge={},ge[a.ORE]=function(t){return{A:1,B:1.2,type:e.EXPONENTIAL}},ge[a.STONE]=function(t){return{A:1,B:1.2,type:e.EXPONENTIAL}},ge),maxLevel:3},{id:n.UNDERGROUND_VAULTS,name:"Underground Vaults",description:"Dig an underground storage for your basic materials, which increases storage facilities by 50%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.MINERALOGY)>0},getCost:(Ae={},Ae[a.POWER]=function(t){return{A:250,B:1.75,type:e.EXPONENTIAL}},Ae[a.RESEARCH]=function(t){return{A:25,B:1.75,type:e.EXPONENTIAL}},Ae[a.ORE]=function(t){return{A:550,B:1.75,type:e.EXPONENTIAL}},Ae),getGain:{},getCapacityMultiplier:(fe={},fe[a.STONE]=function(t){return{A:1,B:1.5,type:e.EXPONENTIAL}},fe[a.ORE]=function(t){return{A:1,B:1.5,type:e.EXPONENTIAL}},fe[a.BIOMASS]=function(t){return{A:1,B:1.5,type:e.EXPONENTIAL}},fe[a.WOOD]=function(t){return{A:1,B:1.5,type:e.EXPONENTIAL}},fe[a.IRON]=function(t){return{A:1,B:1.5,type:e.EXPONENTIAL}},fe[a.PLATINUM]=function(t){return{A:1,B:1.5,type:e.EXPONENTIAL}},fe),maxLevel:3},{id:n.CARGO_CRANES,name:"Cargo Cranes",description:"Add cargo cranes to help with sorting. Further improves your storage facilities by 50%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.ENGINEERING)>0},getCost:(Re={},Re[a.POWER]=function(t){return{A:250,B:1.75,type:e.EXPONENTIAL}},Re[a.RESEARCH]=function(t){return{A:35,B:1.75,type:e.EXPONENTIAL}},Re[a.ORE]=function(t){return{A:550,B:1.75,type:e.EXPONENTIAL}},Re),getGain:{},getCapacityMultiplier:(Ie={},Ie[a.STONE]=function(t){return{A:1,B:1.5,type:e.EXPONENTIAL}},Ie[a.ORE]=function(t){return{A:1,B:1.5,type:e.EXPONENTIAL}},Ie),maxLevel:1},{id:n.CRANES,name:"Building Cranes",description:"Assemble giant cranes to help constructing new buildings. Decreases price scaling of buildings by 10%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.ENGINEERING)>0},getCost:(Ne={},Ne[a.POWER]=function(t){return{A:350,B:1.75,type:e.EXPONENTIAL}},Ne[a.RESEARCH]=function(t){return{A:35,B:1.75,type:e.EXPONENTIAL}},Ne[a.ORE]=function(t){return{A:550,B:1.75,type:e.EXPONENTIAL}},Ne),getGain:{},getCapacityMultiplier:{},maxLevel:1},{id:n.WATER_DRILLING,name:"Water Deposits",description:"Survey deeper layers to find underground water deposits. Improves water production by 20%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.MINERALOGY)>0},getCost:(Oe={},Oe[a.POWER]=function(t){return{A:300,B:1.5,type:e.EXPONENTIAL}},Oe[a.RESEARCH]=function(t){return{A:45,B:1.5,type:e.EXPONENTIAL}},Oe[a.ORE]=function(t){return{A:450,B:1.5,type:e.EXPONENTIAL}},Oe),getGain:{},getGainMultiplier:(ye={},ye[a.WATER]=function(t){return{A:1,B:1.2,type:e.EXPONENTIAL}},ye),maxLevel:3},{id:n.FLAMMABILITY,name:"Flammable Biomass",description:"Cultivate a special flammable biomass that produces more heat when burnt, increasing power generation from your thermal plants by 50%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.EXOBIOLOGY)>0},getCost:(me={},me[a.POWER]=function(t){return{A:370,B:1.5,type:e.EXPONENTIAL}},me[a.RESEARCH]=function(t){return{A:95,B:1.5,type:e.EXPONENTIAL}},me[a.BIOMASS]=function(t){return{A:325,B:1.5,type:e.EXPONENTIAL}},me),getGain:{},getGainMultiplier:{},maxLevel:1},{id:n.FLORA,name:"Nutritious Flora",description:"Plant some special flora in your incubators that increases bacterial growth when decomposing. Makes incubators 50% more productive",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.EXOBIOLOGY)>0},getCost:(Le={},Le[a.POWER]=function(t){return{A:600,B:1.5,type:e.EXPONENTIAL}},Le[a.RESEARCH]=function(t){return{A:195,B:1.5,type:e.EXPONENTIAL}},Le[a.BIOMASS]=function(t){return{A:525,B:1.5,type:e.EXPONENTIAL}},Le),getGain:{},getGainMultiplier:{},maxLevel:1},{id:n.FERTILIZING,name:"Fertilizing",description:"Start adding fertilizers to the soil. Your farmers will start using 0.1 biomass each, but it will increase their nutrition output by 30%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.EXOBIOLOGY)>0},getCost:(Te={},Te[a.POWER]=function(t){return{A:800,B:1.5,type:e.EXPONENTIAL}},Te[a.RESEARCH]=function(t){return{A:245,B:1.5,type:e.EXPONENTIAL}},Te[a.BIOMASS]=function(t){return{A:1225,B:1.5,type:e.EXPONENTIAL}},Te),getGain:{},getGainMultiplier:{},maxLevel:1},{id:n.FORESTER_TOOLS,name:"Forester Tools",description:"Create new tools for your foresters to increases wood output by 25%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.EXOFORESTRY)>0},getCost:(Ce={},Ce[a.POWER]=function(t){return{A:800,B:1.5,type:e.EXPONENTIAL}},Ce[a.RESEARCH]=function(t){return{A:200,B:1.5,type:e.EXPONENTIAL}},Ce[a.WOOD]=function(t){return{A:30,B:1.5,type:e.EXPONENTIAL}},Ce),getGain:{},getGainMultiplier:(he={},he[a.WOOD]=function(t){return{A:1,B:1.25,type:e.EXPONENTIAL}},he),maxLevel:1},{id:n.BROADLEAVED,name:"Broad-Leaved Forests",description:"Start planting trees with broad leaves. Forests plants generate oxygen",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.EXOFORESTRY)>0},getCost:(Se={},Se[a.POWER]=function(t){return{A:880,B:1.5,type:e.EXPONENTIAL}},Se[a.RESEARCH]=function(t){return{A:250,B:1.5,type:e.EXPONENTIAL}},Se[a.WOOD]=function(t){return{A:50,B:1.5,type:e.EXPONENTIAL}},Se),getGain:{},getGainMultiplier:{},maxLevel:1},{id:n.WOODEN_FURNITURE,name:"Wooden Furniture",description:"Using wooden furniture allows housing an extra colonist in every cabin",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.EXOFORESTRY)>0},getCost:(ve={},ve[a.POWER]=function(t){return{A:500,B:1.5,type:e.EXPONENTIAL}},ve[a.RESEARCH]=function(t){return{A:250,B:1.5,type:e.EXPONENTIAL}},ve[a.WOOD]=function(t){return{A:250,B:1.5,type:e.EXPONENTIAL}},ve),getGain:{},getGainMultiplier:{},maxLevel:1},{id:n.IRON_TOOLS,name:"Metal Tools",description:"Create metal tools to improve wood output of foresters by 50%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.EXOFORESTRY)>0&&e.science.scienceResearches.getResearchLevel(O.METALLURGY)>0},getCost:(Pe={},Pe[a.IRON]=function(t){return{A:25,B:1.5,type:e.EXPONENTIAL}},Pe[a.RESEARCH]=function(t){return{A:250,B:1.5,type:e.EXPONENTIAL}},Pe[a.WOOD]=function(t){return{A:250,B:1.5,type:e.EXPONENTIAL}},Pe),getGain:{},getGainMultiplier:(Be={},Be[a.WOOD]=function(t){return{A:1,B:1.5,type:e.EXPONENTIAL}},Be),maxLevel:1},{id:n.IRON_PARTS,name:"Metal Machine Parts",description:"Replace old parts with metal, which improves stone and ore output by 50%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.METALLURGY)>0},getCost:(_e={},_e[a.IRON]=function(t){return{A:75,B:1.5,type:e.EXPONENTIAL}},_e[a.RESEARCH]=function(t){return{A:275,B:1.5,type:e.EXPONENTIAL}},_e[a.WOOD]=function(t){return{A:50,B:1.5,type:e.EXPONENTIAL}},_e),getGain:{},getGainMultiplier:(Me={},Me[a.STONE]=function(t){return{A:1,B:1.5,type:e.EXPONENTIAL}},Me[a.ORE]=function(t){return{A:1,B:1.5,type:e.EXPONENTIAL}},Me),maxLevel:1},{id:n.IRON_CONTAINERS,name:"Metal containers",description:"Use local-sourced metal to improve storage containers. Improves all resources storages by 50%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.METALLURGY)>0},getCost:(Ue={},Ue[a.IRON]=function(t){return{A:75,B:1.5,type:e.EXPONENTIAL}},Ue[a.RESEARCH]=function(t){return{A:175,B:1.5,type:e.EXPONENTIAL}},Ue[a.WOOD]=function(t){return{A:50,B:1.5,type:e.EXPONENTIAL}},Ue),getGain:{},getCapacityMultiplier:(Ge={},Ge[a.STONE]=function(t){return{A:1,B:1.5,type:e.EXPONENTIAL}},Ge[a.ORE]=function(t){return{A:1,B:1.5,type:e.EXPONENTIAL}},Ge[a.BIOMASS]=function(t){return{A:1,B:1.5,type:e.EXPONENTIAL}},Ge[a.WOOD]=function(t){return{A:1,B:1.5,type:e.EXPONENTIAL}},Ge[a.IRON]=function(t){return{A:1,B:1.5,type:e.EXPONENTIAL}},Ge[a.WATER]=function(t){return{A:1,B:1.5,type:e.EXPONENTIAL}},Ge[a.OXYGEN]=function(t){return{A:1,B:1.5,type:e.EXPONENTIAL}},Ge[a.PLATINUM]=function(t){return{A:1,B:1.5,type:e.EXPONENTIAL}},Ge),maxLevel:1},{id:n.IMPROVED_WIRES,name:"Better cables",description:"Use more conductive materials in your wiring. Improves power capacity by 75% and output by 25%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.METALLURGY)>0},getCost:(be={},be[a.IRON]=function(t){return{A:50,B:1.5,type:e.EXPONENTIAL}},be[a.RESEARCH]=function(t){return{A:375,B:1.5,type:e.EXPONENTIAL}},be[a.POWER]=function(t){return{A:500,B:1.5,type:e.EXPONENTIAL}},be),getGain:{},getGainMultiplier:(we={},we[a.POWER]=function(t){return{A:1,B:1.25,type:e.EXPONENTIAL}},we),getCapacityMultiplier:(Xe={},Xe[a.POWER]=function(t){return{A:1,B:1.75,type:e.EXPONENTIAL}},Xe),maxLevel:1},{id:n.TREE_CARE,name:"Rangers",description:"Teach your foresters better conservation methods. Improves foresters output by 25%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.FLORA_RESEARCH)>0},getCost:(De={},De[a.WATER]=function(t){return{A:150,B:1.5,type:e.EXPONENTIAL}},De[a.RESEARCH]=function(t){return{A:375,B:1.5,type:e.EXPONENTIAL}},De[a.POWER]=function(t){return{A:500,B:1.5,type:e.EXPONENTIAL}},De),getGain:{},getGainMultiplier:(He={},He[a.WOOD]=function(t){return{A:1,B:1.25,type:e.EXPONENTIAL}},He),getCapacityMultiplier:{},maxLevel:3},{id:n.FRUIT_TREES,name:"Fruit Trees",description:"Plant fruit trees in your forests. Forest plants now also provide nutrition",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.FLORA_RESEARCH)>0&&e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.BROADLEAVED)>0},getCost:(xe={},xe[a.WATER]=function(t){return{A:150,B:1.5,type:e.EXPONENTIAL}},xe[a.RESEARCH]=function(t){return{A:325,B:1.5,type:e.EXPONENTIAL}},xe[a.POWER]=function(t){return{A:600,B:1.5,type:e.EXPONENTIAL}},xe),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.NATURAL_ENVIRONMENT,name:"Natural Environment",description:"Forest ecosystem is favourable for plant growth. Forest plants now boost biomass production by 2% each",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.FLORA_RESEARCH)>0},getCost:(ke={},ke[a.WATER]=function(t){return{A:250,B:1.5,type:e.EXPONENTIAL}},ke[a.RESEARCH]=function(t){return{A:475,B:1.5,type:e.EXPONENTIAL}},ke[a.BIOMASS]=function(t){return{A:2500,B:1.5,type:e.EXPONENTIAL}},ke),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.WATER_FILTERING,name:"Advanced Water Filtering",description:"Better filtration methods allow reusing more water. Improves water output by 25%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.CHEMISTRY)>0},getCost:(Ye={},Ye[a.OXYGEN]=function(t){return{A:125,B:1.5,type:e.EXPONENTIAL}},Ye[a.RESEARCH]=function(t){return{A:225,B:1.5,type:e.EXPONENTIAL}},Ye[a.POWER]=function(t){return{A:900,B:1.5,type:e.EXPONENTIAL}},Ye),getGain:{},getGainMultiplier:(Ze={},Ze[a.WATER]=function(t){return{A:1,B:1.25,type:e.EXPONENTIAL}},Ze),getCapacityMultiplier:{},maxLevel:3},{id:n.CHEMICAL_ANALYSIS,name:"Chemical Analysis",description:"Study chemical reactions. Improves science output by 25%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.CHEMISTRY)>0},getCost:(We={},We[a.WATER]=function(t){return{A:125,B:1.5,type:e.EXPONENTIAL}},We[a.RESEARCH]=function(t){return{A:300,B:1.5,type:e.EXPONENTIAL}},We[a.POWER]=function(t){return{A:600,B:1.5,type:e.EXPONENTIAL}},We),getGain:{},getGainMultiplier:(Fe={},Fe[a.RESEARCH]=function(t){return{A:1,B:1.25,type:e.EXPONENTIAL}},Fe),getCapacityMultiplier:{},maxLevel:3},{id:n.BETTER_ELECTROLITES,name:"Improved Electrolytes",description:"Create new electrolyte solution to improve power capacity by 25%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.CHEMISTRY)>0},getCost:(Ve={},Ve[a.WATER]=function(t){return{A:125,B:1.5,type:e.EXPONENTIAL}},Ve[a.RESEARCH]=function(t){return{A:300,B:1.5,type:e.EXPONENTIAL}},Ve[a.OXYGEN]=function(t){return{A:100,B:1.5,type:e.EXPONENTIAL}},Ve),getGain:{},getGainMultiplier:{},getCapacityMultiplier:(je={},je[a.POWER]=function(t){return{A:1,B:1.25,type:e.EXPONENTIAL}},je),maxLevel:5},{id:n.PLATINUM_MINING,name:"Platinum Mining",description:"Allows colonist miners to extract platinum",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.GEOLOGY)>0},getCost:(Ke={},Ke[a.IRON]=function(t){return{A:300,B:1.5,type:e.EXPONENTIAL}},Ke[a.RESEARCH]=function(t){return{A:450,B:1.5,type:e.EXPONENTIAL}},Ke[a.POWER]=function(t){return{A:300,B:1.5,type:e.EXPONENTIAL}},Ke),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.PLATINUM_DRILLS,name:"Platinum Drills",description:"Replace drill heads with platinum. Improves stone and ore output by 40%",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.PLATINUM_MINING)>0},getCost:(qe={},qe[a.PLATINUM]=function(t){return{A:10,B:1.5,type:e.EXPONENTIAL}},qe[a.RESEARCH]=function(t){return{A:420,B:1.5,type:e.EXPONENTIAL}},qe[a.POWER]=function(t){return{A:775,B:1.5,type:e.EXPONENTIAL}},qe),getGain:{},getGainMultiplier:(ze={},ze[a.STONE]=function(t){return{A:1,B:1.4,type:e.EXPONENTIAL}},ze[a.ORE]=function(t){return{A:1,B:1.4,type:e.EXPONENTIAL}},ze),getCapacityMultiplier:{},maxLevel:1},{id:n.PLATINUM_TOOLS,name:"Platinum Tools",description:"Create platinum tools to provide additional production boost. Increases wood production and beam, brick and plate crafting by 10%",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.PLATINUM_MINING)>0},getCost:(Qe={},Qe[a.PLATINUM]=function(t){return{A:15,B:1.5,type:e.EXPONENTIAL}},Qe[a.RESEARCH]=function(t){return{A:450,B:1.5,type:e.EXPONENTIAL}},Qe[a.POWER]=function(t){return{A:845,B:1.5,type:e.EXPONENTIAL}},Qe),getGain:{},getGainMultiplier:(Je={},Je[a.WOOD]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Je[a.BEAM]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Je[a.BRICK]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Je[a.PLATE]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Je),getCapacityMultiplier:{},maxLevel:5},{id:n.COTTAGES,name:"Cottages",description:"Create plans for a new housing unit",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.SOCIOLOGY)>0},getCost:($e={},$e[a.BRICK]=function(t){return{A:45,B:1.5,type:e.EXPONENTIAL}},$e[a.RESEARCH]=function(t){return{A:450,B:1.5,type:e.EXPONENTIAL}},$e[a.POWER]=function(t){return{A:300,B:1.5,type:e.EXPONENTIAL}},$e),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.ENTERTAINMENT,name:"Entertainment",description:"Society research allows better understanding of human needs. Unlocks new ways to boost population happiness",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.SOCIOLOGY)>0},getCost:(et={},et[a.RESEARCH]=function(t){return{A:420,B:1.5,type:e.EXPONENTIAL}},et[a.POWER]=function(t){return{A:775,B:1.5,type:e.EXPONENTIAL}},et),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.SOCIAL_RESEARCH_CENTER,name:"Social Research Center",description:"Unlocks new scientific building for studying sociology",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.SOCIOLOGY)>0},getCost:(tt={},tt[a.PLATE]=function(t){return{A:5,B:1.5,type:e.EXPONENTIAL}},tt[a.RESEARCH]=function(t){return{A:450,B:1.5,type:e.EXPONENTIAL}},tt[a.POWER]=function(t){return{A:845,B:1.5,type:e.EXPONENTIAL}},tt),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.ADVANCED_METALLURGY,name:"Advanced Metallurgy",description:"Improved smelting technique increases smelter output by 15%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.MATERIAL_KNOWLEDGE)>0},getCost:(nt={},nt[a.IRON]=function(t){return{A:500,B:1.5,type:e.EXPONENTIAL}},nt[a.RESEARCH]=function(t){return{A:500,B:1.5,type:e.EXPONENTIAL}},nt[a.POWER]=function(t){return{A:845,B:1.5,type:e.EXPONENTIAL}},nt),getGain:{},getGainMultiplier:(it={},it[a.IRON]=function(t){return{A:1,B:1.15,type:e.EXPONENTIAL}},it),getCapacityMultiplier:{},maxLevel:10},{id:n.HEAT_INSULATING_CAMERAS,name:"Heat Insulating Chambers",description:"Create insulation for combustion chambers. Improves thermal plant efficiency by 20%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.MATERIAL_KNOWLEDGE)>0},getCost:(ot={},ot[a.ORE]=function(t){return{A:7500,B:1.5,type:e.EXPONENTIAL}},ot[a.STONE]=function(t){return{A:7500,B:1.5,type:e.EXPONENTIAL}},ot[a.RESEARCH]=function(t){return{A:750,B:1.5,type:e.EXPONENTIAL}},ot),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:3},{id:n.COMPOSITE_METALS,name:"Composite Metals",description:"Using composite metals allows to increase crafting output for plates and wires by 20%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.MATERIAL_KNOWLEDGE)>0},getCost:(rt={},rt[a.IRON]=function(t){return{A:600,B:1.5,type:e.EXPONENTIAL}},rt[a.RESEARCH]=function(t){return{A:750,B:1.5,type:e.EXPONENTIAL}},rt[a.POWER]=function(t){return{A:845,B:1.5,type:e.EXPONENTIAL}},rt),getGain:{},getGainMultiplier:(at={},at[a.PLATE]=function(t){return{A:1,B:1.2,type:e.EXPONENTIAL}},at[a.WIRE]=function(t){return{A:1,B:1.2,type:e.EXPONENTIAL}},at),getCapacityMultiplier:{},maxLevel:3},{id:n.IMPROVED_WIRING,name:"Upgrade Wiring",description:"Lay new wires to further increase power supply by 5%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.ELECTRICITY_STUDY)>0},getCost:(ct={},ct[a.PLATINUM]=function(t){return{A:10,B:1.5,type:e.EXPONENTIAL}},ct[a.RESEARCH]=function(t){return{A:750,B:1.5,type:e.EXPONENTIAL}},ct[a.WIRE]=function(t){return{A:10,B:1.5,type:e.EXPONENTIAL}},ct),getGain:{},getGainMultiplier:(st={},st[a.POWER]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},st),getCapacityMultiplier:{},maxLevel:10},{id:n.ENERGY_SAVING,name:"Energy Saving",description:"Implement energy saving mode for downtime to significantly save on power. Reduces building power cost by 20%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.ELECTRICITY_STUDY)>0},getCost:(ut={},ut[a.PLATINUM]=function(t){return{A:100,B:1.5,type:e.EXPONENTIAL}},ut[a.RESEARCH]=function(t){return{A:1250,B:1.5,type:e.EXPONENTIAL}},ut[a.WIRE]=function(t){return{A:10,B:1.5,type:e.EXPONENTIAL}},ut),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.ENERGY_SAVING_EXPEDITION_DRONES,name:"Saving Expedition Drones",description:"Rerout extra energy toward terrain scanners of your expedition drones. Increases expedition loot by 30%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.ELECTRICITY_STUDY)>0&&e.science.scienceResearches.getResearchLevel(O.GEOGRAPHY)>0},getCost:(lt={},lt[a.PLATINUM]=function(t){return{A:85,B:1.5,type:e.EXPONENTIAL}},lt[a.RESEARCH]=function(t){return{A:1250,B:1.5,type:e.EXPONENTIAL}},lt[a.WIRE]=function(t){return{A:15,B:1.5,type:e.EXPONENTIAL}},lt),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:3},{id:n.GERMETISATION,name:"Vacuum Sealing",description:"Allows building air-tight containers, increasing storage capacity",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.ORGANIC_CHEMISTRY)>0},getCost:(pt={},pt[a.RUBBER]=function(t){return{A:10,B:1.5,type:e.EXPONENTIAL}},pt[a.RESEARCH]=function(t){return{A:800,B:1.5,type:e.EXPONENTIAL}},pt[a.POWER]=function(t){return{A:1e3,B:1.5,type:e.EXPONENTIAL}},pt),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.RUBBER_DETAILS,name:"Rubber Padding",description:"Add rubber padding to your buildings to further descrease building cost scaling by 10%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.ORGANIC_CHEMISTRY)>0},getCost:(Et={},Et[a.RUBBER]=function(t){return{A:10,B:1.5,type:e.EXPONENTIAL}},Et[a.RESEARCH]=function(t){return{A:800,B:1.5,type:e.EXPONENTIAL}},Et[a.POWER]=function(t){return{A:1e3,B:1.5,type:e.EXPONENTIAL}},Et),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.SURVEILLANCE_CAMERAS,name:"Surveillance Cameras",description:"Install surveillance cameras around your colony. Improves policemen efficiency by 25%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.ORGANIC_CHEMISTRY)>0&&e.science.scienceResearches.getResearchLevel(O.PUBLIC_SERVICE)>0},getCost:(dt={},dt[a.PLASTICS]=function(t){return{A:15,B:1.5,type:e.EXPONENTIAL}},dt[a.RESEARCH]=function(t){return{A:800,B:1.5,type:e.EXPONENTIAL}},dt[a.SEMICONDUCTOR]=function(t){return{A:20,B:1.5,type:e.EXPONENTIAL}},dt),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:3},{id:n.COMPUTERS,name:"Computers",description:"Unlocks computers crafting and building data-centers",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.ELECTRONICS)>0},getCost:(gt={},gt[a.PLASTICS]=function(t){return{A:45,B:1.5,type:e.EXPONENTIAL}},gt[a.RESEARCH]=function(t){return{A:1500,B:1.5,type:e.EXPONENTIAL}},gt[a.SEMICONDUCTOR]=function(t){return{A:80,B:1.5,type:e.EXPONENTIAL}},gt),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.INDUSTRY_AUTOMATION,name:"Industry Automation",description:"Automate some mundane tasks of your artisans. Gain 5% bonus to all crafting",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.ELECTRONICS)>0},getCost:(At={},At[a.WIRE]=function(t){return{A:145,B:1.5,type:e.EXPONENTIAL}},At[a.RESEARCH]=function(t){return{A:1600,B:1.5,type:e.EXPONENTIAL}},At[a.SEMICONDUCTOR]=function(t){return{A:80,B:1.5,type:e.EXPONENTIAL}},At),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:5},{id:n.BUILDING_PRINTING,name:"3D Printers Construction",description:"Create prefabricated sections on your 3D printers. Further decreases building cost scaling by 10%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.PRINTING_3D)>0},getCost:(ft={},ft[a.COMPUTER]=function(t){return{A:65,B:1.5,type:e.EXPONENTIAL}},ft[a.RESEARCH]=function(t){return{A:4600,B:1.5,type:e.EXPONENTIAL}},ft[a.RUBBER]=function(t){return{A:280,B:1.5,type:e.EXPONENTIAL}},ft),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.ORGANISM_PRINTING,name:"Organs Printing",description:"New synthetic organs allow for a better treatment of your colonists. Unlocks a new social law",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.PRINTING_3D)>0},getCost:(Rt={},Rt[a.COMPUTER]=function(t){return{A:75,B:1.5,type:e.EXPONENTIAL}},Rt[a.RESEARCH]=function(t){return{A:4600,B:1.5,type:e.EXPONENTIAL}},Rt[a.WIRE]=function(t){return{A:280,B:1.5,type:e.EXPONENTIAL}},Rt),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.BETTER_DIAGNOSTICS,name:"Improve Health Diagnostics",description:"Using computers for diagnostics can significantly improve healthcare services. Each level increases healthcare from clinics by 5%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.ADVANCED_ANATOMY)>0&&e.science.scienceResearches.getResearchLevel(O.ELECTRONICS)>0},getCost:(It={},It[a.RESEARCH]=function(t){return{A:1300,B:1.5,type:e.EXPONENTIAL}},It[a.COMPUTER]=function(t){return{A:5,B:1.5,type:e.EXPONENTIAL}},It),getGainMultiplier:{},maxLevel:5},{id:n.MULTISTORE_WAREHOUSES,name:"Multistore Warehouses",description:"Create a scalable solution for your storage. Your warehouses can now store twice as much goods",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.HIGH_GRAVITY_PHYSICS)>0},getCost:(Nt={},Nt[a.PLATE]=function(t){return{A:400,B:1.5,type:e.EXPONENTIAL}},Nt[a.RESEARCH]=function(t){return{A:7025,B:1.5,type:e.EXPONENTIAL}},Nt[a.WIRE]=function(t){return{A:450,B:1.5,type:e.EXPONENTIAL}},Nt),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.GMO,name:"GMO",description:"Genetic modification of organisms can help boost nutrition production by 5% and biomass production by 10%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.ADVANCED_BIOLOGY)>0},getCost:(Ot={},Ot[a.RESEARCH]=function(t){return{A:2500,B:1.5,type:e.EXPONENTIAL}},Ot[a.BIOMASS]=function(t){return{A:4e3,B:1.5,type:e.EXPONENTIAL}},Ot),getGainMultiplier:(yt={},yt[a.BIOMASS]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},yt[a.NUTRITION]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},yt),maxLevel:5},{id:n.LASER_CUTTING,name:"Laser Cutting",description:"Using lasers to cut out metal parts significantly simplifies plates and wires production. Increased plate and wire production by 10%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.QUANTUM_PHYSICS)>0},getCost:(mt={},mt[a.RESEARCH]=function(t){return{A:4500,B:1.5,type:e.EXPONENTIAL}},mt[a.POWER]=function(t){return{A:4e3,B:1.5,type:e.EXPONENTIAL}},mt),getGainMultiplier:(Lt={},Lt[a.PLATE]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Lt[a.WIRE]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Lt),maxLevel:3},{id:n.BETTER_PHOTOELEMENTS,name:"Better Photo-Elements",description:"Improved photo-element technology allows you to boost solar satellites and solar panels output by 20%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.QUANTUM_PHYSICS)>0},getCost:(Tt={},Tt[a.RESEARCH]=function(t){return{A:7500,B:1.5,type:e.EXPONENTIAL}},Tt[a.POWER]=function(t){return{A:4e3,B:1.5,type:e.EXPONENTIAL}},Tt),getGainMultiplier:{},maxLevel:1},{id:n.IMPROVED_LITHOGRAPHY,name:"Improved Lithography",description:"New methods of lithography improve assembling processes. Boosts computers production by 10%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.QUANTUM_PHYSICS)>0},getCost:(Ct={},Ct[a.RESEARCH]=function(t){return{A:4500,B:1.5,type:e.EXPONENTIAL}},Ct[a.SEMICONDUCTOR]=function(t){return{A:25,B:1.5,type:e.EXPONENTIAL}},Ct),getGainMultiplier:(ht={},ht[a.COMPUTER]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},ht),maxLevel:3},{id:n.GREAT_RADIO_TRANSMITTER,name:"Great Radio Transmitter",description:"Create a signal transmitter with a much stronger output. Allows you to send signals to other civilizations. Unlocks first prestige level",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.QUANTUM_PHYSICS)>0},getCost:(St={},St[a.RESEARCH]=function(t){return{A:7500,B:1.5,type:e.EXPONENTIAL}},St[a.COMPUTER]=function(t){return{A:50,B:1.5,type:e.EXPONENTIAL}},St[a.PLATINUM]=function(t){return{A:500,B:1.5,type:e.EXPONENTIAL}},St),getGainMultiplier:{},maxLevel:1},{id:n.FLIGHT_TECHNOLOGY,name:"Fuel Conservation",description:"Improved fuel combustion cycle allows to install less rockets to achieve the same thrust. Reduces rocket consumption by 20% for all space structures and ships",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.GRAVITY_THEORY)>0},getCost:(vt={},vt[a.RESEARCH]=function(t){return{A:7500,B:1.5,type:e.EXPONENTIAL}},vt[a.ROCKET_ENGINE]=function(t){return{A:20,B:1.5,type:e.EXPONENTIAL}},vt[a.FUEL]=function(t){return{A:500,B:1.5,type:e.EXPONENTIAL}},vt),getGainMultiplier:{},maxLevel:1},{id:n.FASTER_ROCKETS,name:"Faster Rockets",description:"Using improved flight path calculation reduces total flight time. Space tourism is now 50% more efficient",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.GRAVITY_THEORY)>0},getCost:(Pt={},Pt[a.RESEARCH]=function(t){return{A:7500,B:1.5,type:e.EXPONENTIAL}},Pt[a.ROCKET_ENGINE]=function(t){return{A:15,B:1.5,type:e.EXPONENTIAL}},Pt[a.COMPUTER]=function(t){return{A:25,B:1.5,type:e.EXPONENTIAL}},Pt),getGainMultiplier:{},maxLevel:1},{id:n.CONDUCTIVE_NANOPARTICLES,name:"Conductive Nano-Particles",description:"Using new conductive particles improves the capacity of your batteries and accumulators by 20%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.NANO_PHYSICS)>0},getCost:(Bt={},Bt[a.RESEARCH]=function(t){return{A:6e3,B:1.5,type:e.EXPONENTIAL}},Bt[a.WATER]=function(t){return{A:600,B:1.5,type:e.EXPONENTIAL}},Bt[a.WIRE]=function(t){return{A:500,B:1.5,type:e.EXPONENTIAL}},Bt),getGainMultiplier:{},getCapacityMultiplier:(_t={},_t[a.POWER]=function(t){return{A:1,B:1.2,type:e.EXPONENTIAL}},_t),maxLevel:3},{id:n.NANO_BOTS,name:"Nanobots",description:"Unlocks nanobots factory building on your satellite that provides bonus to all crafting",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.NANO_PHYSICS)>0},getCost:(Mt={},Mt[a.RESEARCH]=function(t){return{A:6e3,B:1.5,type:e.EXPONENTIAL}},Mt[a.COMPUTER]=function(t){return{A:60,B:1.5,type:e.EXPONENTIAL}},Mt[a.WIRE]=function(t){return{A:500,B:1.5,type:e.EXPONENTIAL}},Mt),getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.GENES_MODIFICATION,name:"Animal Gene Modification",description:"Learn how to artificially change animals through gene modification. Unlocks Zoo",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.ADVANCED_GENETICS)>0},getCost:(Ut={},Ut[a.RESEARCH]=function(t){return{A:6e3,B:1.5,type:e.EXPONENTIAL}},Ut[a.PLASTICS]=function(t){return{A:60,B:1.5,type:e.EXPONENTIAL}},Ut[a.BIOMASS]=function(t){return{A:15e3,B:1.5,type:e.EXPONENTIAL}},Ut),getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.GRAVITATIONAL_LENSING,name:"Gravitational Lensing Study",description:"Learn more about the powerful physical effect from massive celestial bodies that causes the curvature of spacetime. Provides more knowledge about the universe and surrounding stars and boosts space telescope effect by 40%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.RELATIVITY_PHYSICS)>0&&e.science.scienceResearches.getResearchLevel(O.ASTROPHYSICS)>0},getCost:(Gt={},Gt[a.RESEARCH]=function(t){return{A:1e4,B:1.5,type:e.EXPONENTIAL}},Gt[a.COMPUTER]=function(t){return{A:60,B:1.5,type:e.EXPONENTIAL}},Gt[a.FUEL]=function(t){return{A:100,B:1.5,type:e.EXPONENTIAL}},Gt),getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.RADIATIVE_DISSOCIATION,name:"Radiative Dissociation",description:"Using radiation can improve dissociation process, improving your electrolytes efficiency.  Improves your power storage facilities by 20%.",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.PHOTOCHEMISTRY)>0},getCost:(bt={},bt[a.RESEARCH]=function(t){return{A:8e3,B:1.5,type:e.EXPONENTIAL}},bt[a.WATER]=function(t){return{A:600,B:1.5,type:e.EXPONENTIAL}},bt[a.SEMICONDUCTOR]=function(t){return{A:50,B:1.5,type:e.EXPONENTIAL}},bt),getGainMultiplier:{},getCapacityMultiplier:(wt={},wt[a.POWER]=function(t){return{A:1,B:1.2,type:e.EXPONENTIAL}},wt),maxLevel:5},{id:n.FUEL_PROCESSING_CATALYSATION,name:"Radiative Catalyzation",description:"Use radiation in chemical reactions to boost your fuel output by 20%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.PHOTOCHEMISTRY)>0},getCost:(Xt={},Xt[a.RESEARCH]=function(t){return{A:8e3,B:1.5,type:e.EXPONENTIAL}},Xt[a.WATER]=function(t){return{A:800,B:1.5,type:e.EXPONENTIAL}},Xt[a.SEMICONDUCTOR]=function(t){return{A:50,B:1.5,type:e.EXPONENTIAL}},Xt),getGainMultiplier:(Dt={},Dt[a.FUEL]=function(t){return{A:1,B:1.2,type:e.EXPONENTIAL}},Dt),getCapacityMultiplier:{},maxLevel:5},{id:n.PLASMA_KNIFE,name:"Plasma Knife",description:"Use hot ionized gas to cut metal. Improves plates, wires and rockets output by 10%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.HIGH_ENERGY_PHYSICS)>0},getCost:(Ht={},Ht[a.RESEARCH]=function(t){return{A:12e3,B:1.5,type:e.EXPONENTIAL}},Ht[a.FUEL]=function(t){return{A:1200,B:1.5,type:e.EXPONENTIAL}},Ht[a.POWER]=function(t){return{A:1e4,B:1.5,type:e.EXPONENTIAL}},Ht),getGainMultiplier:(xt={},xt[a.PLATE]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},xt[a.WIRE]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},xt[a.ROCKET_ENGINE]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},xt),getCapacityMultiplier:{},maxLevel:5},{id:n.IMPULSE_ENGINE,name:"Impulse Engine",description:"Replace traditional fuel burning with modern approach, based on ionized plasma stream accelerated by powerful magnetic field. Further reduces rocket consumption by 20% for all space structures and ships",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.HIGH_ENERGY_PHYSICS)>0},getCost:(kt={},kt[a.RESEARCH]=function(t){return{A:18500,B:1.5,type:e.EXPONENTIAL}},kt[a.ROCKET_ENGINE]=function(t){return{A:120,B:1.5,type:e.EXPONENTIAL}},kt),getGainMultiplier:{},maxLevel:1},{id:n.NANO_TRANSISTORS,name:"Transistor Photo-Printing",description:"Use photolithography to boost your computers production by 20%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.PHOTO_LITHOGRAPHY)>0},getCost:(Yt={},Yt[a.RESEARCH]=function(t){return{A:16500,B:1.5,type:e.EXPONENTIAL}},Yt[a.SEMICONDUCTOR]=function(t){return{A:600,B:1.5,type:e.EXPONENTIAL}},Yt),getGainMultiplier:(Zt={},Zt[a.COMPUTER]=function(t){return{A:1,B:1.2,type:e.EXPONENTIAL}},Zt),maxLevel:1},{id:n.UF_POLYMERYSATION,name:"UV-Polymerisation",description:"Use ionizing radiation for more efficient polymers generation. Improves plastic and rubber output by 10%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.ADVANCED_POLYMERIZATION)>0},getCost:(Wt={},Wt[a.RESEARCH]=function(t){return{A:22e3,B:1.5,type:e.EXPONENTIAL}},Wt[a.FUEL]=function(t){return{A:1200,B:1.5,type:e.EXPONENTIAL}},Wt[a.WIRE]=function(t){return{A:1e3,B:1.5,type:e.EXPONENTIAL}},Wt),getGainMultiplier:(Ft={},Ft[a.PLASTICS]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Ft[a.RUBBER]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Ft),getCapacityMultiplier:{},maxLevel:5},{id:n.BULLETPROOF_POLYMERS,name:"Bulletproof polymers",description:"Learn how to make plastic and rubber more durable. Decreasing rubber and plastic prices for all your buildings by 50%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.ADVANCED_POLYMERIZATION)>0},getCost:(Vt={},Vt[a.RESEARCH]=function(t){return{A:23500,B:1.5,type:e.EXPONENTIAL}},Vt[a.BIOMASS]=function(t){return{A:1e5,B:1.5,type:e.EXPONENTIAL}},Vt),getGainMultiplier:{},maxLevel:1},{id:n.COLD_SYNTHESIS,name:"Cold Synthesis",description:"Decreasing fuel consumption by your thermonuclear power-plant by 25%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.THERMONUCLEAR_SYNTHESIS)>0&&e.science.scienceResearches.getResearchLevel(O.SUPER_CONDUCTIVITY)>0},getCost:(jt={},jt[a.RESEARCH]=function(t){return{A:25500,B:1.5,type:e.EXPONENTIAL}},jt[a.BIOMASS]=function(t){return{A:1e5,B:1.5,type:e.EXPONENTIAL}},jt),getGainMultiplier:{},maxLevel:1},{id:n.EFFICIENT_CONDUCTION,name:"Optimize High-voltage lines",description:"Your knowledge now allows you to optimize your power grid, reducing wires prices by 20% per level",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.SUPER_CONDUCTIVITY)>0},getCost:(Kt={},Kt[a.RESEARCH]=function(t){return{A:29500,B:1.5,type:e.EXPONENTIAL}},Kt[a.PLATE]=function(t){return{A:500,B:1.5,type:e.EXPONENTIAL}},Kt[a.RUBBER]=function(t){return{A:2500,B:1.5,type:e.EXPONENTIAL}},Kt),getGainMultiplier:{},maxLevel:3},{id:n.GRAPHENE_SYNTHESIS,name:"Graphene Synthesis",description:"Learn how to obtain graphene from biomass",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.MOLECULAR_PHYSICS)>0},getCost:(qt={},qt[a.RESEARCH]=function(t){return{A:20750,B:1.5,type:e.EXPONENTIAL}},qt[a.BIOMASS]=function(t){return{A:6e4,B:1.5,type:e.EXPONENTIAL}},qt),getGainMultiplier:{},maxLevel:1},{id:n.GRAPHENE_SENSORS,name:"Graphene Sensors",description:"Put extra-sensitive sensors to your telescopes to boost their efficiency by 50%",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.GRAPHENE_SYNTHESIS)>0},getCost:(zt={},zt[a.RESEARCH]=function(t){return{A:25500,B:1.5,type:e.EXPONENTIAL}},zt[a.GRAPHENE]=function(t){return{A:80,B:1.5,type:e.EXPONENTIAL}},zt),getGainMultiplier:{},maxLevel:1},{id:n.GRAPHENE_MEMBRANES,name:"Graphene Membranes",description:"Use graphene membranes inside your batteries to boost power capacity by 10%",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.GRAPHENE_SYNTHESIS)>0},getCost:(Qt={},Qt[a.RESEARCH]=function(t){return{A:19500,B:1.5,type:e.EXPONENTIAL}},Qt[a.GRAPHENE]=function(t){return{A:100,B:1.5,type:e.EXPONENTIAL}},Qt),getGainMultiplier:{},getCapacityMultiplier:(Jt={},Jt[a.POWER]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Jt),maxLevel:5},{id:n.GRAPHENE_DRILLS,name:"Graphene Drills",description:"Replace drill heads with graphene. Improves stone and ore output by 30%",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.GRAPHENE_SYNTHESIS)>0},getCost:($t={},$t[a.RESEARCH]=function(t){return{A:19500,B:1.5,type:e.EXPONENTIAL}},$t[a.GRAPHENE]=function(t){return{A:125,B:1.5,type:e.EXPONENTIAL}},$t),getGain:{},getGainMultiplier:(en={},en[a.STONE]=function(t){return{A:1,B:1.3,type:e.EXPONENTIAL}},en[a.ORE]=function(t){return{A:1,B:1.3,type:e.EXPONENTIAL}},en),getCapacityMultiplier:{},maxLevel:1},{id:n.PLATINUM_ALLOYS,name:"Platinum Alloys",description:"Use cheaper but durable platinum alloys in your construction. Decreasing platinum prices for all your buildings by 30%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.ADVANCED_COMPOSITES)>0},getCost:(tn={},tn[a.RESEARCH]=function(t){return{A:33500,B:1.5,type:e.EXPONENTIAL}},tn[a.PLATINUM]=function(t){return{A:1e3,B:1.5,type:e.EXPONENTIAL}},tn),getGainMultiplier:{},maxLevel:3},{id:n.COMPOSITE_BUILDING_MATERIALS,name:"Composite Building Materials",description:"Replace regular building materials with new composites. Decreasing bricks cost for all your buildings by 30%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.ADVANCED_COMPOSITES)>0},getCost:(nn={},nn[a.RESEARCH]=function(t){return{A:33500,B:1.5,type:e.EXPONENTIAL}},nn[a.PLATINUM]=function(t){return{A:1e3,B:1.5,type:e.EXPONENTIAL}},nn),getGainMultiplier:{},maxLevel:3},{id:n.STRONG_CISTERN,name:"Composite Cistern Membrane",description:"Use composite materials in your cisterns to make them maintaining higher pressure. Increase water and oxygen capacity by 25%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.ADVANCED_COMPOSITES)>0},getCost:(on={},on[a.RESEARCH]=function(t){return{A:20500,B:1.5,type:e.EXPONENTIAL}},on[a.PLATINUM]=function(t){return{A:1500,B:1.5,type:e.EXPONENTIAL}},on[a.PLASTICS]=function(t){return{A:500,B:1.5,type:e.EXPONENTIAL}},on),getGainMultiplier:{},getCapacityMultiplier:(rn={},rn[a.WATER]=function(t){return{A:1,B:1.25,type:e.EXPONENTIAL}},rn[a.OXYGEN]=function(t){return{A:1,B:1.25,type:e.EXPONENTIAL}},rn),maxLevel:3},{id:n.EFFICIENT_COLLIDERS,name:"Efficient Colliders",description:"Use your particle physic knowledge to reduce magnetic field required for particles acceleration. Reduce hadron collider power consumption by 20%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.PARTICLE_PHYSICS)>0},getCost:(an={},an[a.RESEARCH]=function(t){return{A:49500,B:1.5,type:e.EXPONENTIAL}},an[a.GRAPHENE]=function(t){return{A:400,B:1.5,type:e.EXPONENTIAL}},an[a.FUEL]=function(t){return{A:1200,B:1.5,type:e.EXPONENTIAL}},an),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.NEUTRON_CANON,name:"Neutron Canon",description:"Use neutrons bombarding to eliminate excess water from materials more efficiently. Increase solid non-metal materials output (such as brick, beam, semiconductor) by 10%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.PARTICLE_PHYSICS)>0},getCost:(cn={},cn[a.RESEARCH]=function(t){return{A:29500,B:1.5,type:e.EXPONENTIAL}},cn[a.GRAPHENE]=function(t){return{A:600,B:1.5,type:e.EXPONENTIAL}},cn[a.PLATINUM]=function(t){return{A:1200,B:1.5,type:e.EXPONENTIAL}},cn),getGain:{},getGainMultiplier:(sn={},sn[a.STONE]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},sn[a.BEAM]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},sn[a.BRICK]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},sn[a.SEMICONDUCTOR]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},sn),getCapacityMultiplier:{},maxLevel:5},{id:n.CONTROLLABLE_THERMONUCLEAR_REACTIONS,name:"Controlled Thermonuclear Reactions",description:"Increase thermonuclear power plant output by 10%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.ADVANCED_THERMODYNAMICS)>0},getCost:(un={},un[a.RESEARCH]=function(t){return{A:52500,B:1.5,type:e.EXPONENTIAL}},un[a.SEMICONDUCTOR]=function(t){return{A:1200,B:1.5,type:e.EXPONENTIAL}},un[a.WIRE]=function(t){return{A:1200,B:1.5,type:e.EXPONENTIAL}},un),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.ADVANCED_EVAPORATORS,name:"Advanced Evaporators",description:"Increase water output by 10%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.ADVANCED_THERMODYNAMICS)>0},getCost:(ln={},ln[a.RESEARCH]=function(t){return{A:31500,B:1.5,type:e.EXPONENTIAL}},ln[a.GRAPHENE]=function(t){return{A:400,B:1.5,type:e.EXPONENTIAL}},ln[a.FUEL]=function(t){return{A:1200,B:1.5,type:e.EXPONENTIAL}},ln),getGain:{},getGainMultiplier:(pn={},pn[a.WATER]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},pn),getCapacityMultiplier:{},maxLevel:5},{id:n.MAGNETIC_FIELD_GENERATOR,name:"Magnetic Field Generators",description:"Unlocks crafting Magnetos - portable magnetic field generators that can be used to generate magnetic field to protect your colonists from radiation",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.ADVANCED_SPACE_CONSTRUCTION)>0},getCost:(En={},En[a.RESEARCH]=function(t){return{A:54500,B:1.5,type:e.EXPONENTIAL}},En[a.SEMICONDUCTOR]=function(t){return{A:1800,B:1.5,type:e.EXPONENTIAL}},En[a.WIRE]=function(t){return{A:1800,B:1.5,type:e.EXPONENTIAL}},En),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.NEUTRINO_DETECTORS,name:"Neutrino Detectors",description:"Construct compact neutrino detectors and use them to investigate universe. Increase Space telescope efficiency by 25%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.NEUTRINO_PHYSICS)>0},getCost:(dn={},dn[a.RESEARCH]=function(t){return{A:68500,B:1.5,type:e.EXPONENTIAL}},dn[a.SEMICONDUCTOR]=function(t){return{A:2500,B:1.5,type:e.EXPONENTIAL}},dn[a.GRAPHENE]=function(t){return{A:525,B:1.5,type:e.EXPONENTIAL}},dn),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.NEUTRINO_COOLERS,name:"Neutrino Coolers",description:"Using neutrino as efficient mechanism of getting rid of excess heat allows you maintaining higher temperatures in thermonuclear power plants. Each level increase thermonuclear power plants efficiency by 5%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.NEUTRINO_PHYSICS)>0},getCost:(gn={},gn[a.RESEARCH]=function(t){return{A:58500,B:1.5,type:e.EXPONENTIAL}},gn[a.WIRE]=function(t){return{A:2500,B:1.5,type:e.EXPONENTIAL}},gn[a.GRAPHENE]=function(t){return{A:525,B:1.5,type:e.EXPONENTIAL}},gn),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:3},{id:n.QUARK_CANON,name:"Quark Canon",description:"Even better technology to cut metal. Boosts plate, wire and rocket production by 10% each level",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.QUARK_PHYSICS)>0},getCost:(An={},An[a.RESEARCH]=function(t){return{A:48500,B:1.5,type:e.EXPONENTIAL}},An[a.WIRE]=function(t){return{A:1e3,B:1.5,type:e.EXPONENTIAL}},An[a.POWER]=function(t){return{A:5e4,B:1.5,type:e.EXPONENTIAL}},An),getGain:{},getGainMultiplier:(fn={},fn[a.PLATE]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},fn[a.WIRE]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},fn[a.ROCKET_ENGINE]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},fn),getCapacityMultiplier:{},maxLevel:5},{id:n.FUEL_COOLERS,name:"Fuel Coolers",description:"Increase fuel output by 10%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.LOW_TEMP_PHYSICS)>0},getCost:(Rn={},Rn[a.RESEARCH]=function(t){return{A:51500,B:1.5,type:e.EXPONENTIAL}},Rn[a.PLASTICS]=function(t){return{A:2500,B:1.5,type:e.EXPONENTIAL}},Rn),getGain:{},getGainMultiplier:(In={},In[a.FUEL]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},In),getCapacityMultiplier:{},maxLevel:5},{id:n.MAGNETO_COOLING,name:"Magneto Cooling",description:"Increase magneto crafting efficiency by 10%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.LOW_TEMP_PHYSICS)>0&&e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.MAGNETIC_FIELD_GENERATOR)>0},getCost:(Nn={},Nn[a.RESEARCH]=function(t){return{A:51500,B:1.5,type:e.EXPONENTIAL}},Nn[a.SEMICONDUCTOR]=function(t){return{A:4e3,B:1.5,type:e.EXPONENTIAL}},Nn),getGain:{},getGainMultiplier:(On={},On[a.MAGNETO]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},On),getCapacityMultiplier:{},maxLevel:5},{id:n.IMPROVED_REFRIGERATION,name:"Improved Refrigeration",description:"Improved refrigeration technology allows you now storing 20% more nutrition and biomass",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.CRYOGENICS)>0},getCost:(yn={},yn[a.RESEARCH]=function(t){return{A:64800,B:1.5,type:e.EXPONENTIAL}},yn[a.SEMICONDUCTOR]=function(t){return{A:8e3,B:1.5,type:e.EXPONENTIAL}},yn),getGain:{},getCapacityMultiplier:(mn={},mn[a.NUTRITION]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},mn[a.BIOMASS]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},mn),maxLevel:5},{id:n.BATTERIES_COOLERS,name:"Batteries Coolers",description:"Improved batteries cooling allows you increase their capacity by 10%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.CRYOGENICS)>0},getCost:(Ln={},Ln[a.RESEARCH]=function(t){return{A:74200,B:1.5,type:e.EXPONENTIAL}},Ln[a.WIRE]=function(t){return{A:8e3,B:1.5,type:e.EXPONENTIAL}},Ln),getGain:{},getCapacityMultiplier:(Tn={},Tn[a.POWER]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Tn),maxLevel:3},{id:n.FROZEN_BIOMASS,name:"Biomass Freezing",description:"Use frozen biomass in your investigations. Reduce Biolabs Biomass consumption by 75%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.CRYOGENICS)>0},getCost:(Cn={},Cn[a.RESEARCH]=function(t){return{A:88500,B:1.5,type:e.EXPONENTIAL}},Cn[a.SEMICONDUCTOR]=function(t){return{A:2500,B:1.5,type:e.EXPONENTIAL}},Cn[a.BIOMASS]=function(t){return{A:12e4,B:1.5,type:e.EXPONENTIAL}},Cn),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.ORBITAL_BIORESEARCH,name:"Orbital Bio-research",description:"Biolabs can perform some research in space now (togglable in laws and order)",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.SPACE_ORGANICS)>0},getCost:(hn={},hn[a.RESEARCH]=function(t){return{A:88500,B:1.5,type:e.EXPONENTIAL}},hn[a.BIOMASS]=function(t){return{A:15e4,B:1.5,type:e.EXPONENTIAL}},hn),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.ORBITAL_CLINIC,name:"Orbital Clinic",description:"Orbital Supply Module will now also provide healthcare boost",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.SPACE_ORGANICS)>0},getCost:(Sn={},Sn[a.RESEARCH]=function(t){return{A:98500,B:1.5,type:e.EXPONENTIAL}},Sn[a.SEMICONDUCTOR]=function(t){return{A:2500,B:1.5,type:e.EXPONENTIAL}},Sn[a.BIOMASS]=function(t){return{A:12e4,B:1.5,type:e.EXPONENTIAL}},Sn),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.NANO_BIOBOTS,name:"Nano Biobots",description:"Using biobots can help curing a lot of diseases. Gain +10% to clinic efficiency ",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.NANO_BIOLOGY)>0},getCost:(vn={},vn[a.RESEARCH]=function(t){return{A:118500,B:1.5,type:e.EXPONENTIAL}},vn[a.GRAPHENE]=function(t){return{A:2500,B:1.5,type:e.EXPONENTIAL}},vn[a.COMPUTER]=function(t){return{A:2500,B:1.5,type:e.EXPONENTIAL}},vn),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.HIGH_ENERGY_PLASMA_KNIFE,name:"High Energy Plasma Knife",description:"Better control over nuclei decay allows you create more high-energy plasma knifes, further boosting plate and wire production",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.ADVANCED_NUCLEAR_RESEARCH)>0},getCost:(Pn={},Pn[a.RESEARCH]=function(t){return{A:72e3,B:1.5,type:e.EXPONENTIAL}},Pn[a.FUEL]=function(t){return{A:4e3,B:1.5,type:e.EXPONENTIAL}},Pn[a.GRAPHENE]=function(t){return{A:600,B:1.5,type:e.EXPONENTIAL}},Pn),getGainMultiplier:(Bn={},Bn[a.PLATE]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Bn[a.WIRE]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Bn),getCapacityMultiplier:{},maxLevel:5},{id:n.NUCLEAR_SYNTHESIS_CONTROL,name:"Nuclear Synthesis Control",description:"Good knowledge about thermonuclear reactions allows you better localize your reactions centers, reducing load on the reactor walls. Allows you cheapen thermonuclear reactors by 50%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.ADVANCED_NUCLEAR_RESEARCH)>0},getCost:(_n={},_n[a.RESEARCH]=function(t){return{A:124500,B:1.5,type:e.EXPONENTIAL}},_n[a.GRAPHENE]=function(t){return{A:2500,B:1.5,type:e.EXPONENTIAL}},_n[a.POWER]=function(t){return{A:15e4,B:1.5,type:e.EXPONENTIAL}},_n),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1}],Br=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_r=function(){return _r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},_r.apply(this,arguments)},Mr=function(e){function t(){var t=e.call(this)||this;return t.upgrades=[],t.workDispatcher.on("[landing-zone] do upgrade",(function(e){console.log("do upgrade",e),t.doUpgrade(e.id)})),t}return Br(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.upgrades=e},t.prototype.exportData=function(){return this.upgrades},t.prototype.dataToUI=function(){var e=this;return{list:Pr.map((function(t){return e.processToUI(t)}))}},t.prototype.getUpgradeLevel=function(e){var t;return(null===(t=this.upgrades.find((function(t){return t.id===e})))||void 0===t?void 0:t.level)||0},t.prototype.processToUI=function(e){var t=this.upgrades.find((function(t){return t.id===e.id}));t||(t={id:e.id,level:0},this.upgrades.push(t));var n=S.calcBatchAll(e.getCost,Vu.getInstance(),t.level,Vu.getInstance().resources.getBatchObject()),i=n.reduce((function(e,t){return e&&!t.isBlocked}),!0),o=n.reduce((function(e,t){return Math.max(e,t.eta)}),0),r=e.getCapacityEffect?S.calcBatch(e.getCapacityEffect,Vu.getInstance(),0):[],a=e.getCapacityMultiplier?S.calcBatch(e.getCapacityMultiplier,Vu.getInstance(),t.level+1):[],c=e.getGain?S.calcBatch(e.getGain,Vu.getInstance(),0):[],s=e.getGainMultiplier?S.calcBatch(e.getGainMultiplier,Vu.getInstance(),t.level+1):[],u=n.reduce((function(e,t){return Math.min(e,t.max)}),1e300),l=e.unlockCondition(ju);return l&&t.level<=0&&ju.newNotifications.registerNotification("planet:landing-zone:upgrades:".concat(e.id)),{id:e.id,name:e.name,description:e.description,isUnlocked:l,isAvailable:u>=1,cost:Vu.getInstance().resources.assertEnought(n,Vu.getInstance().resources.getBatchObject(),Vu.getInstance().resources.getBatchBalanceObject()),max:r.map((function(e){return _r(_r({},e),{amountValue:e.amount,amount:P(e.amount)})})),maxMult:a.map((function(e){return _r(_r({},e),{amountValue:e.amount,amount:"x".concat(P(e.amount))})})),consume:[],gain:c.map((function(e){return _r(_r({},e),{amountValue:e.amount,amount:P(e.amount)})})),gainMult:s.map((function(e){return _r(_r({},e),{amountValue:e.amount,amount:"x".concat(P(e.amount))})})),progress:u<1?(100*u).toPrecision(3):"100",isMaxedOut:!!e.maxLevel&&e.maxLevel<=t.level,maxLevel:e.maxLevel,level:t.level,isBlocked:!i,etaNum:o}},t.prototype.doUpgrade=function(e){var t=Pr.find((function(t){return t.id===e}));if(t){var n=this.upgrades.findIndex((function(t){return t.id===e}));if(n<0)n=this.upgrades.length,this.upgrades.push({id:e,level:0});else if(t.maxLevel&&this.upgrades[n].level>=t.maxLevel)return;var i=S.calcBatchAll(t.getCost,Vu.getInstance(),this.upgrades[n].level,Vu.getInstance().resources.getBatchObject());i.reduce((function(e,t){return Math.min(e,Math.floor(t.max))}),1e300)<1||(this.upgrades[n].level++,console.log("costs: ",i),Vu.getInstance().resources.subtractResourceBatch(i),ju.resources.reassertBalances())}},t.prototype.getGain=function(e){var t=Pr.filter((function(t){var n;return!!(null===(n=t.getGain)||void 0===n?void 0:n[e])})),n=[];return this.upgrades.forEach((function(i){var o=t.find((function(e){return e.id===i.id}));if(o&&o.getGain){var r=S.calculate(ju,o.getGain[e],0,i.level);n.push({label:"Upgrade: ".concat(o.name),value:r,id:"upgrade-".concat(o.id)})}}),0),n},t.prototype.getGainMultiplier=function(e){var t=Pr.filter((function(t){var n;return!!(null===(n=t.getGainMultiplier)||void 0===n?void 0:n[e])})),n=[];return this.upgrades.forEach((function(i){var o=t.find((function(e){return e.id===i.id}));if(o&&o.getGainMultiplier){var r=S.calculate(ju,o.getGainMultiplier[e],i.level,1);r&&n.push({label:"Upgrade: ".concat(o.name),value:r,id:"upgrade-".concat(o.id)})}}),0),n},t.prototype.getCapacity=function(e){var t=Pr.filter((function(t){var n;return!!(null===(n=t.getCapacityEffect)||void 0===n?void 0:n[e])})),n=[];return this.upgrades.forEach((function(i){var o=t.find((function(e){return e.id===i.id}));if(o&&o.getCapacityEffect){var r=S.calculate(ju,o.getCapacityEffect[e],0,i.level);n.push({label:"Upgrade: ".concat(o.name),value:r,id:"upgrade-".concat(o.id)})}}),0),n},t.prototype.getCapacityMult=function(e){var t=Pr.filter((function(t){var n;return!!(null===(n=t.getCapacityMultiplier)||void 0===n?void 0:n[e])})),n=[];return this.upgrades.forEach((function(i){var o=t.find((function(e){return e.id===i.id}));if(o&&o.getCapacityMultiplier){var r=S.calculate(ju,o.getCapacityMultiplier[e],i.level,1);r&&n.push({label:"Upgrade: ".concat(o.name),value:r,id:"upgrade-".concat(o.id)})}}),0),n},t.prototype.process=function(e){},t.prototype.reset=function(){this.upgrades=[]},t}(N),Ur=Mr.getInstance();!function(e){e.SCIENCE="Science",e.ECONOMY="Economy",e.SOCIAL="Social"}(Mn||(Mn={})),function(e){e.EXPERIMENTAL_MEDICINE="experimental_medicine",e.WATER_FILTERING="water_filtering",e.RESEARCH_GRANTS="research_grants",e.INDUSTRIALIZATION="industrialization",e.FOREST_BEHAVOUR="forest_behavour",e.SECURITY_DOTATIONS="security_dotations",e.ARTIFICIAL_ORGANS="artificial_organs",e.COAL_BURNING="coal_burning",e.CLEAR_CUTTING="clear_cutting",e.FOOD_CHEMICAL_PROCESSING="food_chemical_processing",e.ELECTROTHERMAL_SMELTING="electrothermal_smelting",e.ORBITAL_BIOEXPERIMENT="orbital_bioexperiment"}(Un||(Un={}));var Gr,br,wr,Xr,Dr,Hr,xr,kr,Yr,Zr,Wr,Fr,Vr,jr,Kr,qr,zr,Qr,Jr,$r,ea,ta,na,ia,oa,ra,aa,ca,sa,ua,la,pa,Ea,da,ga,Aa,fa,Ra,Ia,Na,Oa,ya,ma,La,Ta,Ca,ha,Sa,va,Pa,Ba,_a,Ma,Ua,Ga,ba,wa,Xa,Da,Ha,xa,ka,Ya,Za,Wa,Fa,Va,ja,Ka,qa,za,Qa,Ja,$a,ec,tc,nc,ic,oc,rc,ac,cc,sc,uc,lc,pc,Ec,dc,gc=function(e){return Math.pow(.9,e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.CRANES))*Math.pow(.9,e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.RUBBER_DETAILS))*Math.pow(.9,e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.BUILDING_PRINTING))},Ac=function(e){return Math.pow(.8,e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.ENERGY_SAVING))},fc=function(e){return Math.pow(.8,e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.FLIGHT_TECHNOLOGY))*Math.pow(.8,e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.IMPULSE_ENGINE))*Math.pow(.97,e.landingZone.landingZoneBuildings.getBuildingActiveLevel(i.SPACESHIP_STATION))},Rc=function(e){return Math.pow(.5,e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.BULLETPROOF_POLYMERS))},Ic=function(e){return Math.pow(.8,e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.EFFICIENT_CONDUCTION))},Nc=function(e){return Math.pow(.7,e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.COMPOSITE_BUILDING_MATERIALS))},Oc=function(e){return Math.pow(.7,e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.PLATINUM_ALLOYS))},yc=function(e){switch(e.laws.getLawSelected(Un.RESEARCH_GRANTS)){case 0:return 1;case 1:return 1.05;case 2:return 1.1}return 1},mc=function(e){switch(e.laws.getLawSelected(Un.RESEARCH_GRANTS)){case 0:return 1;case 1:return 1.25;case 2:return 1.75}return 1},Lc=function(e){switch(e.laws.getLawSelected(Un.COAL_BURNING)){case 0:return 1;case 1:return 1.1;case 2:return 1.25}return 1},Tc=function(e){switch(e.laws.getLawSelected(Un.COAL_BURNING)){case 0:return 0;case 1:return.01;case 2:return.03}return 0},Cc=[{id:i.QUARRY,name:"Quarry",category:o.INDUSTRIAL,description:"Automatically collects stone",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.AUTO_QUARRYING)>0},getCost:(Gn={},Gn[a.ORE]=function(t){return{A:1,B:1+.3*gc(t),type:e.EXPONENTIAL}},Gn[a.STONE]=function(t){return{A:2.5,B:1+.3*gc(t),type:e.EXPONENTIAL}},Gn),getConsumption:(bn={},bn[a.POWER]=function(t){return{A:.06,B:0,type:e.LINEAR}},bn),getGain:(wn={},wn[a.STONE]=function(t){return{A:(.06+.03*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.REPAIR_MACHINERY))*(1+.25*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.QUARRY_TECH)),B:0,type:e.LINEAR}},wn),getStorage:{}},{id:i.MINE,name:"Mine",category:o.INDUSTRIAL,description:"Automatically collects ore",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.AUTO_MINERS)>0},getCost:(Xn={},Xn[a.ORE]=function(t){return{A:5,B:1+.3*gc(t),type:e.EXPONENTIAL}},Xn[a.STONE]=function(t){return{A:4.5,B:1+.3*gc(t),type:e.EXPONENTIAL}},Xn),getConsumption:(Dn={},Dn[a.POWER]=function(t){return{A:.06,B:0,type:e.LINEAR}},Dn),getGain:(Hn={},Hn[a.ORE]=function(t){return{A:(.06+.03*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.REPAIR_MACHINERY))*(1+.25*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.MINE_TECH)),B:0,type:e.LINEAR}},Hn),getStorage:{}},{id:i.BACTERIA_INCUBATOR,category:o.INDUSTRIAL,name:"Bacteria Incubator",description:"Automatically produces biomass",unlockCondition:function(e){return e.landingZone.landingZoneActions.getActionPerformed(t.COLLECT_BIOMASS)>0},getCost:(xn={},xn[a.BIOMASS]=function(t){return{A:3,B:1+.3*gc(t),type:e.EXPONENTIAL}},xn[a.STONE]=function(t){return{A:4.5,B:1+.3*gc(t),type:e.EXPONENTIAL}},xn),getConsumption:(kn={},kn[a.POWER]=function(t){return{A:.06*(1+.25*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.BACTERIA_SELECTION)),B:0,type:e.LINEAR}},kn),getGain:(Yn={},Yn[a.BIOMASS]=function(t){return{A:(.04+.02*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.REPAIR_MACHINERY))*(1+.25*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.BIO_TECH))*(1+.5*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.FLORA)),B:0,type:e.LINEAR}},Yn[a.OXYGEN]=function(t){return{A:.01*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.BACTERIA_SELECTION)*(1+.5*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.FLORA)),B:0,type:e.LINEAR}},Yn),getStorage:{}},{id:i.THERMOELECTRIC_STATION,category:o.POWER,name:"Thermoelectric Power plant",description:"Burns biomass to generate power",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.COMBUSTION)>0},getCost:(Zn={},Zn[a.ORE]=function(t){return{A:6,B:1+.3*gc(t),type:e.EXPONENTIAL}},Zn[a.STONE]=function(t){return{A:7,B:1+.3*gc(t),type:e.EXPONENTIAL}},Zn),getConsumption:(Wn={},Wn[a.BIOMASS]=function(t){return{A:.03*Math.pow(.75,t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.COMBUSTION_CAMERA)),B:0,type:e.LINEAR}},Wn[a.OXYGEN]=function(t){return{A:.006*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.OXYGEN_CAMERAS),B:0,type:e.LINEAR}},Wn[a.WOOD]=function(t){return{A:Tc(t),B:0,type:e.LINEAR}},Wn),getGain:(Fn={},Fn[a.POWER]=function(t){return{A:.09*(1+.25*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.THERMAL_TECH))*(1+.25*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.THERMAL_TECH2))*(1+.75*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.OXYGEN_CAMERAS))*(1+.5*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.FLAMMABILITY))*(1+.2*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.HEAT_INSULATING_CAMERAS))*Lc(t),B:0,type:e.LINEAR}},Fn),getStorage:(Vn={},Vn[a.POWER]=function(t){return{A:4*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.RESERVE_BATTERIES),B:0,type:e.LINEAR}},Vn)},{id:i.THERMONUCLEAR_PLANT,category:o.POWER,name:"Thermonuclear plant",description:"Uses nuclear reactions to generate power",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.THERMONUCLEAR_SYNTHESIS)>0},getCost:(jn={},jn[a.PLATE]=function(t){return{A:3e3*Math.pow(.5,t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.NUCLEAR_SYNTHESIS_CONTROL)),B:1+.3*gc(t),type:e.EXPONENTIAL}},jn[a.BRICK]=function(t){return{A:15e3*Nc(t)*Math.pow(.5,t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.NUCLEAR_SYNTHESIS_CONTROL)),B:1+.3*gc(t),type:e.EXPONENTIAL}},jn),getConsumption:(Kn={},Kn[a.WATER]=function(t){return{A:.5,B:0,type:e.LINEAR}},Kn[a.FUEL]=function(t){return{A:.3*Math.pow(.75,t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.COLD_SYNTHESIS)),B:0,type:e.LINEAR}},Kn),getGain:(qn={},qn[a.POWER]=function(t){return{A:15*Math.pow(1.1,ju.landingZone.landingZoneUpgrades.getUpgradeLevel(n.CONTROLLABLE_THERMONUCLEAR_REACTIONS))*Math.pow(1.05,ju.landingZone.landingZoneUpgrades.getUpgradeLevel(n.NEUTRINO_COOLERS)),B:0,type:e.LINEAR}},qn),getStorage:{}},{id:i.STORAGE,name:"Storage Section",category:o.STORAGE,description:"Provides additional storage space",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.REPAIR_STORAGE_MODULE)>0},getCost:(zn={},zn[a.ORE]=function(t){return{A:10,B:1+.5*gc(t),type:e.EXPONENTIAL}},zn[a.STONE]=function(t){return{A:10,B:1+.5*gc(t),type:e.EXPONENTIAL}},zn),getConsumption:{},getGain:{},getStorage:(Qn={},Qn[a.STONE]=function(t){return{A:10,B:0,type:e.LINEAR}},Qn[a.ORE]=function(t){return{A:10,B:0,type:e.LINEAR}},Qn[a.BIOMASS]=function(t){return{A:10,B:0,type:e.LINEAR}},Qn[a.IRON]=function(t){return{A:3,B:0,type:e.LINEAR}},Qn[a.WOOD]=function(t){return{A:10,B:0,type:e.LINEAR}},Qn)},{id:i.STORAGE_HUB,name:"Storage Hub",category:o.STORAGE,description:"Provides more storage space, but consumes power",unlockCondition:function(e){return e.landingZone.landingZoneBuildings.getBuildingLevel(i.STORAGE)>3},getCost:(Jn={},Jn[a.POWER]=function(t){return{A:30,B:1+.75*gc(t)*Ac(t),type:e.EXPONENTIAL}},Jn[a.ORE]=function(t){return{A:50,B:1+.75*gc(t),type:e.EXPONENTIAL}},Jn[a.STONE]=function(t){return{A:50,B:1+.75*gc(t),type:e.EXPONENTIAL}},Jn),getConsumption:($n={},$n[a.POWER]=function(t){return{A:.15,B:0,type:e.LINEAR}},$n),getGain:{},getStorage:(ei={},ei[a.STONE]=function(t){return{A:50,B:0,type:e.LINEAR}},ei[a.ORE]=function(t){return{A:50,B:0,type:e.LINEAR}},ei[a.BIOMASS]=function(t){return{A:50,B:0,type:e.LINEAR}},ei[a.IRON]=function(t){return{A:15,B:0,type:e.LINEAR}},ei[a.WOOD]=function(t){return{A:50,B:0,type:e.LINEAR}},ei)},{id:i.OXYGEN_COLLECTOR,name:"Oxygen Compressor",category:o.STORAGE,description:"Compresses oxygen for easier storage",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.OXYGEN_COMPRESSORS)>0},getCost:(ti={},ti[a.POWER]=function(t){return{A:50,B:1+.5*gc(t)*Ac(t),type:e.EXPONENTIAL}},ti[a.ORE]=function(t){return{A:150,B:1+.5*gc(t),type:e.EXPONENTIAL}},ti[a.STONE]=function(t){return{A:150,B:1+.5*gc(t),type:e.EXPONENTIAL}},ti),getConsumption:(ni={},ni[a.POWER]=function(t){return{A:.4,B:0,type:e.LINEAR}},ni),getGain:{},getStorage:(ii={},ii[a.OXYGEN]=function(t){return{A:20,B:0,type:e.LINEAR}},ii)},{id:i.WATER_PUMP,name:"Water Pump",category:o.INDUSTRIAL,description:"Pumps water from underground to provide a steady supply",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.WATER_PUMPING)>0},getCost:(oi={},oi[a.POWER]=function(t){return{A:75,B:1+.5*gc(t)*Ac(t),type:e.EXPONENTIAL}},oi[a.OXYGEN]=function(t){return{A:12,B:1+.5*gc(t),type:e.EXPONENTIAL}},oi[a.STONE]=function(t){return{A:120,B:1+.5*gc(t),type:e.EXPONENTIAL}},oi[a.ORE]=function(t){return{A:85,B:1+.5*gc(t),type:e.EXPONENTIAL}},oi),getConsumption:(ri={},ri[a.POWER]=function(t){return{A:.3+(1===t.laws.getLawSelected(Un.WATER_FILTERING)?.3:0),B:0,type:e.LINEAR}},ri),getGain:(ai={},ai[a.WATER]=function(t){return{A:.03,B:0,type:e.LINEAR}},ai),getStorage:(ci={},ci[a.WATER]=function(t){return{A:1,B:0,type:e.LINEAR}},ci),getEffectGain:(si={},si[L.HEALTHCARE]=function(t){return{A:1===t.laws.getLawSelected(Un.WATER_FILTERING)?3:0,B:0,type:e.LINEAR}},si)},{id:i.WATER_STORAGE,name:"Water Storage",category:o.STORAGE,description:"Provides water storage",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.WATER_PUMPING)>0},getCost:(ui={},ui[a.POWER]=function(t){return{A:70,B:1+.5*gc(t)*Ac(t),type:e.EXPONENTIAL}},ui[a.ORE]=function(t){return{A:180,B:1+.5*gc(t),type:e.EXPONENTIAL}},ui[a.STONE]=function(t){return{A:180,B:1+.5*gc(t),type:e.EXPONENTIAL}},ui),getConsumption:(li={},li[a.POWER]=function(t){return{A:.1,B:0,type:e.LINEAR}},li),getGain:{},getStorage:(pi={},pi[a.WATER]=function(t){return{A:15,B:0,type:e.LINEAR}},pi)},{id:i.BATTERY,name:"Battery",category:o.POWER,description:"Provides power storage",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.ELECTROLITES)>0},getCost:(Ei={},Ei[a.POWER]=function(t){return{A:20,B:1+.5*gc(t)*Ac(t),type:e.EXPONENTIAL}},Ei[a.ORE]=function(t){return{A:180,B:1+.5*gc(t),type:e.EXPONENTIAL}},Ei[a.WATER]=function(t){return{A:5,B:1+.5*gc(t),type:e.EXPONENTIAL}},Ei),getConsumption:{},getGain:{},getStorage:(di={},di[a.POWER]=function(t){return{A:80,B:0,type:e.LINEAR}},di)},{id:i.LIVING_CABIN,name:"Residential Module",category:o.RESIDENTAL,description:"Provides living space for 2 colonists",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.DOCKING_MODULE)>0},getCost:(gi={},gi[a.POWER]=function(t){return{A:120,B:1+.5*gc(t)*Ac(t),type:e.EXPONENTIAL}},gi[a.STONE]=function(t){return{A:180,B:1+.5*gc(t),type:e.EXPONENTIAL}},gi[a.ORE]=function(t){return{A:80,B:1+.5*gc(t),type:e.EXPONENTIAL}},gi),getConsumption:{},getGain:{},getStorage:{},getMaxColonists:function(t){return{A:2+t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.WOODEN_FURNITURE),B:0,type:e.LINEAR}}},{id:i.METEO_STATION,name:"Meteorology Station",category:o.SCIENCE,description:"Provides 25 research storage and boosts science output by 2% multiplicatively",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.METEOROLOGY)>0},getCost:(Ai={},Ai[a.POWER]=function(t){return{A:80,B:1+.5*gc(t)*Ac(t),type:e.EXPONENTIAL}},Ai[a.STONE]=function(t){return{A:180,B:1+.5*gc(t),type:e.EXPONENTIAL}},Ai[a.ORE]=function(t){return{A:125,B:1+.5*gc(t),type:e.EXPONENTIAL}},Ai),getConsumption:{},getGain:{},getStorage:(fi={},fi[a.RESEARCH]=function(t){return{A:25,B:0,type:e.LINEAR}},fi),getGainMultiplier:(Ri={},Ri[a.RESEARCH]=function(t){return{A:1,B:1.02,type:e.EXPONENTIAL}},Ri)},{id:i.MONUMENT,name:"Monument",category:o.PUBLIC,description:"Provides some aesthetics",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.CIVIL_SERVICE)>0},getCost:(Ii={},Ii[a.STONE]=function(t){return{A:820,B:1+.4*gc(t),type:e.EXPONENTIAL}},Ii[a.ORE]=function(t){return{A:480,B:1+.4*gc(t),type:e.EXPONENTIAL}},Ii),getConsumption:{},getGain:{},getStorage:{},getEffectGain:(Ni={},Ni[L.AESTHETICS]=function(t){return{A:2,B:0,type:e.LINEAR}},Ni)},{id:i.CLINIC,name:"Clinic",category:o.PUBLIC,description:"Provides basic healthcare service",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.CIVIL_SERVICE)>0&&e.science.scienceResearches.getResearchLevel(O.EXOBIOLOGY)>0},getCost:(Oi={},Oi[a.POWER]=function(t){return{A:250,B:1+.5*gc(t)*Ac(t),type:e.EXPONENTIAL}},Oi[a.STONE]=function(t){return{A:820,B:1+.5*gc(t),type:e.EXPONENTIAL}},Oi[a.ORE]=function(t){return{A:680,B:1+.5*gc(t),type:e.EXPONENTIAL}},Oi),getConsumption:(yi={},yi[a.POWER]=function(t){return{A:.3,B:0,type:e.LINEAR}},yi),getGain:{},getStorage:(mi={},mi[a.RESEARCH]=function(t){return{A:1===t.laws.getLawSelected(Un.EXPERIMENTAL_MEDICINE)?50:0,B:0,type:e.LINEAR}},mi),getEffectGain:(Li={},Li[L.HEALTHCARE]=function(t){return{A:10*(1===t.laws.getLawSelected(Un.EXPERIMENTAL_MEDICINE)?.5:1)*Math.pow(1.05,t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.BETTER_DIAGNOSTICS))*Math.pow(1.1,t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.NANO_BIOBOTS)),B:0,type:e.LINEAR}},Li)},{id:i.PARK,name:"Park Zone",category:o.PUBLIC,description:"A zone with rich greenery provides a way to relax for your people",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.CIVIL_SERVICE)>0&&e.science.scienceResearches.getResearchLevel(O.EXOFORESTRY)>0},getCost:(Ti={},Ti[a.POWER]=function(t){return{A:150,B:1+.5*gc(t)*Ac(t),type:e.EXPONENTIAL}},Ti[a.STONE]=function(t){return{A:120,B:1+.5*gc(t),type:e.EXPONENTIAL}},Ti[a.WOOD]=function(t){return{A:80,B:1+.5*gc(t),type:e.EXPONENTIAL}},Ti),getConsumption:{},getGain:{},getStorage:{},getEffectGain:(Ci={},Ci[L.AESTHETICS]=function(t){return{A:5,B:0,type:e.LINEAR}},Ci[L.ENTERTAINMENT]=function(t){return{A:2,B:0,type:e.LINEAR}},Ci)},{id:i.BIO_LAB,category:o.SCIENCE,name:"Bio Laboratory",description:"Provides even more research storage and boost research output by 5% multiplicatively",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.EXOBIOLOGY)>0},getCost:(hi={},hi[a.POWER]=function(t){return{A:120,B:1+.5*gc(t)*Ac(t),type:e.EXPONENTIAL}},hi[a.STONE]=function(t){return{A:1275,B:1+.5*gc(t),type:e.EXPONENTIAL}},hi[a.ORE]=function(t){return{A:725,B:1+.5*gc(t),type:e.EXPONENTIAL}},hi),getConsumption:(Si={},Si[a.POWER]=function(t){return{A:.75*mc(t),B:0,type:e.LINEAR}},Si[a.BIOMASS]=function(t){return{A:.4*Math.pow(.25,t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.FROZEN_BIOMASS)),B:0,type:e.LINEAR}},Si[a.FUEL]=function(t){return{A:1===t.laws.getLawSelected(Un.ORBITAL_BIOEXPERIMENT)?.03:0,B:0,type:e.LINEAR}},Si),getGain:{},getStorage:(vi={},vi[a.RESEARCH]=function(t){return{A:(50+(1===t.laws.getLawSelected(Un.ORBITAL_BIOEXPERIMENT)?450:0))*yc(t),B:0,type:e.LINEAR}},vi),getGainMultiplier:(Pi={},Pi[a.RESEARCH]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},Pi)},{id:i.FOREST_PLANT,name:"Forest Plant",category:o.INDUSTRIAL,description:"Rich forest area that generates oxygen",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.BROADLEAVED)>0},getCost:(Bi={},Bi[a.WOOD]=function(t){return{A:20,B:1+.5*gc(t),type:e.EXPONENTIAL}},Bi[a.STONE]=function(t){return{A:2.5,B:1+.5*gc(t),type:e.EXPONENTIAL}},Bi),getConsumption:(_i={},_i[a.WATER]=function(t){return{A:.01,B:0,type:e.LINEAR}},_i),getGain:(Mi={},Mi[a.OXYGEN]=function(t){return{A:.06*(0===t.laws.getLawSelected(Un.FOREST_BEHAVOUR)?1:.5),B:0,type:e.LINEAR}},Mi[a.NUTRITION]=function(t){return{A:.1*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.FRUIT_TREES),B:0,type:e.LINEAR}},Mi),getGainMultiplier:(Ui={},Ui[a.BIOMASS]=function(t){return{A:t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.NATURAL_ENVIRONMENT),B:1.02,type:e.EXPONENTIAL}},Ui),getStorage:{},getEffectGain:(Gi={},Gi[L.AESTHETICS]=function(t){return{A:1===t.laws.getLawSelected(Un.FOREST_BEHAVOUR)?2:0,B:0,type:e.LINEAR}},Gi[L.ENTERTAINMENT]=function(t){return{A:2===t.laws.getLawSelected(Un.FOREST_BEHAVOUR)?2:0,B:0,type:e.LINEAR}},Gi)},{id:i.SMELTER,name:"Smelter",category:o.INDUSTRIAL,description:"Burns wood to smelt ore into metal",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.METALLURGY)>0},getCost:(bi={},bi[a.ORE]=function(t){return{A:600,B:1+.4*gc(t),type:e.EXPONENTIAL}},bi[a.STONE]=function(t){return{A:1250,B:1+.4*gc(t),type:e.EXPONENTIAL}},bi),getConsumption:(wi={},wi[a.WOOD]=function(t){return{A:.3,B:0,type:e.LINEAR}},wi[a.ORE]=function(t){return{A:.8,B:0,type:e.LINEAR}},wi[a.POWER]=function(t){return{A:1===t.laws.getLawSelected(Un.ELECTROTHERMAL_SMELTING)?.3:0,B:0,type:e.LINEAR}},wi),getGain:(Xi={},Xi[a.IRON]=function(t){return{A:.02*(1===t.laws.getLawSelected(Un.ELECTROTHERMAL_SMELTING)?1.3:1),B:0,type:e.LINEAR}},Xi),getStorage:{}},{id:i.EXPEDITION_CENTER,name:"Expedition Center",category:o.INDUSTRIAL,description:"Dedicated center of exploration provides a 5% multiplicative bonus to your expeditions outcome. Requires power and oxygen",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.METALLURGY)>0&&e.science.scienceResearches.getResearchLevel(O.GEOGRAPHY)>0},getCost:(Di={},Di[a.BEAM]=function(t){return{A:2,B:1+.25*gc(t),type:e.EXPONENTIAL}},Di[a.BRICK]=function(t){return{A:4*Nc(t),B:1+.25*gc(t),type:e.EXPONENTIAL}},Di[a.PLATE]=function(t){return{A:1,B:1+.25*gc(t),type:e.EXPONENTIAL}},Di),getConsumption:(Hi={},Hi[a.POWER]=function(t){return{A:.06,B:0,type:e.LINEAR}},Hi[a.OXYGEN]=function(t){return{A:.03,B:0,type:e.LINEAR}},Hi),getGain:{},getStorage:{}},{id:i.WAREHOUSE,name:"Warehouse",category:o.STORAGE,description:"Provides more raw materials storage",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.METALLURGY)>0},getCost:(xi={},xi[a.BEAM]=function(t){return{A:2,B:1+.25*gc(t),type:e.EXPONENTIAL}},xi[a.BRICK]=function(t){return{A:4*Nc(t),B:1+.25*gc(t),type:e.EXPONENTIAL}},xi),getConsumption:{},getGain:{},getStorage:(ki={},ki[a.STONE]=function(t){return{A:25*(1+.05*t.landingZone.landingZoneBuildings.getBuildingLevel(i.STORAGE_CONTAINER))*(1+1*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.MULTISTORE_WAREHOUSES)),B:0,type:e.LINEAR}},ki[a.ORE]=function(t){return{A:25*(1+.05*t.landingZone.landingZoneBuildings.getBuildingLevel(i.STORAGE_CONTAINER))*(1+1*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.MULTISTORE_WAREHOUSES)),B:0,type:e.LINEAR}},ki[a.BIOMASS]=function(t){return{A:25*(1+.05*t.landingZone.landingZoneBuildings.getBuildingLevel(i.STORAGE_CONTAINER))*(1+1*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.MULTISTORE_WAREHOUSES)),B:0,type:e.LINEAR}},ki[a.IRON]=function(t){return{A:10*(1+.05*t.landingZone.landingZoneBuildings.getBuildingLevel(i.STORAGE_CONTAINER))*(1+1*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.MULTISTORE_WAREHOUSES)),B:0,type:e.LINEAR}},ki[a.WOOD]=function(t){return{A:25*(1+.05*t.landingZone.landingZoneBuildings.getBuildingLevel(i.STORAGE_CONTAINER))*(1+1*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.MULTISTORE_WAREHOUSES)),B:0,type:e.LINEAR}},ki[a.PLATINUM]=function(t){return{A:5*(1+.05*t.landingZone.landingZoneBuildings.getBuildingLevel(i.STORAGE_CONTAINER))*(1+1*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.MULTISTORE_WAREHOUSES)),B:0,type:e.LINEAR}},ki[a.NUTRITION]=function(t){return{A:3*(1+.05*t.landingZone.landingZoneBuildings.getBuildingLevel(i.STORAGE_CONTAINER))*(1+1*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.MULTISTORE_WAREHOUSES)),B:0,type:e.LINEAR}},ki)},{id:i.TANK,name:"Cistern",category:o.STORAGE,description:"Provides oxygen and water storage",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.METALLURGY)>0},getCost:(Yi={},Yi[a.POWER]=function(t){return{A:30,B:1+.25*gc(t)*Ac(t),type:e.EXPONENTIAL}},Yi[a.PLATE]=function(t){return{A:2,B:1+.25*gc(t),type:e.EXPONENTIAL}},Yi[a.BRICK]=function(t){return{A:5*Nc(t),B:1+.25*gc(t),type:e.EXPONENTIAL}},Yi),getConsumption:{},getGain:{},getStorage:(Zi={},Zi[a.OXYGEN]=function(t){return{A:25,B:0,type:e.LINEAR}},Zi[a.WATER]=function(t){return{A:25,B:0,type:e.LINEAR}},Zi)},{id:i.COTTAGE,name:"Cottage",category:o.RESIDENTAL,description:"Provides additional living space for 2 colonists",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.COTTAGES)>0},getCost:(Wi={},Wi[a.POWER]=function(t){return{A:80,B:1+.5*gc(t)*Ac(t),type:e.EXPONENTIAL}},Wi[a.BRICK]=function(t){return{A:10*Nc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},Wi[a.BEAM]=function(t){return{A:8,B:1+.5*gc(t),type:e.EXPONENTIAL}},Wi),getConsumption:(Fi={},Fi[a.POWER]=function(t){return{A:.05,B:0,type:e.LINEAR}},Fi),getGain:{},getStorage:{},getMaxColonists:function(t){return{A:2,B:0,type:e.LINEAR}}},{id:i.CINEMA,name:"Cinema",category:o.PUBLIC,description:"Provides additional entertainment for your people",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.ENTERTAINMENT)>0},getCost:(Vi={},Vi[a.POWER]=function(t){return{A:380,B:1+.5*gc(t)*Ac(t),type:e.EXPONENTIAL}},Vi[a.BRICK]=function(t){return{A:10*Nc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},Vi[a.BEAM]=function(t){return{A:8,B:1+.5*gc(t),type:e.EXPONENTIAL}},Vi[a.PLATE]=function(t){return{A:5,B:1+.5*gc(t),type:e.EXPONENTIAL}},Vi),getConsumption:(ji={},ji[a.POWER]=function(t){return{A:.5,B:0,type:e.LINEAR}},ji),getGain:{},getStorage:{},getEffectGain:(Ki={},Ki[L.ENTERTAINMENT]=function(t){return{A:10,B:0,type:e.LINEAR}},Ki)},{id:i.SOCIAL_RESEARCH_CENTER,name:"Social Research Center",category:o.SCIENCE,description:"Provides additional research capacity and generation",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.SOCIAL_RESEARCH_CENTER)>0},getCost:(qi={},qi[a.POWER]=function(t){return{A:1200,B:1+.5*gc(t)*Ac(t),type:e.EXPONENTIAL}},qi[a.BRICK]=function(t){return{A:125*Nc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},qi[a.BEAM]=function(t){return{A:100,B:1+.5*gc(t),type:e.EXPONENTIAL}},qi[a.PLATE]=function(t){return{A:25,B:1+.5*gc(t),type:e.EXPONENTIAL}},qi),getConsumption:(zi={},zi[a.POWER]=function(t){return{A:1*mc(t),B:0,type:e.LINEAR}},zi),getGain:{},getStorage:(Qi={},Qi[a.RESEARCH]=function(t){return{A:225*yc(t),B:0,type:e.LINEAR}},Qi),getGainMultiplier:(Ji={},Ji[a.RESEARCH]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Ji)},{id:i.METALLURGY_COMPLEX,name:"Metallurgy Complex",category:o.INDUSTRIAL,description:"Provides bonus to metal output",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.ADVANCED_METALLURGY)>0},getCost:($i={},$i[a.PLATINUM]=function(t){return{A:20*Oc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},$i[a.BRICK]=function(t){return{A:100*Nc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},$i[a.BEAM]=function(t){return{A:25,B:1+.5*gc(t),type:e.EXPONENTIAL}},$i[a.PLATE]=function(t){return{A:5,B:1+.5*gc(t),type:e.EXPONENTIAL}},$i),getConsumption:(eo={},eo[a.POWER]=function(t){return{A:1,B:0,type:e.LINEAR}},eo),getGain:{},getStorage:{},getGainMultiplier:(to={},to[a.IRON]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},to)},{id:i.BUILDING_FACTORY,name:"Building Materials Factory",category:o.INDUSTRIAL,description:"Provides bonus to bricks, beams and plates production",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.ADVANCED_METALLURGY)>0},getCost:(no={},no[a.BRICK]=function(t){return{A:30*Nc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},no[a.BEAM]=function(t){return{A:75,B:1+.5*gc(t),type:e.EXPONENTIAL}},no[a.PLATE]=function(t){return{A:5,B:1+.5*gc(t),type:e.EXPONENTIAL}},no),getConsumption:(io={},io[a.POWER]=function(t){return{A:1,B:0,type:e.LINEAR}},io),getGain:{},getStorage:{},getGainMultiplier:(oo={},oo[a.BEAM]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},oo[a.BRICK]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},oo[a.PLATE]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},oo)},{id:i.STORAGE_CONTAINER,name:"Storage Container",category:o.STORAGE,description:"Provides 5% bonus to your materials storage in warehouses",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.GERMETISATION)>0},getCost:(ro={},ro[a.POWER]=function(t){return{A:5,B:1+.1*gc(t)*Ac(t),type:e.EXPONENTIAL}},ro[a.PLATE]=function(t){return{A:5,B:1+.1*gc(t),type:e.EXPONENTIAL}},ro[a.RUBBER]=function(t){return{A:5*Rc(t),B:1+.1*gc(t),type:e.EXPONENTIAL}},ro),getConsumption:{},getGain:{},getStorage:{}},{id:i.SOLAR_PANEL,category:o.POWER,name:"Solar Panel",description:"Provides power from solar radiation",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.ELECTRICITY_STUDY)>0},getCost:(ao={},ao[a.PLATE]=function(t){return{A:6,B:1+.3*gc(t),type:e.EXPONENTIAL}},ao[a.WIRE]=function(t){return{A:10*Ic(t),B:1+.3*gc(t),type:e.EXPONENTIAL}},ao[a.SEMICONDUCTOR]=function(t){return{A:10,B:1+.3*gc(t),type:e.EXPONENTIAL}},ao),getConsumption:{},getGain:(co={},co[a.POWER]=function(t){return{A:.4*Math.pow(1.1,t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.BETTER_PHOTOELEMENTS)),B:0,type:e.LINEAR}},co),getStorage:{}},{id:i.SHRINE,category:o.PUBLIC,name:"Shrine",description:"Provides some religious service",unlockCondition:function(e){var t;return e.science.scienceResearches.getResearchLevel(O.PUBLIC_SERVICE)>0&&((null===(t=C.find((function(e){return e.id===L.RELIGION})))||void 0===t?void 0:t.unlockCondition(e))||!1)},getCost:(so={},so[a.BEAM]=function(t){return{A:50,B:1+.3*gc(t),type:e.EXPONENTIAL}},so[a.STONE]=function(t){return{A:1e3,B:1+.3*gc(t),type:e.EXPONENTIAL}},so),getConsumption:{},getGain:{},getStorage:{},getEffectGain:(uo={},uo[L.RELIGION]=function(t){return{A:3,B:0,type:e.LINEAR}},uo)},{id:i.DATA_CENTER,name:"Data Center",category:o.SCIENCE,description:"Provides additional research capacity and generation",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.COMPUTERS)>0},getCost:(lo={},lo[a.POWER]=function(t){return{A:1500,B:1+.5*gc(t)*Ac(t),type:e.EXPONENTIAL}},lo[a.BRICK]=function(t){return{A:125*Nc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},lo[a.COMPUTER]=function(t){return{A:20,B:1+.5*gc(t),type:e.EXPONENTIAL}},lo[a.WIRE]=function(t){return{A:75*Ic(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},lo),getConsumption:(po={},po[a.POWER]=function(t){return{A:2*mc(t),B:0,type:e.LINEAR}},po),getGain:{},getStorage:(Eo={},Eo[a.RESEARCH]=function(t){return{A:675*yc(t),B:0,type:e.LINEAR}},Eo),getGainMultiplier:(go={},go[a.RESEARCH]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},go)},{id:i.APARTMENT,name:"Apartment",category:o.RESIDENTAL,description:"Provides additional living space for 5 colonists",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.HIGH_GRAVITY_PHYSICS)>0},getCost:(Ao={},Ao[a.POWER]=function(t){return{A:1280,B:1+.5*gc(t)*Ac(t),type:e.EXPONENTIAL}},Ao[a.BRICK]=function(t){return{A:180*Nc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},Ao[a.WIRE]=function(t){return{A:50*Ic(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},Ao),getConsumption:(fo={},fo[a.POWER]=function(t){return{A:.05,B:0,type:e.LINEAR}},fo),getGain:{},getStorage:{},getMaxColonists:function(t){return{A:5,B:0,type:e.LINEAR}}},{id:i.TEMPLE,category:o.PUBLIC,name:"Temple",description:"Great building devoted to the Gods. Significantly boosts your religion service",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.HIGH_GRAVITY_PHYSICS)>0},getCost:(Ro={},Ro[a.BRICK]=function(t){return{A:750*Nc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},Ro[a.BEAM]=function(t){return{A:500,B:1+.5*gc(t),type:e.EXPONENTIAL}},Ro[a.PLATINUM]=function(t){return{A:500*Oc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},Ro),getConsumption:{},getGain:{},getStorage:{},getEffectGain:(Io={},Io[L.RELIGION]=function(t){return{A:10,B:0,type:e.LINEAR}},Io)},{id:i.PANDEMIC_RESEARCH_CENTER,name:"Pandemic Research Center",category:o.PUBLIC,description:"Researches viruses and other diseases. Each level decrease colony healthcare requirements by 5%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.ADVANCED_ANATOMY)>0},getCost:(No={},No[a.POWER]=function(t){return{A:3280,B:1+.5*gc(t)*Ac(t),type:e.EXPONENTIAL}},No[a.BRICK]=function(t){return{A:180*Nc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},No[a.PLASTICS]=function(t){return{A:150*Rc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},No[a.RUBBER]=function(t){return{A:150*Rc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},No),getConsumption:(Oo={},Oo[a.POWER]=function(t){return{A:2,B:0,type:e.LINEAR}},Oo),getGain:{},getStorage:{}},{id:i.ADMINISTRATIVE_CENTER,name:"Administrative Service Center",category:o.PUBLIC,description:"Bureaucratic center of your colony. Each level decrease public services requirements of your people by 2%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.PUBLIC_SERVICE)>0},getCost:(yo={},yo[a.POWER]=function(t){return{A:3280,B:1+.5*gc(t)*Ac(t),type:e.EXPONENTIAL}},yo[a.BRICK]=function(t){return{A:180*Nc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},yo[a.BEAM]=function(t){return{A:150,B:1+.5*gc(t),type:e.EXPONENTIAL}},yo[a.PLASTICS]=function(t){return{A:150*Rc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},yo),getConsumption:(mo={},mo[a.POWER]=function(t){return{A:2,B:0,type:e.LINEAR}},mo),getGain:{},getStorage:{}},{id:i.ELECTRONICS_FACTORY,name:"Electronics Factory",category:o.INDUSTRIAL,description:"Provides bonus to wires, semiconductors and computers production",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.ELECTRONICS)>0},getCost:(Lo={},Lo[a.BRICK]=function(t){return{A:30*Nc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},Lo[a.SEMICONDUCTOR]=function(t){return{A:15,B:1+.5*gc(t),type:e.EXPONENTIAL}},Lo[a.WIRE]=function(t){return{A:5*Ic(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},Lo),getConsumption:(To={},To[a.POWER]=function(t){return{A:1,B:0,type:e.LINEAR}},To),getGain:{},getStorage:{},getGainMultiplier:(Co={},Co[a.WIRE]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},Co[a.COMPUTER]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},Co[a.SEMICONDUCTOR]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},Co)},{id:i.SOLAR_SATELLITE,category:r.ORBIT,name:"Satellite Solar Panel",description:"Provides power from solar radiation. More efficient comparing to planet surface analog",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.ROCKET_SCIENCE)>0},getCost:(ho={},ho[a.ROCKET_ENGINE]=function(t){return{A:1*fc(t),B:1+.3*gc(t),type:e.EXPONENTIAL}},ho[a.WIRE]=function(t){return{A:5*Ic(t),B:1+.3*gc(t),type:e.EXPONENTIAL}},ho[a.SEMICONDUCTOR]=function(t){return{A:5,B:1+.3*gc(t),type:e.EXPONENTIAL}},ho),getConsumption:{},getGain:(So={},So[a.POWER]=function(t){return{A:1.5*Math.pow(1.1,t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.BETTER_PHOTOELEMENTS)),B:0,type:e.LINEAR}},So),getStorage:(vo={},vo[a.POWER]=function(t){return{A:25,B:0,type:e.LINEAR}},vo)},{id:i.ORBITAL_TOURISM_CENTER,category:r.ORBIT,name:"Orbital Tourism Center",description:"Small space station that provides some entertainment and aesthetics to your people",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.RADIATION_STUDY)>0},getCost:(Po={},Po[a.ROCKET_ENGINE]=function(t){return{A:5*fc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},Po[a.COMPUTER]=function(t){return{A:25,B:1+.5*gc(t),type:e.EXPONENTIAL}},Po[a.RUBBER]=function(t){return{A:150*Rc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},Po),getConsumption:(Bo={},Bo[a.POWER]=function(t){return{A:5,B:0,type:e.LINEAR}},Bo),getGain:{},getStorage:{},getEffectGain:(_o={},_o[L.AESTHETICS]=function(t){return{A:8*(1+.5*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.FASTER_ROCKETS)),B:0,type:e.LINEAR}},_o[L.ENTERTAINMENT]=function(t){return{A:8*(1+.5*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.FASTER_ROCKETS)),B:0,type:e.LINEAR}},_o)},{id:i.SPACE_TELESCOPE,category:r.ORBIT,name:"Space Telescope",description:"Provides research capacity bonus",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.ASTROPHYSICS)>0},getCost:(Mo={},Mo[a.ROCKET_ENGINE]=function(t){return{A:1*fc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},Mo[a.PLASTICS]=function(t){return{A:25*Rc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},Mo[a.RUBBER]=function(t){return{A:50*Rc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},Mo),getConsumption:(Uo={},Uo[a.POWER]=function(t){return{A:2,B:0,type:e.LINEAR}},Uo),getGain:{},getStorage:(Go={},Go[a.RESEARCH]=function(t){return{A:200*Math.pow(1.4,t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.GRAVITATIONAL_LENSING))*Math.pow(1.5,t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.GRAPHENE_SENSORS))*Math.pow(1.25,t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.NEUTRINO_DETECTORS)),B:0,type:e.LINEAR}},Go),getEffectGain:{}},{id:i.ICE_MELTING_STATION,category:r.MOON,name:"Ice Melting Station",description:"Melts ice on your cold satellite to obtain water",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.GRAVITY_THEORY)>0},getCost:(bo={},bo[a.ROCKET_ENGINE]=function(t){return{A:15*fc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},bo[a.COMPUTER]=function(t){return{A:25,B:1+.5*gc(t),type:e.EXPONENTIAL}},bo[a.RUBBER]=function(t){return{A:150*Rc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},bo[a.BRICK]=function(t){return{A:250*Nc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},bo),getConsumption:(wo={},wo[a.POWER]=function(t){return{A:5,B:0,type:e.LINEAR}},wo),getGain:(Xo={},Xo[a.WATER]=function(t){return{A:.3,B:0,type:e.LINEAR}},Xo),getStorage:{},getEffectGain:{}},{id:i.FUEL_FACTORY,category:r.MOON,name:"Fuel Factory",description:"Move toxic fuel production outside of your planet to avoid ecology restrictions and enlarge your fuel production capabilities",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.GRAVITY_THEORY)>0},getCost:(Do={},Do[a.ROCKET_ENGINE]=function(t){return{A:25*fc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},Do[a.SEMICONDUCTOR]=function(t){return{A:125,B:1+.5*gc(t),type:e.EXPONENTIAL}},Do[a.PLASTICS]=function(t){return{A:150*Rc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},Do[a.PLATINUM]=function(t){return{A:250*Oc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},Do),getConsumption:(Ho={},Ho[a.POWER]=function(t){return{A:2,B:0,type:e.LINEAR}},Ho),getGain:{},getGainMultiplier:(xo={},xo[a.FUEL]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},xo),getStorage:{},getEffectGain:{}},{id:i.NANOBOTS_FACTORY,name:"Nanobots Factory",category:r.MOON,description:"Each level provides 3% bonus to all your crafting productions",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.NANO_BOTS)>0&&e.science.scienceResearches.getResearchLevel(O.GRAVITY_THEORY)>0},getCost:(ko={},ko[a.ROCKET_ENGINE]=function(t){return{A:20*fc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},ko[a.COMPUTER]=function(t){return{A:50,B:1+.5*gc(t),type:e.EXPONENTIAL}},ko[a.PLATINUM]=function(t){return{A:225*Oc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},ko[a.WIRE]=function(t){return{A:75*Ic(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},ko),getConsumption:(Yo={},Yo[a.POWER]=function(t){return{A:3,B:0,type:e.LINEAR}},Yo),getGain:{},getStorage:{},getGainMultiplier:{}},{id:i.ZOO,name:"Zoo",category:o.PUBLIC,description:"Place where people can enjoy watching animals similar to ones they saw before on Earth",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.GENES_MODIFICATION)>0},getCost:(Zo={},Zo[a.BRICK]=function(t){return{A:1e3,B:1+.5*gc(t),type:e.EXPONENTIAL}},Zo[a.RUBBER]=function(t){return{A:400*Rc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},Zo[a.PLATE]=function(t){return{A:500,B:1+.5*gc(t),type:e.EXPONENTIAL}},Zo),getConsumption:(Wo={},Wo[a.POWER]=function(t){return{A:.5,B:0,type:e.LINEAR}},Wo[a.WATER]=function(t){return{A:.2,B:0,type:e.LINEAR}},Wo[a.NUTRITION]=function(t){return{A:.2,B:0,type:e.LINEAR}},Wo),getGain:{},getStorage:{},getEffectGain:(Fo={},Fo[L.ENTERTAINMENT]=function(t){return{A:10,B:0,type:e.LINEAR}},Fo)},{id:i.SMELTING_FACTORY,name:"Smelting Complex",category:r.AID,description:"Uses ore and power to produce big amount of metal. Produces a lot pollution, so placing it on uninhabited place is preferred",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.RELATIVITY_PHYSICS)>0},getCost:(Vo={},Vo[a.ROCKET_ENGINE]=function(t){return{A:40*fc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},Vo[a.STONE]=function(t){return{A:1250,B:1+.5*gc(t),type:e.EXPONENTIAL}},Vo),getConsumption:(jo={},jo[a.POWER]=function(t){return{A:5,B:0,type:e.LINEAR}},jo[a.ORE]=function(t){return{A:10,B:0,type:e.LINEAR}},jo),getGain:(Ko={},Ko[a.IRON]=function(t){return{A:.05,B:0,type:e.LINEAR}},Ko),getStorage:{}},{id:i.PLATINUM_MINE,name:"Platinum Mine",category:r.AID,description:"Provides stable platinum source, but requires a lot power to operate",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.RELATIVITY_PHYSICS)>0},getCost:(qo={},qo[a.ROCKET_ENGINE]=function(t){return{A:50*fc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},qo[a.PLATE]=function(t){return{A:3250,B:1+.5*gc(t),type:e.EXPONENTIAL}},qo),getConsumption:(zo={},zo[a.POWER]=function(t){return{A:8,B:0,type:e.LINEAR}},zo),getGain:(Qo={},Qo[a.PLATINUM]=function(t){return{A:.1,B:0,type:e.LINEAR}},Qo),getStorage:{}},{id:i.SPACE_STORAGE_HUB,name:"Space Warehouse",category:r.AID,description:"What could be better than warehouse? Yes, only warehouse in space! Also affected by storage containers.",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.RELATIVITY_PHYSICS)>0},getCost:(Jo={},Jo[a.ROCKET_ENGINE]=function(t){return{A:30*fc(t),B:1+.25*gc(t),type:e.EXPONENTIAL}},Jo[a.PLATE]=function(t){return{A:200,B:1+.25*gc(t),type:e.EXPONENTIAL}},Jo[a.WIRE]=function(t){return{A:200*Ic(t),B:1+.25*gc(t),type:e.EXPONENTIAL}},Jo),getConsumption:{},getGain:{},getStorage:($o={},$o[a.STONE]=function(t){return{A:125*(1+.05*t.landingZone.landingZoneBuildings.getBuildingLevel(i.STORAGE_CONTAINER))*(1+1*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.MULTISTORE_WAREHOUSES)),B:0,type:e.LINEAR}},$o[a.ORE]=function(t){return{A:125*(1+.05*t.landingZone.landingZoneBuildings.getBuildingLevel(i.STORAGE_CONTAINER))*(1+1*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.MULTISTORE_WAREHOUSES)),B:0,type:e.LINEAR}},$o[a.BIOMASS]=function(t){return{A:125*(1+.05*t.landingZone.landingZoneBuildings.getBuildingLevel(i.STORAGE_CONTAINER))*(1+1*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.MULTISTORE_WAREHOUSES)),B:0,type:e.LINEAR}},$o[a.IRON]=function(t){return{A:50*(1+.05*t.landingZone.landingZoneBuildings.getBuildingLevel(i.STORAGE_CONTAINER))*(1+1*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.MULTISTORE_WAREHOUSES)),B:0,type:e.LINEAR}},$o[a.WOOD]=function(t){return{A:125*(1+.05*t.landingZone.landingZoneBuildings.getBuildingLevel(i.STORAGE_CONTAINER))*(1+1*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.MULTISTORE_WAREHOUSES)),B:0,type:e.LINEAR}},$o[a.PLATINUM]=function(t){return{A:25*(1+.05*t.landingZone.landingZoneBuildings.getBuildingLevel(i.STORAGE_CONTAINER))*(1+1*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.MULTISTORE_WAREHOUSES)),B:0,type:e.LINEAR}},$o)},{id:i.PLUTO_MONUMENT,name:"Pluto Monument",category:r.AID,description:"This hostile and hot planet, literally made of iron will remind your people of the god of the Underground. Requires a lot resources, but provides significant motivation to religious people",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.RELATIVITY_PHYSICS)>0},getCost:(er={},er[a.ROCKET_ENGINE]=function(t){return{A:40*fc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},er[a.PLATE]=function(t){return{A:800,B:1+.5*gc(t),type:e.EXPONENTIAL}},er[a.PLATINUM]=function(t){return{A:1200*Oc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},er),getConsumption:{},getGain:{},getStorage:{},getEffectGain:(tr={},tr[L.RELIGION]=function(t){return{A:15,B:0,type:e.LINEAR}},tr)},{id:i.FLORA_PLANT,name:"Flora Plant",category:r.VENUS,description:"Hot and wet climate allows you to produce more biomass here. Requires power however to operate",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.HIGH_ENERGY_PHYSICS)>0},getCost:(nr={},nr[a.ROCKET_ENGINE]=function(t){return{A:100*fc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},nr[a.PLATE]=function(t){return{A:1250,B:1+.5*gc(t),type:e.EXPONENTIAL}},nr[a.BEAM]=function(t){return{A:1250,B:1+.5*gc(t),type:e.EXPONENTIAL}},nr),getConsumption:(ir={},ir[a.POWER]=function(t){return{A:5,B:0,type:e.LINEAR}},ir),getGain:(or={},or[a.BIOMASS]=function(t){return{A:.6,B:0,type:e.LINEAR}},or),getStorage:{}},{id:i.TROPIC_FOREST_PLANT,name:"Tropic Forest Plant",category:r.VENUS,description:"Plant large forest plantations to boost your foresters. Each level provides 3% bonus to wood output, but consumes biomass and water",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.HIGH_ENERGY_PHYSICS)>0},getCost:(rr={},rr[a.ROCKET_ENGINE]=function(t){return{A:90*fc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},rr[a.BIOMASS]=function(t){return{A:5e3,B:1+.5*gc(t),type:e.EXPONENTIAL}},rr),getConsumption:(ar={},ar[a.BIOMASS]=function(t){return{A:.5,B:0,type:e.LINEAR}},ar[a.WATER]=function(t){return{A:.3,B:0,type:e.LINEAR}},ar),getGainMultiplier:(cr={},cr[a.WOOD]=function(t){return{A:1,B:1.03,type:e.EXPONENTIAL}},cr),getGain:{},getStorage:{}},{id:i.ORGANIC_PROCESSING_FACTORY,name:"Organics Processing Factory",category:r.VENUS,description:"Uses suitable climate to decrease cost of organic materials synthesis. Each level increase rubber and plastic output by 5%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.HIGH_ENERGY_PHYSICS)>0},getCost:(sr={},sr[a.ROCKET_ENGINE]=function(t){return{A:100*fc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},sr[a.FUEL]=function(t){return{A:500,B:1+.5*gc(t),type:e.EXPONENTIAL}},sr),getConsumption:(ur={},ur[a.POWER]=function(t){return{A:2,B:0,type:e.LINEAR}},ur),getGainMultiplier:(lr={},lr[a.PLASTICS]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},lr[a.RUBBER]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},lr),getGain:{},getStorage:{}},{id:i.ADRONIC_COLLIDER,category:r.VENUS,name:"Hadron Collider",description:"Consumes huge amount of power, but provides significant research capacity",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.MAGNETODYNAMICS)>0},getCost:(pr={},pr[a.ROCKET_ENGINE]=function(t){return{A:100*fc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},pr[a.PLATE]=function(t){return{A:2500,B:1+.5*gc(t),type:e.EXPONENTIAL}},pr[a.WIRE]=function(t){return{A:2500*Ic(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},pr),getConsumption:(Er={},Er[a.POWER]=function(t){return{A:25*Math.pow(.8,ju.landingZone.landingZoneUpgrades.getUpgradeLevel(n.EFFICIENT_COLLIDERS)),B:0,type:e.LINEAR}},Er),getGainMultiplier:(dr={},dr[a.RESEARCH]=function(t){return{A:1,B:1.15,type:e.EXPONENTIAL}},dr),getGain:{},getStorage:(gr={},gr[a.RESEARCH]=function(t){return{A:2250,B:0,type:e.LINEAR}},gr),getEffectGain:{}},{id:i.SPACESHIP_STATION,category:r.OUTER,name:"Spaceship Station",description:"Unlocks building ships. Each level reduce rocket consumption for all buildings by 2%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.SPACESHIP_BUILDINGS)>0},getCost:(Ar={},Ar[a.ROCKET_ENGINE]=function(t){return{A:120*fc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},Ar[a.PLATE]=function(t){return{A:2500,B:1+.5*gc(t),type:e.EXPONENTIAL}},Ar[a.WIRE]=function(t){return{A:2500*Ic(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},Ar),getConsumption:(fr={},fr[a.POWER]=function(t){return{A:10,B:0,type:e.LINEAR}},fr),getGain:{},getStorage:{},getEffectGain:{}},{id:i.SPACESHIP_FACTORY,category:r.OUTER,name:"Spaceship Factory",description:"Each level increase rocket output by 5%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.SPACESHIP_BUILDINGS)>0},getCost:(Rr={},Rr[a.ROCKET_ENGINE]=function(t){return{A:240*fc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},Rr[a.PLATE]=function(t){return{A:5500,B:1+.5*gc(t),type:e.EXPONENTIAL}},Rr[a.WIRE]=function(t){return{A:4500*Ic(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},Rr),getConsumption:(Ir={},Ir[a.POWER]=function(t){return{A:10,B:0,type:e.LINEAR}},Ir),getGainMultiplier:(Nr={},Nr[a.ROCKET_ENGINE]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},Nr),getGain:{},getStorage:{},getEffectGain:{}},{id:i.ORBITAL_LIVING_MODULE,category:r.OUTER,name:"Orbital Living Module",description:"Each level provides additional space for 4 colonists",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.MAGNETIC_FIELD_GENERATOR)>0},getCost:(Or={},Or[a.ROCKET_ENGINE]=function(t){return{A:240*fc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},Or[a.MAGNETO]=function(t){return{A:1,B:1+.5*gc(t),type:e.EXPONENTIAL}},Or[a.RUBBER]=function(t){return{A:200*Rc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},Or),getConsumption:(yr={},yr[a.POWER]=function(t){return{A:4,B:0,type:e.LINEAR}},yr),getMaxColonists:function(t){return{A:4,B:0,type:e.LINEAR}},getGain:{},getStorage:{},getEffectGain:{}},{id:i.ORBITAL_SUPPLY_MODULE,category:r.OUTER,name:"Orbital Supply Module",description:"Provides general service to your colonists",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.MAGNETIC_FIELD_GENERATOR)>0},getCost:(mr={},mr[a.ROCKET_ENGINE]=function(t){return{A:420*fc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},mr[a.MAGNETO]=function(t){return{A:4,B:1+.5*gc(t),type:e.EXPONENTIAL}},mr[a.PLASTICS]=function(t){return{A:2400*Rc(t),B:1+.5*gc(t),type:e.EXPONENTIAL}},mr),getConsumption:(Lr={},Lr[a.POWER]=function(t){return{A:5,B:0,type:e.LINEAR}},Lr),getGain:{},getStorage:{},getEffectGain:(Tr={},Tr[L.HEALTHCARE]=function(t){return{A:t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.ORBITAL_CLINIC)?5:0,B:0,type:e.LINEAR}},Tr[L.RELIGION]=function(t){return{A:5,B:0,type:e.LINEAR}},Tr[L.ENTERTAINMENT]=function(t){return{A:5,B:0,type:e.LINEAR}},Tr[L.SECURITY]=function(t){return{A:5,B:0,type:e.LINEAR}},Tr[L.AESTHETICS]=function(t){return{A:5,B:0,type:e.LINEAR}},Tr)}],hc=function(e){var t,n,i,o,r,c,s,u,l,p,E,d,g,A,f,R,I,N,O,y,m,L,T,C,h,S=((t={})[a.POWER]={income:{linear:[],multiplier:[],consumption:[]},max:{linear:[{id:"base",label:"Base battery",value:20}],multiplier:[]}},t[a.STONE]={max:{linear:[{id:"base",label:"Ship hold",value:20}],multiplier:[]},income:{linear:[],multiplier:[],consumption:[]}},t[a.ORE]={max:{linear:[{id:"base",label:"Ship hold",value:20}],multiplier:[]},income:{linear:[],multiplier:[],consumption:[]}},t[a.BIOMASS]={max:{linear:[{id:"base",label:"Ship hold",value:20}],multiplier:[]},income:{linear:[],multiplier:[],consumption:[]}},t[a.OXYGEN]={income:{linear:[],multiplier:[],consumption:[]},max:{linear:[{id:"base",label:"Base",value:10}],multiplier:[]}},t[a.WATER]={income:{linear:[],multiplier:[],consumption:[{id:"population",label:"Population",value:.005*ju.colony.colonists}]},max:{linear:[{id:"base",label:"Base",value:10}],multiplier:[]}},t[a.NUTRITION]={income:{linear:[],multiplier:[],consumption:[{id:"population",label:"Population",value:.1*ju.colony.colonists}]},max:{linear:[{id:"base",label:"Base",value:10}],multiplier:[]}},t[a.RESEARCH]={income:{linear:[],multiplier:[],consumption:[]},max:{linear:[],multiplier:[]}},t[a.IRON]={income:{linear:[],multiplier:[],consumption:[]},max:{linear:[],multiplier:[]}},t[a.PLATINUM]={income:{linear:[],multiplier:[],consumption:[]},max:{linear:[],multiplier:[]}},t[a.WOOD]={income:{linear:[],multiplier:[],consumption:[]},max:{linear:[{id:"base",label:"Base",value:10}],multiplier:[]}},t[a.BEAM]={income:{linear:[],multiplier:[],consumption:[]},max:{linear:[],multiplier:[]}},t[a.BRICK]={income:{linear:[],multiplier:[],consumption:[]},max:{linear:[],multiplier:[]}},t[a.PLATE]={income:{linear:[],multiplier:[],consumption:[]},max:{linear:[],multiplier:[]}},t[a.WIRE]={income:{linear:[],multiplier:[],consumption:[]},max:{linear:[],multiplier:[]}},t[a.RUBBER]={income:{linear:[],multiplier:[],consumption:[]},max:{linear:[],multiplier:[]}},t[a.PLASTICS]={income:{linear:[],multiplier:[],consumption:[]},max:{linear:[],multiplier:[]}},t[a.FUEL]={income:{linear:[],multiplier:[],consumption:[]},max:{linear:[],multiplier:[]}},t[a.SEMICONDUCTOR]={income:{linear:[],multiplier:[],consumption:[]},max:{linear:[],multiplier:[]}},t[a.COMPUTER]={income:{linear:[],multiplier:[],consumption:[]},max:{linear:[],multiplier:[]}},t[a.ROCKET_ENGINE]={income:{linear:[],multiplier:[],consumption:[]},max:{linear:[],multiplier:[]}},t[a.GRAPHENE]={income:{linear:[],multiplier:[],consumption:[]},max:{linear:[],multiplier:[]}},t[a.MAGNETO]={income:{linear:[],multiplier:[],consumption:[]},max:{linear:[],multiplier:[]}},t[a.KNOWLEDGE_POINT]={income:{linear:[],multiplier:[],consumption:[]},max:{linear:[],multiplier:[]}},t[a.COLONIZE_XP]={income:{linear:[],multiplier:[],consumption:[]},max:{linear:[],multiplier:[]}},t);for(var v in S)(n=S[v].income.linear).push.apply(n,ju.landingZone.landingZoneBuildings.getResourceBeingProduced(v)),(i=S[v].income.multiplier).push.apply(i,ju.landingZone.landingZoneBuildings.getResourceMultiplier(v)),null===(d=S[v].income.consumption)||void 0===d||d.push.apply(d,ju.landingZone.landingZoneBuildings.getResourceBeingConsumed(v)),null===(g=S[v].max.linear)||void 0===g||g.push.apply(g,ju.landingZone.landingZoneBuildings.getResourceBeingStored(v)),(o=S[v].income.linear).push.apply(o,ju.landingZone.landingZoneUpgrades.getGain(v)),(r=S[v].income.multiplier).push.apply(r,ju.landingZone.landingZoneUpgrades.getGainMultiplier(v)),null===(A=S[v].max.linear)||void 0===A||A.push.apply(A,ju.landingZone.landingZoneUpgrades.getCapacity(v)),null===(f=S[v].max.multiplier)||void 0===f||f.push.apply(f,ju.landingZone.landingZoneUpgrades.getCapacityMult(v)),(c=S[v].income.linear).push.apply(c,ju.colony.colonyJobs.getResourceBeingProduced(v)),null===(R=S[v].income.consumption)||void 0===R||R.push.apply(R,ju.colony.colonyJobs.getResourceBeingConsumed(v)),null===(I=S[v].income.multiplier)||void 0===I||I.push.apply(I,ju.colony.colonyJobs.getResourceBeingMultiplied(v)),(s=S[v].income.linear).push.apply(s,ju.crafting.craftingJobs.getResourceBeingProduced(v)),null===(N=S[v].income.consumption)||void 0===N||N.push.apply(N,ju.crafting.craftingJobs.getResourceBeingConsumed(v)),(u=S[v].income.linear).push.apply(u,ju.laws.getResourceBeingProduced(v)),(l=S[v].income.multiplier).push.apply(l,ju.laws.getResourceMultiplier(v)),null===(O=S[v].income.consumption)||void 0===O||O.push.apply(O,ju.laws.getResourceBeingConsumed(v)),null===(y=S[v].max.linear)||void 0===y||y.push.apply(y,ju.laws.getResourceBeingStored(v)),(p=S[v].income.linear).push.apply(p,ju.prestige.transmitKnowledge.getResourceBeingProduced(v)),(E=S[v].income.multiplier).push.apply(E,ju.prestige.transmitKnowledge.getResourceMultiplier(v)),null===(m=S[v].max.linear)||void 0===m||m.push.apply(m,ju.prestige.transmitKnowledge.getResourceBeingStored(v)),null===(L=S[v].max.multiplier)||void 0===L||L.push.apply(L,ju.prestige.transmitKnowledge.getCapacityMult(v)),null===(T=S[v].income.multiplier)||void 0===T||T.push.apply(T,ju.prestige.colonizePlanet.getResourceMultiplier(v)),null===(C=S[v].max.multiplier)||void 0===C||C.push.apply(C,ju.prestige.colonizePlanet.getCapacityMultiplier(v)),null===(h=S[v].income.multiplier)||void 0===h||h.push.apply(h,ju.environment.climate.getResourceMultiplier(v));return S},Sc=function(){return Sc=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Sc.apply(this,arguments)},vc=function(){function e(){this.cachedBreakdown={},this.resourcesStatus=T.map((function(e){return{id:e.id,amount:0,balance:0,max:1,hasCapacityLimit:!0,potentialEfficiency:1}}))}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.getResourceEfficiency=function(t){return t in e.lackEfficiencyResources?null==e.lackEfficiencyResources[t]?1:e.lackEfficiencyResources[t]:1},e.prototype.addResource=function(e,t){var n=this.resourcesStatus.findIndex((function(t){return t.id===e}));if(n<0){n=this.resourcesStatus.length;var i=T.find((function(t){return t.id===e}));if(!i)return;this.resourcesStatus.push({id:e,amount:0,balance:0,hasCapacityLimit:i.hasCapacityLimit,max:i.hasCapacityLimit?0:-1,potentialEfficiency:1})}this.resourcesStatus[n].amount=this.resourcesStatus[n].amount+t,this.resourcesStatus[n].max>0&&(this.resourcesStatus[n].amount=Math.min(this.resourcesStatus[n].amount,this.resourcesStatus[n].max)),this.resourcesStatus[n].amount<0&&(this.resourcesStatus[n].amount=0)},e.prototype.setResource=function(e,t){var n=this.resourcesStatus.findIndex((function(t){return t.id===e}));if(n<0){n=this.resourcesStatus.length;var i=T.find((function(t){return t.id===e}));if(!i)return;this.resourcesStatus.push({id:e,amount:0,balance:0,hasCapacityLimit:i.hasCapacityLimit,max:i.hasCapacityLimit?0:-1,potentialEfficiency:1})}this.resourcesStatus[n].amount=t},e.prototype.subtractResource=function(e,t){var n=this.resourcesStatus.findIndex((function(t){return t.id===e}));n<0||(this.resourcesStatus[n].amount=this.resourcesStatus[n].amount-t)},e.prototype.subtractResourceBatch=function(e){var t=this;e.forEach((function(e){t.subtractResource(e.id,e.amount)}))},e.prototype.setBalance=function(e,t){var n=this.resourcesStatus.findIndex((function(t){return t.id===e}));if(n<0){n=this.resourcesStatus.length;var i=T.find((function(t){return t.id===e}));if(!i)return;this.resourcesStatus.push({id:e,amount:0,balance:0,hasCapacityLimit:i.hasCapacityLimit,max:i.hasCapacityLimit?0:-1,potentialEfficiency:1})}this.resourcesStatus[n].balance=t},e.prototype.setCapacity=function(e,t){var n=this.resourcesStatus.findIndex((function(t){return t.id===e}));if(n<0){n=this.resourcesStatus.length;var i=T.find((function(t){return t.id===e}));if(!i)return;this.resourcesStatus.push({id:e,amount:0,balance:0,hasCapacityLimit:i.hasCapacityLimit,max:i.hasCapacityLimit?0:-1,potentialEfficiency:1})}this.resourcesStatus[n].max=t},e.prototype.saveBalances=function(){var e=this;ju.colony.colonyEffects.getBreakdowns();var t=hc(),n={};T.forEach((function(i){var o,r,a,c;if(i.unlockCondition(ju)){n[i.id]={max:{income:[],multiplier:[],consumption:[]},income:{income:[],multiplier:[],consumption:[]}};var s=t[i.id].max.linear.reduce((function(e,t){return e+t.value}),0),u=t[i.id].max.multiplier.reduce((function(e,t){return e*t.value}),1);e.setCapacity(i.id,s*u),n[i.id].max.income=t[i.id].max.linear.filter((function(e){return e.value})).map((function(e){return Sc(Sc({},e),{value:"+".concat(e.value.toPrecision(4))})})),n[i.id].max.multiplier=t[i.id].max.multiplier.filter((function(e){return 1!==e.value})).map((function(e){return Sc(Sc({},e),{value:"x".concat(e.value.toPrecision(4))})}));var l=t[i.id].income.linear.reduce((function(e,t){return e+t.value}),0),p=t[i.id].income.multiplier.reduce((function(e,t){return e*t.value}),1),E=(null===(o=t[i.id].income.consumption)||void 0===o?void 0:o.reduce((function(e,t){return e+t.value}),0))||0;if(e.setBalance(i.id,l*p-E),null===(r=n[i.id])||void 0===r||(r.income.income=t[i.id].income.linear.filter((function(e){return e.value})).map((function(e){return Sc(Sc({},e),{value:"+".concat(e.value.toPrecision(4))})}))),null===(a=n[i.id])||void 0===a||(a.income.multiplier=t[i.id].income.multiplier.filter((function(e){return 1!==e.value})).map((function(e){return Sc(Sc({},e),{value:"x".concat(e.value.toPrecision(4))})}))),null===(c=n[i.id])||void 0===c||(c.income.consumption=t[i.id].income.consumption.filter((function(e){return e.value})).map((function(e){return Sc(Sc({},e),{value:"-".concat(e.value.toPrecision(4))})}))),i.hasCapacityLimit){var d=t[i.id].max.linear.reduce((function(e,t){return e+t.value}),0),g=t[i.id].max.multiplier.reduce((function(e,t){return e*t.value}),1);e.setCapacity(i.id,d*g)}}})),this.cachedBreakdown=n},e.prototype.resetEfficiency=function(){e.lackEfficiencyResources={},ju.landingZone.landingZoneBuildings.resetEfficiency(),ju.crafting.craftingJobs.resetEfficiency()},e.prototype.assertBalances=function(t){var n;void 0===t&&(t=!1),ju.colony.colonyEffects.getBreakdowns();var i=hc(),o={};for(var r in i){var c=i[r].income.linear.reduce((function(e,t){return e+t.value}),0),s=i[r].income.multiplier.reduce((function(e,t){return e*t.value}),1),u=(null===(n=i[r].income.consumption)||void 0===n?void 0:n.reduce((function(e,t){return e+t.value}),0))||0,l=this.getPotentialEfficiency(Math.max(0,this.getResource(r))+c*s,-u);r===a.POWER&&console.log("power: ",c*s,u,l,e.lackEfficiencyResources[r]),o[r]=l<1&&t?0:l}return o},e.prototype.shouldChangeBalances=function(e){return Object.values(e).findIndex((function(e){return e<1}))>-1},e.prototype.applyBalances=function(t){for(var n in t){var i=n;i in e.lackEfficiencyResources&&null!=e.lackEfficiencyResources[i]?e.lackEfficiencyResources[i]*=t[i]:e.lackEfficiencyResources[i]=t[i]}},e.prototype.applyEfficiencies=function(){ju.landingZone.landingZoneBuildings.adaptEfficiency(),ju.crafting.craftingJobs.adaptEfficiency()},e.prototype.assertAndApplyBalances=function(){var t=this.assertBalances(),n=0;for(console.log("balancesCalculated: ",t);this.shouldChangeBalances(t)&&n<15;)this.applyBalances(t),this.applyEfficiencies(),t=this.assertBalances(n>10),console.log("iter: ",n,t,e.lackEfficiencyResources[a.POWER]),n++},e.prototype.reassertBalances=function(){this.resetEfficiency(),this.assertAndApplyBalances(),this.saveBalances()},e.prototype.process=function(t){var n=this,i=!1,o="";this.resourcesStatus.forEach((function(e){e.balance<0&&e.balance<-e.amount&&(i=!0,o=e.id)})),i&&(console.log("should re-assert: ",i,o,e.lackEfficiencyResources),this.reassertBalances()),this.resourcesStatus.forEach((function(e){n.addResource(e.id,e.balance*t)}))},e.prototype.getResource=function(e){var t=this.resourcesStatus.findIndex((function(t){return t.id===e}));return t<0?0:this.resourcesStatus[t].amount},e.prototype.getBalance=function(e){var t=this.resourcesStatus.findIndex((function(t){return t.id===e}));return t<0?0:this.resourcesStatus[t].balance},e.prototype.getPotentialEfficiency=function(e,t){return t>=0?1:Math.min(1,-Math.max(0,e)/t)},e.prototype.getBatchObject=function(){return this.resourcesStatus.reduce((function(e,t){return e[t.id]=t.amount,e}),{})},e.prototype.getBatchBalanceObject=function(){return this.resourcesStatus.reduce((function(e,t){return e[t.id]=t.balance,e}),{})},e.prototype.getResourceBalance=function(e){var t=this.resourcesStatus.findIndex((function(t){return t.id===e}));return t<0?0:this.resourcesStatus[t].balance},e.prototype.getResourceCap=function(e){var t=this.resourcesStatus.findIndex((function(t){return t.id===e}));return t<0?0:this.resourcesStatus[t].max},e.prototype.assertEnought=function(e,t,n){var i=[];return e.forEach((function(e){var n="0";if(t[e.id]||(t[e.id]=0),e.amount&&e.amount>0&&t[e.id]>0){var o=100*t[e.id]/e.amount;o>100&&(o=100),n=o.toPrecision(3)}e.amount>0&&i.push({id:e.id,name:e.name,amount:P(e.amount),percentage:n,maxAmount:P(e.max),isAvailable:e.max>=1,eta:v(e.eta)})})),i},e.prototype.exportData=function(){return this.resourcesStatus.map((function(e){return{id:e.id,amount:e.amount}}))},e.prototype.importData=function(e){this.resourcesStatus=e.map((function(e){var t=T.find((function(t){return t.id===e.id}));if(!t)throw new Error("Invalid resource");return{id:e.id,amount:e.amount,balance:0,hasCapacityLimit:t.hasCapacityLimit,max:0,potentialEfficiency:1}}))},e.prototype.dataToUI=function(){var e=this;return{resources:T.map((function(t){var n,i,o=e.resourcesStatus.find((function(e){return e.id===t.id}));return{id:t.id,name:t.name,amount:P((null==o?void 0:o.amount)||0),balance:P((null==o?void 0:o.balance)||0),isUnlocked:t.unlockCondition(ju),max:P((null==o?void 0:o.max)||0),toFullPercentage:(o&&o.max>0?o.amount/o.max:0).toPrecision(3),hasMaxLimit:t.hasCapacityLimit,breakdown:e.cachedBreakdown[t.id],toFullTime:(null==o?void 0:o.max)&&(null==o?void 0:o.balance)>0?v((o.max-o.amount)/o.balance):"",toEmptyTime:o&&(null==o?void 0:o.balance)<0?v(-(null==o?void 0:o.amount)/(null==o?void 0:o.balance)):"",isSecondary:null!==(n=t.isCraftable)&&void 0!==n&&n,isHidden:null!==(i=t.isHidden)&&void 0!==i&&i,isNegative:((null==o?void 0:o.balance)||0)<0||(e.getResourceEfficiency(t.id)||0)<1,isCapped:!!o&&o.max>0&&o.max<=o.amount+2*ju.dT*o.balance}}))}},e.prototype.reset=function(){this.resourcesStatus=[]},e.lackEfficiencyResources={},e}(),Pc=vc.getInstance(),Bc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_c=function(){return _c=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},_c.apply(this,arguments)},Mc=function(e){function t(){var t=e.call(this)||this;return t.buildings=[],t.workDispatcher.on("[landing-zone] do build",(function(e){console.log("do upgrade",e),t.doBuild(e.id)})),t.workDispatcher.on("[landing-zone] set building amount",(function(e){console.log("set amount",e),t.setActiveAmount(e.id,e.amount)})),t}return Bc(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.buildings=e},t.prototype.exportData=function(){return this.buildings},t.prototype.dataToUI=function(){var e=this;return{list:Cc.map((function(t){return e.processToUI(t)}))}},t.prototype.getBuildingLevel=function(e){var t;return(null===(t=this.buildings.find((function(t){return t.id===e})))||void 0===t?void 0:t.level)||0},t.prototype.getBuildingActiveLevel=function(e){var t;return(null===(t=this.buildings.find((function(t){return t.id===e})))||void 0===t?void 0:t.activeAmount)||0},t.prototype.getPreffix=function(e){return Object.values(o).includes(e.category)?"planet:landing-zone":Object.values(r).includes(e.category)?"space":""},t.prototype.processToUI=function(e){var t=this.buildings.find((function(t){return t.id===e.id}));t||(t={id:e.id,level:0,efficiency:1,activeAmount:0,efficiencyToUI:1},this.buildings.push(t));var n=S.calcBatchAll(e.getCost,Vu.getInstance(),t.level,Vu.getInstance().resources.getBatchObject()),i=n.reduce((function(e,t){return Math.min(e,t.max)}),1e300),o=n.reduce((function(e,t){return e&&!t.isBlocked}),!0),r=n.reduce((function(e,t){return Math.max(e,t.eta)}),0),a=S.calcBatchAll(e.getConsumption,Vu.getInstance(),0,Vu.getInstance().resources.getBatchObject()),c=S.calcBatch(e.getGain,Vu.getInstance(),0),s=e.getStorage?S.calcBatch(e.getStorage,Vu.getInstance(),0):[],u=e.getGainMultiplier?S.calcBatch(e.getGainMultiplier,Vu.getInstance(),1):[],l=e.getEffectConsumption?S.calcBatchAll(e.getEffectConsumption,Vu.getInstance(),0,Vu.getInstance().resources.getBatchObject()):[],p=e.getEffectGain?S.calcBatch(e.getEffectGain,Vu.getInstance(),0):[],E=e.unlockCondition(ju);return E&&t.level<=0&&ju.newNotifications.registerNotification("".concat(this.getPreffix(e),":building:").concat(e.category,":").concat(e.id)),E&&console.log({isDropped:t.efficiencyToUI<1,efficiency:t.efficiencyToUI,missingResource:t.efficiencyReason?{id:t.efficiencyReason,name:h(t.efficiencyReason)}:void 0},"sending to UI "+e.name),{id:e.id,name:e.name,description:e.description,isUnlocked:E,isAvailable:i>=1,cost:Vu.getInstance().resources.assertEnought(n,Vu.getInstance().resources.getBatchObject(),Vu.getInstance().resources.getBatchBalanceObject()),progress:i<1?(100*i).toPrecision(3):"100",consume:a.filter((function(e){return e.amount})).map((function(e){return _c(_c({},e),{amountValue:e.amount,amount:P(e.amount)})})),gain:c.filter((function(e){return e.amount})).map((function(e){return _c(_c({},e),{amountValue:e.amount,amount:P(e.amount)})})),gainMult:u.filter((function(e){return e.amount})).map((function(e){return _c(_c({},e),{amountValue:e.amount,amount:"x".concat(P(e.amount))})})),consumeEffect:l.filter((function(e){return e.amount})).map((function(e){return _c(_c({},e),{amountValue:e.amount,amount:P(e.amount)})})),gainEffect:p.filter((function(e){return e.amount})).map((function(e){return _c(_c({},e),{amountValue:e.amount,amount:P(e.amount)})})),max:s.filter((function(e){return e.amount})).map((function(e){return _c(_c({},e),{amountValue:e.amount,amount:P(e.amount)})})),level:t.level,activeAmount:t.activeAmount,category:e.category,isBlocked:!o,etaNum:r,efficiency:{isDropped:t.efficiencyToUI<1,efficiency:t.efficiencyToUI,missingResource:t.efficiencyReason?{id:t.efficiencyReason,name:h(t.efficiencyReason)}:void 0}}},t.prototype.setActiveAmount=function(e,t){var n=this.buildings.findIndex((function(t){return t.id===e}));n<0||(this.buildings[n].activeAmount=Math.min(t,this.buildings[n].level),ju.resources.reassertBalances())},t.prototype.doBuild=function(e){var t=Cc.find((function(t){return t.id===e}));if(t){var n=this.buildings.findIndex((function(t){return t.id===e}));n<0&&(n=this.buildings.length,this.buildings.push({id:e,level:0,efficiency:1,activeAmount:0,efficiencyToUI:1}));var i=S.calcBatchAll(t.getCost,Vu.getInstance(),this.buildings[n].level,Vu.getInstance().resources.getBatchObject());i.reduce((function(e,t){return Math.min(e,Math.floor(t.max))}),1e300)<1||(this.buildings[n].level++,this.buildings[n].activeAmount++,console.log("costs: ",i),Vu.getInstance().resources.subtractResourceBatch(i),ju.resources.reassertBalances())}},t.prototype.getEffectGain=function(e){var t=Cc.filter((function(t){var n;return!!(null===(n=t.getEffectGain)||void 0===n?void 0:n[e])})),n=[];return this.buildings.forEach((function(i){var o,r=t.find((function(e){return e.id===i.id}));if(r&&(null===(o=r.getEffectGain)||void 0===o?void 0:o[e])){var a=S.calculate(ju,r.getEffectGain[e],0,i.activeAmount)*i.efficiency;n.push({label:"Building: ".concat(r.name),value:a,id:"building-".concat(r.id)})}}),0),n},t.prototype.getEffectMultiplier=function(e){var t=Cc.filter((function(t){var n;return!!(null===(n=t.getEffectMultiplier)||void 0===n?void 0:n[e])})),n=[];return this.buildings.forEach((function(i){var o,r=t.find((function(e){return e.id===i.id}));if(r&&(null===(o=r.getEffectMultiplier)||void 0===o?void 0:o[e])){var a=S.calculate(ju,r.getEffectMultiplier[e],i.activeAmount,1)*i.efficiency;a&&n.push({label:"Building: ".concat(r.name),value:a,id:"building-".concat(r.id)})}}),0),n},t.prototype.getEffectBeingConsumed=function(e){var t=Cc.filter((function(t){var n;return!!(null===(n=t.getEffectConsumption)||void 0===n?void 0:n[e])})),n=[];return this.buildings.forEach((function(i){var o,r=t.find((function(e){return e.id===i.id}));if(r&&(null===(o=r.getEffectConsumption)||void 0===o?void 0:o[e])){var a=S.calculate(ju,r.getEffectConsumption[e],0,i.activeAmount)*i.efficiency;n.push({label:"Building: ".concat(r.name),value:a,id:"building-".concat(r.id)})}}),0),n},t.prototype.getResourceBeingProduced=function(e){var t=Cc.filter((function(t){return!!t.getGain[e]})),n=[];return this.buildings.forEach((function(i){var o=t.find((function(e){return e.id===i.id}));if(o){var r=S.calculate(ju,o.getGain[e],0,i.activeAmount)*i.efficiency;n.push({label:"Building: ".concat(o.name),value:r,id:"building-".concat(o.id)})}}),0),n},t.prototype.getResourceMultiplier=function(e){var t=Cc.filter((function(t){var n;return!!(null===(n=t.getGainMultiplier)||void 0===n?void 0:n[e])})),n=[];return this.buildings.forEach((function(i){var o,r=t.find((function(e){return e.id===i.id}));if(r&&(null===(o=r.getGainMultiplier)||void 0===o?void 0:o[e])){var a=S.calculate(ju,r.getGainMultiplier[e],i.activeAmount,1)*i.efficiency;console.log("0--0",e,r.id,a),a&&n.push({label:"Building: ".concat(r.name),value:a,id:"building-".concat(r.id)})}}),0),n},t.prototype.getResourceBeingConsumed=function(e){var t=Cc.filter((function(t){return!!t.getConsumption[e]})),n=[];return this.buildings.forEach((function(i){var o=t.find((function(e){return e.id===i.id}));if(o){var r=S.calculate(ju,o.getConsumption[e],0,i.activeAmount)*i.efficiency;n.push({label:"Building: ".concat(o.name),value:r,id:"building-".concat(o.id)})}}),0),n},t.prototype.getResourceBeingStored=function(e){var t=Cc.filter((function(t){return!!t.getStorage[e]})),n=[];return this.buildings.forEach((function(i){var o=t.find((function(e){return e.id===i.id}));if(o){var r=S.calculate(ju,o.getStorage[e],0,i.activeAmount)*i.efficiency;n.push({label:"Building: ".concat(o.name),value:r,id:"building-".concat(o.id)})}}),0),n},t.prototype.getColonistsCap=function(){var e=Cc.filter((function(e){return!!e.getMaxColonists})),t=[];return this.buildings.forEach((function(n){var i=e.find((function(e){return e.id===n.id}));if(i&&i.getMaxColonists){var o=S.calculate(ju,i.getMaxColonists,0,n.activeAmount)*n.efficiency;t.push({label:"Building: ".concat(i.name),value:o,id:"building-".concat(i.id)})}}),0),t},t.prototype.getHappinessBonus=function(){var e=Cc.filter((function(e){return!!e.getHappinessBonus})),t=[];return this.buildings.forEach((function(n){var i=e.find((function(e){return e.id===n.id}));if(i&&i.getHappinessBonus){var o=S.calculate(ju,i.getHappinessBonus,0,n.activeAmount)*n.efficiency;t.push({label:"Building: ".concat(i.name),value:o,id:"building-".concat(i.id)})}}),0),t},t.prototype.preProcess=function(e){var t=this;this.buildings.forEach((function(e,n){t.buildings[n].efficiency=1}))},t.prototype.resetEfficiency=function(){var e=this;this.buildings.forEach((function(t,n){e.buildings[n].efficiency=1,e.buildings[n].efficiencyToUI=1,e.buildings[n].efficiencyReason=void 0}))},t.prototype.adaptEfficiency=function(){var e=this,t=vc.lackEfficiencyResources,n=Object.keys(t);this.buildings.forEach((function(i,o){var r=Cc.find((function(e){return e.id===i.id}));if(r){var a=Object.keys(r.getConsumption),c=n.filter((function(e){return a.includes(e)}));e.buildings[o].efficiencyToUI=1,c.forEach((function(n){S.calculate(ju,r.getConsumption[n],0,i.activeAmount)>0&&((t[n]||0)<e.buildings[o].efficiency&&(e.buildings[o].efficiencyReason=n),e.buildings[o].efficiency=Math.min(e.buildings[o].efficiency,t[n]||0),e.buildings[o].efficiencyToUI=e.buildings[o].efficiency)}))}}))},t.prototype.process=function(e){},t.prototype.reset=function(){this.buildings=[]},t}(N),Uc=Mc.getInstance(),Gc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),bc=function(e){function t(){var t=e.call(this)||this;return t.landingZoneActions=vr,t.landingZoneUpgrades=Ur,t.landingZoneBuildings=Uc,t}return Gc(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.landingZoneActions.importData(e.actions),this.landingZoneUpgrades.importData(e.upgrades),this.landingZoneBuildings.importData(e.buildings)},t.prototype.exportData=function(){return{actions:this.landingZoneActions.exportData(),upgrades:this.landingZoneUpgrades.exportData(),buildings:this.landingZoneBuildings.exportData()}},t.prototype.dataToUI=function(){return{actions:this.landingZoneActions.dataToUI(),upgrades:this.landingZoneUpgrades.dataToUI(),buildings:this.landingZoneBuildings.dataToUI()}},t.prototype.preProcess=function(e){this.landingZoneBuildings.preProcess(e)},t.prototype.process=function(e){this.landingZoneActions.process(e),this.landingZoneBuildings.process(e)},t.prototype.reset=function(){this.landingZoneActions.reset(),this.landingZoneUpgrades.reset(),this.landingZoneBuildings.reset()},t}(N).getInstance(),wc=[],Xc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Dc=function(e){function t(){var t=e.call(this)||this;return t.milestonesState=[],t}return Xc(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.milestonesState=e},t.prototype.exportData=function(){return this.milestonesState},t.prototype.dataToUI=function(){return this.milestonesState},t.prototype.milestoneUnlocked=function(e){return!!this.milestonesState.find((function(t){return t.id===e&&t.isReached}))},t.prototype.process=function(e){var t=this;wc.filter((function(e){return!t.milestonesState.find((function(t){return t.id===e.id&&t.isReached}))})).forEach((function(e){e.unlockCondition(ju)&&t.milestonesState.push({id:e.id,isReached:!0})}))},t}(N).getInstance(),Hc=function(e){return e.colony.getColonistsHappiness()},xc=function(e){var t=e.laws.getLawSelected(Un.CLEAR_CUTTING),n=1;return 1===t&&(n*=1.2),2===t&&(n*=.8),n},kc=[{id:m.QUARRYMAN,unlockCondition:function(e){return!0},name:"Quarrymen",description:"Works at the quarry to mine stone",getGain:(Gr={},Gr[a.STONE]=function(t){return{A:.5*Hc(t),B:0,type:e.LINEAR}},Gr)},{id:m.MINER,unlockCondition:function(e){return!0},name:"Miner",description:"Works at the mine to gather ore",getGain:(br={},br[a.ORE]=function(t){return{A:.5*Hc(t),B:0,type:e.LINEAR}},br[a.PLATINUM]=function(t){return{A:(t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.PLATINUM_MINING)?.01:0)*Hc(t),B:0,type:e.LINEAR}},br)},{id:m.SCIENTIST,unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.RESEARCH_MODULE)>0},name:"Researcher",description:"Works at the lab to generate research",getGain:(wr={},wr[a.RESEARCH]=function(t){return{A:.04*Hc(t),B:0,type:e.LINEAR}},wr)},{id:m.FARMER,unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.EXOFARMING)>0},name:"Farmer",description:"Tills the soil and plants crops to generate nutrition",getGain:(Xr={},Xr[a.NUTRITION]=function(t){return{A:(.15+.05*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.FERTILIZING))*Hc(t),B:0,type:e.LINEAR}},Xr),getConsumption:(Dr={},Dr[a.BIOMASS]=function(t){return{A:.1*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.FERTILIZING),B:0,type:e.LINEAR}},Dr)},{id:m.FORESTER,unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.EXOFORESTRY)>0},name:"Forester",description:"Maintains forests, plants and cuts wood",getGain:(Hr={},Hr[a.WOOD]=function(t){return{A:.05*Hc(t)*xc(t),B:0,type:e.LINEAR}},Hr),getConsumption:(xr={},xr[a.BIOMASS]=function(t){return{A:.1*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.FERTILIZING),B:0,type:e.LINEAR}},xr),getEffectGain:(kr={},kr[L.AESTHETICS]=function(t){return{A:1*(2===t.laws.getLawSelected(Un.CLEAR_CUTTING)?1:0),B:0,type:e.LINEAR}},kr),getEffectConsumption:(Yr={},Yr[L.AESTHETICS]=function(t){return{A:1.5*(1===t.laws.getLawSelected(Un.CLEAR_CUTTING)?1:0),B:0,type:e.LINEAR}},Yr)},{id:m.ARTISAN,unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.METALLURGY)>0},name:"Artisan",description:"Crafts complex goods out of raw materials or other goods",getGain:{},getConsumption:{}},{id:m.POLICEMAN,unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.PUBLIC_SERVICE)>0},name:"Policeman",description:"Patrols the colony and provides security",getGain:{},getConsumption:(Zr={},Zr[a.NUTRITION]=function(t){return{A:1===t.laws.getLawSelected(Un.SECURITY_DOTATIONS)?.5:0,B:0,type:e.LINEAR}},Zr[a.WATER]=function(t){return{A:1===t.laws.getLawSelected(Un.SECURITY_DOTATIONS)?.1:0,B:0,type:e.LINEAR}},Zr),getEffectGain:(Wr={},Wr[L.SECURITY]=function(t){return{A:4*Math.pow(1.25,t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.SURVEILLANCE_CAMERAS))*(1+.75*(1===t.laws.getLawSelected(Un.SECURITY_DOTATIONS)?1:0)),B:0,type:e.LINEAR}},Wr)}],Yc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Zc=function(){return Zc=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Zc.apply(this,arguments)},Wc=function(e){function t(){var t=e.call(this)||this;return t.jobs=[],t.freeWorkers=0,t.workDispatcher.on("[colony] assign colonists",(function(e){console.log("set amount",e),t.setAmount(e.id,e.amount)})),t}return Yc(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.jobs=e},t.prototype.exportData=function(){return this.jobs},t.prototype.dataToUI=function(){var e=this;return{list:kc.map((function(t){return e.processToUI(t)})),freeWorkers:this.freeWorkers}},t.prototype.getBusyWorkers=function(){return this.jobs.reduce((function(e,t){return e+t.amount}),0)},t.prototype.getWorkersAmount=function(e){var t;return(null===(t=this.jobs.find((function(t){return t.id===e})))||void 0===t?void 0:t.amount)||0},t.prototype.processToUI=function(e){var t=this.jobs.find((function(t){return t.id===e.id}));t||(t={id:e.id,amount:0,efficiency:1},this.jobs.push(t));var i=e.getConsumption?S.calcBatchAll(e.getConsumption,Vu.getInstance(),0,Vu.getInstance().resources.getBatchObject()):[],o=e.getGain?S.calcBatch(e.getGain,Vu.getInstance(),0):[],r=e.getMultiplier?S.calcBatch(e.getMultiplier,Vu.getInstance(),0):[],a=e.unlockCondition(ju);return a&&ju.landingZone.landingZoneUpgrades.getUpgradeLevel(n.DOCKING_MODULE)>0&&(t.amount>0&&ju.newNotifications.setViewed("planet:colony:jobs:".concat(e.id)),ju.newNotifications.registerNotification("planet:colony:jobs:".concat(e.id))),{id:e.id,name:e.name,description:e.description,isUnlocked:a,consume:i.filter((function(e){return e.amount})).map((function(e){return Zc(Zc({},e),{amountValue:e.amount,amount:P(e.amount)})})),gain:o.filter((function(e){return e.amount})).map((function(e){return Zc(Zc({},e),{amountValue:e.amount,amount:P(e.amount)})})),multiplier:r.filter((function(e){return e.amount})).map((function(e){return Zc(Zc({},e),{amountValue:e.amount,amount:"x".concat(P(e.amount))})})),amount:t.amount,isAvailable:this.freeWorkers>0,max:this.freeWorkers+t.amount}},t.prototype.setAmount=function(e,t){t=Math.floor(t);var n=this.jobs.findIndex((function(t){return t.id===e}));n<0&&(n=this.jobs.length,this.jobs.push({id:e,amount:0,efficiency:1})),this.jobs[n].amount=Math.min(Math.max(t,0),this.jobs[n].amount+this.freeWorkers),ju.resources.reassertBalances()},t.prototype.getEffectGain=function(e){var t=kc.filter((function(t){var n;return!!(null===(n=t.getEffectGain)||void 0===n?void 0:n[e])})),n=[];return this.jobs.forEach((function(i){var o,r=t.find((function(e){return e.id===i.id}));if(r&&(null===(o=r.getEffectGain)||void 0===o?void 0:o[e])){var a=S.calculate(ju,r.getEffectGain[e],0,i.amount)*i.efficiency;n.push({label:"Job: ".concat(r.name),value:a,id:"job-".concat(r.id)})}}),0),n},t.prototype.getEffectMultiplier=function(e){var t=kc.filter((function(t){var n;return!!(null===(n=t.getEffectMultiplier)||void 0===n?void 0:n[e])})),n=[];return this.jobs.forEach((function(i){var o,r=t.find((function(e){return e.id===i.id}));if(r&&(null===(o=r.getEffectMultiplier)||void 0===o?void 0:o[e])){var a=S.calculate(ju,r.getEffectMultiplier[e],i.amount,1)*i.efficiency;a&&n.push({label:"Job: ".concat(r.name),value:a,id:"job-".concat(r.id)})}}),0),n},t.prototype.getEffectBeingConsumed=function(e){var t=kc.filter((function(t){var n;return!!(null===(n=t.getEffectConsumption)||void 0===n?void 0:n[e])})),n=[];return this.jobs.forEach((function(i){var o,r=t.find((function(e){return e.id===i.id}));if(r&&(null===(o=r.getEffectConsumption)||void 0===o?void 0:o[e])){var a=S.calculate(ju,r.getEffectConsumption[e],0,i.amount)*i.efficiency;n.push({label:"Job: ".concat(r.name),value:a,id:"job-".concat(r.id)})}}),0),n},t.prototype.getResourceBeingProduced=function(e){var t=kc.filter((function(t){return t.getGain&&!!t.getGain[e]})),n=[],i=ju.colony.getColonistsHappiness();return console.log("happ: ",i),this.jobs.forEach((function(o){var r,a=t.find((function(e){return e.id===o.id}));if(a&&(null===(r=a.getGain)||void 0===r?void 0:r[e])){var c=S.calculate(ju,a.getGain[e],0,o.amount)*o.efficiency*i;n.push({label:"Job: ".concat(a.name),value:c,id:"job-".concat(a.id)})}}),0),n},t.prototype.getResourceBeingConsumed=function(e){var t=kc.filter((function(t){return t.getConsumption&&!!t.getConsumption[e]})),n=[];return this.jobs.forEach((function(i){var o,r=t.find((function(e){return e.id===i.id}));if(r&&(null===(o=r.getConsumption)||void 0===o?void 0:o[e])){var a=S.calculate(ju,r.getConsumption[e],0,i.amount)*i.efficiency;n.push({label:"Job: ".concat(r.name),value:a,id:"job-".concat(r.id)})}}),0),n},t.prototype.getResourceBeingMultiplied=function(e){var t=kc.filter((function(t){return t.getMultiplier&&!!t.getMultiplier[e]})),n=[];return this.jobs.forEach((function(i){var o,r=t.find((function(e){return e.id===i.id}));if(r&&(null===(o=r.getMultiplier)||void 0===o?void 0:o[e])){var a=S.calculate(ju,r.getMultiplier[e],0,i.amount)*i.efficiency;n.push({label:"Job: ".concat(r.name),value:a,id:"job-".concat(r.id)})}}),0),n},t.prototype.resetEfficiency=function(){var e=this;this.jobs.forEach((function(t,n){e.jobs[n].efficiency=1}))},t.prototype.adaptEfficiency=function(){var e=this,t=vc.lackEfficiencyResources,n=Object.keys(t);this.jobs.forEach((function(i,o){var r=kc.find((function(e){return e.id===i.id}));if(r&&r.getConsumption){var a=Object.keys(r.getConsumption);n.filter((function(e){return a.includes(e)})).forEach((function(n){e.jobs[o].efficiency=Math.min(e.jobs[o].efficiency,t[n]||0)}))}}))},t.prototype.process=function(e){var t=ju.colony.colonists-this.getBusyWorkers();if(t<0){for(var n=this.jobs.length-1;n>=0;n--){var i=Math.min(this.jobs[n].amount,-t);if(this.jobs[n].amount-=i,(t+=i)>=0)break}ju.resources.reassertBalances()}this.freeWorkers=t},t.prototype.reset=function(){this.jobs=[]},t}(N),Fc=Wc.getInstance(),Vc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),jc=function(){return jc=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},jc.apply(this,arguments)},Kc=function(e){function t(){var t=e.call(this)||this;return t.happinessEffects={},t.happinessBreakdowns={},t}return Vc(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){},t.prototype.exportData=function(){return[]},t.prototype.dataToUI=function(){var e=this;return{effects:C.map((function(t){return e.processToUI(t)})),happiness:this.assertHappiness()}},t.prototype.assertHappiness=function(){return Math.pow(Object.values(this.happinessEffects).reduce((function(e,t){return e*(t/100)}),1),.25)},t.prototype.assertConsumptionMitigation=function(){return Math.pow(.98,ju.landingZone.landingZoneBuildings.getBuildingActiveLevel(i.ADMINISTRATIVE_CENTER))},t.prototype.getEffectBeingConsumed=function(e){var t=[],n=C.find((function(t){return t.id===e}));if(null==n?void 0:n.getConsumption){var i=n.getConsumption(ju)*this.assertConsumptionMitigation();t.push({label:"Population",value:i,id:"population"})}return t},t.prototype.getBreakdowns=function(){var e=this,t=function(e){var t,n,i,o,r,a,c,s,u,l,p,E=((t={})[L.SECURITY]={linear:[{id:"basic",label:"Basic",value:100}],multiplier:[],consumption:[]},t[L.AESTHETICS]={linear:[{id:"basic",label:"Basic",value:100}],multiplier:[],consumption:[]},t[L.ENTERTAINMENT]={linear:[{id:"basic",label:"Basic",value:100}],multiplier:[],consumption:[]},t[L.HEALTHCARE]={linear:[{id:"basic",label:"Basic",value:100}],multiplier:[],consumption:[]},t[L.RELIGION]={linear:[{id:"basic",label:"Basic",value:100}],multiplier:[],consumption:[]},t[L.WORK_CONDITIONS]={linear:[{id:"basic",label:"Basic",value:100}],multiplier:[],consumption:[]},t);for(var d in E)(n=E[d].linear).push.apply(n,ju.landingZone.landingZoneBuildings.getEffectGain(d)),(i=E[d].multiplier).push.apply(i,ju.landingZone.landingZoneBuildings.getEffectMultiplier(d)),null===(s=E[d].consumption)||void 0===s||s.push.apply(s,ju.landingZone.landingZoneBuildings.getEffectBeingConsumed(d)),(o=E[d].linear).push.apply(o,ju.colony.colonyJobs.getEffectGain(d)),(r=E[d].multiplier).push.apply(r,ju.colony.colonyJobs.getEffectMultiplier(d)),null===(u=E[d].consumption)||void 0===u||u.push.apply(u,ju.colony.colonyJobs.getEffectBeingConsumed(d)),null===(l=E[d].consumption)||void 0===l||l.push.apply(l,ju.colony.colonyEffects.getEffectBeingConsumed(d)),(a=E[d].linear).push.apply(a,ju.laws.getEffectGain(d)),(c=E[d].multiplier).push.apply(c,ju.laws.getEffectMultiplier(d)),null===(p=E[d].consumption)||void 0===p||p.push.apply(p,ju.laws.getEffectBeingConsumed(d));return E}(),n={};C.forEach((function(i){var o,r,a;if(i.unlockCondition(ju)){n[i.id]={income:[],multiplier:[],consumption:[]};var c=null===(o=t[i.id].linear)||void 0===o?void 0:o.reduce((function(e,t){return e+t.value}),0),s=null===(r=t[i.id].multiplier)||void 0===r?void 0:r.reduce((function(e,t){return e*t.value}),1),u=(null===(a=t[i.id].consumption)||void 0===a?void 0:a.reduce((function(e,t){return e+t.value}),0))||0;e.happinessEffects[i.id]=Math.min(i.maximum,Math.max(i.minimum,c*s-u)),n[i.id].income=t[i.id].linear.filter((function(e){return e.value})).map((function(e){return jc(jc({},e),{value:"+".concat(e.value.toPrecision(4))})})),n[i.id].multiplier=t[i.id].multiplier.filter((function(e){return 1!==e.value})).map((function(e){return jc(jc({},e),{value:"x".concat(e.value.toPrecision(4))})})),n[i.id].consumption=t[i.id].consumption.filter((function(e){return e.value})).map((function(e){return jc(jc({},e),{value:"-".concat(e.value.toPrecision(4))})}))}})),this.happinessBreakdowns=n},t.prototype.processToUI=function(e){e.getConsumption&&e.getConsumption(ju);var t,n,i=e.unlockCondition(ju);return i&&ju.newNotifications.registerNotification("planet:colony:effects:".concat(e.id)),{id:e.id,name:e.name,isUnlocked:i,amount:P(null!==(t=this.happinessEffects[e.id])&&void 0!==t?t:0),breakdown:null!==(n=this.happinessBreakdowns[e.id])&&void 0!==n?n:{income:[],multiplier:[],consumption:[]}}},t.prototype.process=function(e){this.getBreakdowns()},t.prototype.reset=function(){this.happinessBreakdowns={},this.happinessEffects={}},t}(N),qc=Kc.getInstance(),zc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Qc=function(e){function t(){var t=e.call(this)||this;return t.colonists=0,t.maxColonists=0,t.colonyJobs=Fc,t.colonyEffects=qc,t}return zc(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.colonists=e.colonists||0,this.colonyJobs.importData(e.jobs)},t.prototype.exportData=function(){return{jobs:this.colonyJobs.exportData(),colonists:this.colonists}},t.prototype.dataToUI=function(){return{colonists:this.colonists||0,maxColonists:this.maxColonists,isUnlocked:ju.landingZone.landingZoneUpgrades.getUpgradeLevel(n.DOCKING_MODULE)>0,jobs:this.colonyJobs.dataToUI(),effects:this.colonyEffects.dataToUI()}},t.prototype.getMaxColonists=function(){return Math.round(ju.landingZone.landingZoneBuildings.getColonistsCap().reduce((function(e,t){return e+t.value}),0))},t.prototype.getColonistsHappiness=function(){return this.colonyEffects.assertHappiness()},t.prototype.missingSupply=function(){return!!this.colonists&&(null!=vc.lackEfficiencyResources[a.NUTRITION]&&(vc.lackEfficiencyResources[a.NUTRITION]||0)<1||null!=vc.lackEfficiencyResources[a.WATER]&&(vc.lackEfficiencyResources[a.WATER]||0)<1)},t.prototype.process=function(e){this.maxColonists=this.getMaxColonists(),(this.missingSupply()||this.colonists>this.maxColonists)&&(console.log("missing supply. Colonist is leaving"),this.colonists--,ju.resources.reassertBalances()),this.colonists<this.maxColonists&&Math.random()<.02&&(this.colonists++,ju.resources.reassertBalances()),this.colonyEffects.process(e),this.colonyJobs.process(e)},t.prototype.reset=function(){this.colonists=0,this.maxColonists=0,this.colonyJobs.reset(),this.colonyEffects.reset()},t}(N).getInstance(),Jc=[{id:O.EXOFARMING,name:"Exo Farming",description:"Learn how to work with soil on a foreign planet. Allows employing farmers",getCost:(Fr={},Fr[a.RESEARCH]=function(t){return{A:25,B:0,type:e.LINEAR}},Fr),unlockCondition:function(e){return!0}},{id:O.METEOROLOGY,name:"Meteorology",description:"Learn more about the atmosphere and its weather patterns. Unlocks new upgrades and buildings",getCost:(Vr={},Vr[a.RESEARCH]=function(t){return{A:75,B:0,type:e.LINEAR}},Vr),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.EXOFARMING)>0}},{id:O.MINERALOGY,name:"Mineralogy",description:"Learn more about minerals available at your new home",getCost:(jr={},jr[a.RESEARCH]=function(t){return{A:125,B:0,type:e.LINEAR}},jr),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.EXOFARMING)>0}},{id:O.CIVIL_SERVICE,name:"Service Industry",description:"Unlock new ways of providing services to your growing colony",getCost:(Kr={},Kr[a.RESEARCH]=function(t){return{A:225,B:0,type:e.LINEAR}},Kr),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.EXOFARMING)>0}},{id:O.ENGINEERING,name:"High-Gravity Engineering",description:"Learn about engineering specific to high gravity conditions",getCost:(qr={},qr[a.RESEARCH]=function(t){return{A:200,B:0,type:e.LINEAR}},qr),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.MINERALOGY)>0}},{id:O.EXOBIOLOGY,name:"Exo Biology",description:"Learn more about local organisms",getCost:(zr={},zr[a.RESEARCH]=function(t){return{A:225,B:0,type:e.LINEAR}},zr),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.METEOROLOGY)>0}},{id:O.EXOFORESTRY,name:"Exo Forestry",description:"Learn how to grow something bigger in this empty terrain",getCost:(Qr={},Qr[a.RESEARCH]=function(t){return{A:375,B:0,type:e.LINEAR}},Qr),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.EXOBIOLOGY)>0}},{id:O.METALLURGY,name:"Metallurgy",description:"Learn how to work with exotic ores. Unlocks crafting and artisan job",getCost:(Jr={},Jr[a.RESEARCH]=function(t){return{A:420,B:0,type:e.LINEAR}},Jr),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.MINERALOGY)>0}},{id:O.FLORA_RESEARCH,name:"Exo Flora",description:"Advanced flora researches unlocks new tools to boost agriculture",getCost:($r={},$r[a.RESEARCH]=function(t){return{A:425,B:0,type:e.LINEAR}},$r),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.EXOFORESTRY)>0}},{id:O.CHEMISTRY,name:"Chemistry",description:"Study the material interactions of elements in this foreign environment. Unlocks new materials and upgrades",getCost:(ea={},ea[a.RESEARCH]=function(t){return{A:575,B:0,type:e.LINEAR}},ea),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.FLORA_RESEARCH)>0}},{id:O.GEOLOGY,name:"Geology",description:"Further research precious minerals available at your new habitat",getCost:(ta={},ta[a.RESEARCH]=function(t){return{A:550,B:0,type:e.LINEAR}},ta),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.METALLURGY)>0}},{id:O.GEOGRAPHY,name:"Geography",description:"Geography knowledge unlocks expeditions",getCost:(na={},na[a.RESEARCH]=function(t){return{A:500,B:0,type:e.LINEAR}},na),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.METEOROLOGY)>0}},{id:O.SOCIOLOGY,name:"Sociology",description:"Unlocks new ways to make your little society happier and more efficient",getCost:(ia={},ia[a.RESEARCH]=function(t){return{A:550,B:0,type:e.LINEAR}},ia),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.CIVIL_SERVICE)>0}},{id:O.MATERIAL_KNOWLEDGE,name:"Material Knowledge",description:"Further advances crafting and metal processing",getCost:(oa={},oa[a.RESEARCH]=function(t){return{A:825,B:0,type:e.LINEAR}},oa),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.CHEMISTRY)>0}},{id:O.CODEX_OF_LAW,name:"Law",description:"Unlocks new aspects of your colony development",getCost:(ra={},ra[a.RESEARCH]=function(t){return{A:1050,B:0,type:e.LINEAR}},ra),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.SOCIOLOGY)>0}},{id:O.ELECTRICITY_STUDY,name:"Electricity Study",description:"Improves knowledge about conductivity of various materials",getCost:(aa={},aa[a.RESEARCH]=function(t){return{A:1375,B:0,type:e.LINEAR}},aa),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.MATERIAL_KNOWLEDGE)>0}},{id:O.ORGANIC_CHEMISTRY,name:"Organic Chemistry",description:"Learn about new uses for biomass",getCost:(ca={},ca[a.RESEARCH]=function(t){return{A:1025,B:0,type:e.LINEAR}},ca),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.MATERIAL_KNOWLEDGE)>0}},{id:O.ELECTRONICS,name:"Electronics",description:"Learn how to produce electronics and incorporate it",getCost:(sa={},sa[a.RESEARCH]=function(t){return{A:2e3,B:0,type:e.LINEAR}},sa),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.ELECTRICITY_STUDY)>0}},{id:O.PUBLIC_SERVICE,name:"Civil Service",description:"Unlock new civil service jobs and buildings",getCost:(ua={},ua[a.RESEARCH]=function(t){return{A:2e3,B:0,type:e.LINEAR}},ua),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.CODEX_OF_LAW)>0}},{id:O.PRINTING_3D,name:"3D Printing",description:"Unlock new powerful tools that will help you boost your colony development",getCost:(la={},la[a.RESEARCH]=function(t){return{A:4e3,B:0,type:e.LINEAR}},la),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.ELECTRONICS)>0}},{id:O.HIGH_GRAVITY_PHYSICS,name:"Advanced Physics",description:"Learn more about surviving and creating in high gravity conditions",getCost:(pa={},pa[a.RESEARCH]=function(t){return{A:4e3,B:0,type:e.LINEAR}},pa),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.ELECTRICITY_STUDY)>0}},{id:O.ADVANCED_ANATOMY,name:"Advanced Anatomy",description:"Further research human body can make maintaining larger colony much easier",getCost:(Ea={},Ea[a.RESEARCH]=function(t){return{A:2600,B:0,type:e.LINEAR}},Ea),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.ORGANIC_CHEMISTRY)>0}},{id:O.ROCKET_SCIENCE,name:"Rocket Science",description:"Literally. There is too little space on our planet, isn't it?",getCost:(da={},da[a.RESEARCH]=function(t){return{A:5600,B:0,type:e.LINEAR}},da),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.ORGANIC_CHEMISTRY)>0&&ju.science.scienceResearches.getResearchLevel(O.HIGH_GRAVITY_PHYSICS)>0}},{id:O.ADVANCED_BIOLOGY,name:"Advanced Biology",description:"Further advance biology knowledge. Create new methods of boosting nutritional value and unlock new research",getCost:(ga={},ga[a.RESEARCH]=function(t){return{A:4250,B:0,type:e.LINEAR}},ga),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.ADVANCED_ANATOMY)>0}},{id:O.RADIATION_STUDY,name:"Radiation Study",description:"Learn more about impact of radiation on living organisms. Unlocks piloted missions",getCost:(Aa={},Aa[a.RESEARCH]=function(t){return{A:5900,B:0,type:e.LINEAR}},Aa),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.ADVANCED_BIOLOGY)>0}},{id:O.QUANTUM_PHYSICS,name:"Quantum Physics",description:"Better understanding of quantum physics can significantly boost the productivity of your civilization",getCost:(fa={},fa[a.RESEARCH]=function(t){return{A:6215,B:0,type:e.LINEAR}},fa),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.HIGH_GRAVITY_PHYSICS)>0}},{id:O.GRAVITY_THEORY,name:"Gravity Theory",description:"Better understanding of gravitational forces on flying objects will help with rocket launches. Allows you to send missions to other planets",getCost:(Ra={},Ra[a.RESEARCH]=function(t){return{A:8750,B:0,type:e.LINEAR}},Ra),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.QUANTUM_PHYSICS)>0}},{id:O.NANO_PHYSICS,name:"Nano-Physics",description:"Further research into nanotechnology can increase your civilization productivity even more",getCost:(Ia={},Ia[a.RESEARCH]=function(t){return{A:8750,B:0,type:e.LINEAR}},Ia),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.QUANTUM_PHYSICS)>0}},{id:O.ASTROPHYSICS,name:"Astrophysics",description:"Allows to further advance your understanding of celestial bodies through new scientific telescopes",getCost:(Na={},Na[a.RESEARCH]=function(t){return{A:9500,B:0,type:e.LINEAR}},Na),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.GRAVITY_THEORY)>0}},{id:O.RELATIVITY_PHYSICS,name:"Relativity Physics",description:"Learn more about spacetime continuum. Unlocks new tech and further traveling",getCost:(Oa={},Oa[a.RESEARCH]=function(t){return{A:11500,B:0,type:e.LINEAR}},Oa),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.GRAVITY_THEORY)>0}},{id:O.ADVANCED_GENETICS,name:"Advanced Genetics",description:"Push further your genetics knowledge to learn how species can be modified",getCost:(ya={},ya[a.RESEARCH]=function(t){return{A:13500,B:0,type:e.LINEAR}},ya),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.NANO_PHYSICS)>0&&ju.science.scienceResearches.getResearchLevel(O.ADVANCED_BIOLOGY)>0}},{id:O.PHOTOCHEMISTRY,name:"Photochemistry",description:"Learn more about ionizing radiation impact on chemical reactions. Unlocks new upgrades",getCost:(ma={},ma[a.RESEARCH]=function(t){return{A:11e3,B:0,type:e.LINEAR}},ma),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.QUANTUM_PHYSICS)>0}},{id:O.HIGH_ENERGY_PHYSICS,name:"High Energy Physics",description:"We are so miserable comparing to bright far stars and supernova explosions. Learn how to deal with more energy to expand your capabilities even more. Unlocks further flights and more important researches",getCost:(La={},La[a.RESEARCH]=function(t){return{A:17e3,B:0,type:e.LINEAR}},La),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.RELATIVITY_PHYSICS)>0}},{id:O.PHOTO_LITHOGRAPHY,name:"Photo-Lithography",description:"Use your advances in quantum physics and material knowledge to boost production of tiny things. Unlocks new upgrades",getCost:(Ta={},Ta[a.RESEARCH]=function(t){return{A:17200,B:0,type:e.LINEAR}},Ta),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.PHOTOCHEMISTRY)>0}},{id:O.THERMONUCLEAR_SYNTHESIS,name:"Thermonuclear synthesis",description:"Learn more about high temperature physics to unlock new source of power",getCost:(Ca={},Ca[a.RESEARCH]=function(t){return{A:23500,B:0,type:e.LINEAR}},Ca),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.HIGH_ENERGY_PHYSICS)>0}},{id:O.ADVANCED_POLYMERIZATION,name:"Advanced Polymers",description:"Utilize a highly ionized environment to generate sophisticated, radiation- and temperature-hardened polymers. Unlocking new upgrades",getCost:(ha={},ha[a.RESEARCH]=function(t){return{A:24500,B:0,type:e.LINEAR}},ha),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.PHOTO_LITHOGRAPHY)>0}},{id:O.MOLECULAR_PHYSICS,name:"Advanced Molecular Physics",description:"Learn how to generate more sophisticated compounds to boost your development",getCost:(Sa={},Sa[a.RESEARCH]=function(t){return{A:25500,B:0,type:e.LINEAR}},Sa),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.PHOTO_LITHOGRAPHY)>0}},{id:O.SUPER_CONDUCTIVITY,name:"Super-conductivity",description:"Low temperatures causes some materials become incredibly good conductors. Learn more about this phenomena and how you can use it.",getCost:(va={},va[a.RESEARCH]=function(t){return{A:31125,B:0,type:e.LINEAR}},va),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.THERMONUCLEAR_SYNTHESIS)>0}},{id:O.ADVANCED_COMPOSITES,name:"Advanced Composites",description:"Learn how to combine metal with plastic to create extremely heat- and hit-hardened materials. Unlocking new upgrades and resources",getCost:(Pa={},Pa[a.RESEARCH]=function(t){return{A:33100,B:0,type:e.LINEAR}},Pa),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.ADVANCED_POLYMERIZATION)>0}},{id:O.MAGNETODYNAMICS,name:"Magneto-Dynamics",description:"Running extremely strong current unlocks opportunity to generate huge magnetic field. Learn more about how to maintain and use it",getCost:(Ba={},Ba[a.RESEARCH]=function(t){return{A:36500,B:0,type:e.LINEAR}},Ba),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.SUPER_CONDUCTIVITY)>0}},{id:O.SPACESHIP_BUILDINGS,name:"Spaceship Construction",description:"Allows building spaceships for interstellar flights",getCost:(_a={},_a[a.RESEARCH]=function(t){return{A:47500,B:0,type:e.LINEAR}},_a),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.SUPER_CONDUCTIVITY)>0&&ju.science.scienceResearches.getResearchLevel(O.MOLECULAR_PHYSICS)>0}},{id:O.PARTICLE_PHYSICS,name:"Particle Physics",description:"Learn more about elementary particles",getCost:(Ma={},Ma[a.RESEARCH]=function(t){return{A:54500,B:0,type:e.LINEAR}},Ma),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.MAGNETODYNAMICS)>0}},{id:O.ADVANCED_SPACE_CONSTRUCTION,name:"Advanced Space Construction",description:"Learn more about building in space",getCost:(Ua={},Ua[a.RESEARCH]=function(t){return{A:57500,B:0,type:e.LINEAR}},Ua),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.SPACESHIP_BUILDINGS)>0}},{id:O.ADVANCED_THERMODYNAMICS,name:"Advanced Thermodynamics",description:"Advance your knowledge about high temperature environments",getCost:(Ga={},Ga[a.RESEARCH]=function(t){return{A:57500,B:0,type:e.LINEAR}},Ga),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.ADVANCED_COMPOSITES)>0}},{id:O.EXOPLANET_SCIENCE,name:"Exoplanet Science",description:"Learn more about exoplanets. Unlocks new option to search planets.",getCost:(ba={},ba[a.RESEARCH]=function(t){return{A:59500,B:0,type:e.LINEAR}},ba),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.SPACESHIP_BUILDINGS)>0}},{id:O.LOW_TEMP_PHYSICS,name:"Low Temperature Physics",description:"Low temperatures can significantly reduce molecule decay rates. Learn how to use it to generate more sophisticated organics",getCost:(wa={},wa[a.RESEARCH]=function(t){return{A:71500,B:0,type:e.LINEAR}},wa),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.ADVANCED_THERMODYNAMICS)>0}},{id:O.NEUTRINO_PHYSICS,name:"Neutrino Physics",description:"Neutrinos are particles that interacts with other matter very weakly. Learn how to use it for your civilization development",getCost:(Xa={},Xa[a.RESEARCH]=function(t){return{A:73500,B:0,type:e.LINEAR}},Xa),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.PARTICLE_PHYSICS)>0}},{id:O.QUARK_PHYSICS,name:"Quark Physics",description:"Learn more about what matter is made of",getCost:(Da={},Da[a.RESEARCH]=function(t){return{A:74500,B:0,type:e.LINEAR}},Da),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.PARTICLE_PHYSICS)>0}},{id:O.CRYOGENICS,name:"Cryogenics",description:"Use your previous researches in biology, nanophysics and photochemistry to investigate organisms and viruses creation",getCost:(Ha={},Ha[a.RESEARCH]=function(t){return{A:93500,B:0,type:e.LINEAR}},Ha),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.LOW_TEMP_PHYSICS)>0}},{id:O.SPACE_ORGANICS,name:"Space Biology",description:"Learn more about specific of your colonists and other organisms living in space.",getCost:(xa={},xa[a.RESEARCH]=function(t){return{A:91500,B:0,type:e.LINEAR}},xa),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.ADVANCED_SPACE_CONSTRUCTION)>0}},{id:O.NANO_BIOLOGY,name:"Nano-Biology",description:"Use your previous researches in biology, nanophysics and photochemistry to investigate organisms and viruses creation",getCost:(ka={},ka[a.RESEARCH]=function(t){return{A:121500,B:0,type:e.LINEAR}},ka),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.SPACE_ORGANICS)>0}},{id:O.ADVANCED_NUCLEAR_RESEARCH,name:"Advanced Nuclear Research",description:"Using your knowledge about what protons and neutrons consists of you can learn more about nuclear manipulations",getCost:(Ya={},Ya[a.RESEARCH]=function(t){return{A:124500,B:0,type:e.LINEAR}},Ya),unlockCondition:function(e){return ju.science.scienceResearches.getResearchLevel(O.QUARK_PHYSICS)>0}}],$c=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),es=function(e){function t(){var t=e.call(this)||this;return t.researches=[],t.freeWorkers=0,t.workDispatcher.on("[science] do research",(function(e){console.log("research",e),t.doResearch(e.id)})),t}return $c(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.researches=e},t.prototype.exportData=function(){return this.researches},t.prototype.dataToUI=function(){var e=this;return{list:Jc.map((function(t){return e.processToUI(t)}))}},t.prototype.getResearchLevel=function(e){var t;return(null===(t=this.researches.find((function(t){return t.id===e})))||void 0===t?void 0:t.amount)||0},t.prototype.processToUI=function(e){var t=this.researches.find((function(t){return t.id===e.id}));t||(t={id:e.id,amount:0},this.researches.push(t));var i=S.calcBatchAll(e.getCost,Vu.getInstance(),t.amount,Vu.getInstance().resources.getBatchObject()),o=i.reduce((function(e,t){return Math.min(e,t.max)}),1e300),r=i.reduce((function(e,t){return e&&!t.isBlocked}),!0),a=i.reduce((function(e,t){return Math.max(e,t.eta)}),0),c=e.unlockCondition(ju);return c&&0===t.amount&&ju.landingZone.landingZoneUpgrades.getUpgradeLevel(n.RESEARCH_MODULE)>0&&ju.newNotifications.registerNotification("science:researches:".concat(e.id)),{id:e.id,name:e.name,description:e.description,isUnlocked:c,isAvailable:o>=1,cost:Vu.getInstance().resources.assertEnought(i,Vu.getInstance().resources.getBatchObject(),Vu.getInstance().resources.getBatchBalanceObject()),progress:o<1?(100*o).toPrecision(3):"100",isResearched:t.amount>0,isBlocked:!r,etaNum:a}},t.prototype.doResearch=function(e){var t=this.researches.findIndex((function(t){return t.id===e}));t<0&&(t=this.researches.length,this.researches.push({id:e,amount:0}));var n=Jc.find((function(t){return t.id===e}));if(n){var i=S.calcBatchAll(n.getCost,Vu.getInstance(),this.researches[t].amount,Vu.getInstance().resources.getBatchObject());i.reduce((function(e,t){return Math.min(e,Math.floor(t.max))}),1e300)<1||(Vu.getInstance().resources.subtractResourceBatch(i),this.researches[t].amount++,ju.resources.reassertBalances())}},t.prototype.process=function(e){},t.prototype.reset=function(){this.researches=[]},t}(N),ts=es.getInstance(),ns=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),is=function(e){function t(){var t=e.call(this)||this;return t.scienceResearches=ts,t}return ns(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.scienceResearches.importData(e.research)},t.prototype.exportData=function(){return{research:this.scienceResearches.exportData()}},t.prototype.dataToUI=function(){return{research:this.scienceResearches.dataToUI(),isUnlocked:ju.landingZone.landingZoneUpgrades.getUpgradeLevel(n.RESEARCH_MODULE)>0}},t.prototype.process=function(e){this.scienceResearches.process(e)},t.prototype.reset=function(){this.scienceResearches.reset()},t}(N).getInstance(),os=[{id:a.BEAM,complexity:100,getConsumption:(Za={},Za[a.WOOD]=function(t){return{A:.25,B:0,type:e.LINEAR}},Za),getGain:(Wa={},Wa[a.BEAM]=function(t){return{A:.01*Hc(t),B:0,type:e.LINEAR}},Wa)},{id:a.BRICK,complexity:100,getConsumption:(Fa={},Fa[a.STONE]=function(t){return{A:.75,B:0,type:e.LINEAR}},Fa),getGain:(Va={},Va[a.BRICK]=function(t){return{A:.01*Hc(t),B:0,type:e.LINEAR}},Va)},{id:a.PLATE,complexity:100,getConsumption:(ja={},ja[a.IRON]=function(t){return{A:.1,B:0,type:e.LINEAR}},ja),getGain:(Ka={},Ka[a.PLATE]=function(t){return{A:.002*Hc(t),B:0,type:e.LINEAR}},Ka)},{id:a.WIRE,complexity:100,getConsumption:(qa={},qa[a.IRON]=function(t){return{A:.1,B:0,type:e.LINEAR}},qa),getGain:(za={},za[a.WIRE]=function(t){return{A:.002*Hc(t),B:0,type:e.LINEAR}},za)},{id:a.FUEL,complexity:250,getConsumption:(Qa={},Qa[a.BIOMASS]=function(t){return{A:.5,B:0,type:e.LINEAR}},Qa[a.WATER]=function(t){return{A:.1,B:0,type:e.LINEAR}},Qa),getGain:(Ja={},Ja[a.FUEL]=function(t){return{A:.002*Hc(t),B:0,type:e.LINEAR}},Ja)},{id:a.RUBBER,complexity:100,getConsumption:($a={},$a[a.BIOMASS]=function(t){return{A:1,B:0,type:e.LINEAR}},$a[a.POWER]=function(t){return{A:.1,B:0,type:e.LINEAR}},$a),getGain:(ec={},ec[a.RUBBER]=function(t){return{A:.008*Hc(t),B:0,type:e.LINEAR}},ec)},{id:a.PLASTICS,complexity:100,getConsumption:(tc={},tc[a.BIOMASS]=function(t){return{A:1,B:0,type:e.LINEAR}},tc[a.POWER]=function(t){return{A:.1,B:0,type:e.LINEAR}},tc),getGain:(nc={},nc[a.PLASTICS]=function(t){return{A:.008*Hc(t),B:0,type:e.LINEAR}},nc)},{id:a.SEMICONDUCTOR,complexity:100,getConsumption:(ic={},ic[a.IRON]=function(t){return{A:.02,B:0,type:e.LINEAR}},ic[a.STONE]=function(t){return{A:1,B:0,type:e.LINEAR}},ic),getGain:(oc={},oc[a.SEMICONDUCTOR]=function(t){return{A:.004*Hc(t),B:0,type:e.LINEAR}},oc)},{id:a.COMPUTER,complexity:250,getConsumption:(rc={},rc[a.SEMICONDUCTOR]=function(t){return{A:.1,B:0,type:e.LINEAR}},rc[a.PLASTICS]=function(t){return{A:.1,B:0,type:e.LINEAR}},rc),getGain:(ac={},ac[a.COMPUTER]=function(t){return{A:.004*Hc(t),B:0,type:e.LINEAR}},ac)},{id:a.ROCKET_ENGINE,complexity:750,getConsumption:(cc={},cc[a.PLATE]=function(t){return{A:.1,B:0,type:e.LINEAR}},cc[a.FUEL]=function(t){return{A:.1,B:0,type:e.LINEAR}},cc),getGain:(sc={},sc[a.ROCKET_ENGINE]=function(t){return{A:.002*Hc(t),B:0,type:e.LINEAR}},sc)},{id:a.GRAPHENE,complexity:750,getConsumption:(uc={},uc[a.BIOMASS]=function(t){return{A:1.5,B:0,type:e.LINEAR}},uc[a.WATER]=function(t){return{A:.2,B:0,type:e.LINEAR}},uc),getGain:(lc={},lc[a.GRAPHENE]=function(t){return{A:.001*Hc(t),B:0,type:e.LINEAR}},lc)},{id:a.MAGNETO,complexity:2250,getConsumption:(pc={},pc[a.WIRE]=function(t){return{A:.5,B:0,type:e.LINEAR}},pc[a.SEMICONDUCTOR]=function(t){return{A:.5,B:0,type:e.LINEAR}},pc),getGain:(Ec={},Ec[a.MAGNETO]=function(t){return{A:4e-4*Hc(t),B:0,type:e.LINEAR}},Ec)}],rs=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),as=function(){return as=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},as.apply(this,arguments)},cs=function(e){function t(){var t=e.call(this)||this;return t.crafters=[],t.craftingSlots=0,t.workDispatcher.on("[crafting] assign crafter",(function(e){console.log("set amount",e),t.setAmount(e.id,e.amount)})),t}return rs(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.crafters=e},t.prototype.exportData=function(){return this.crafters},t.prototype.dataToUI=function(){var e=this;return{list:os.map((function(t){return e.processToUI(t)})),craftingSlots:this.craftingSlots}},t.prototype.getTotalCraftingBonus=function(){return Math.pow(1.05,ju.landingZone.landingZoneUpgrades.getUpgradeLevel(n.INDUSTRY_AUTOMATION))*Math.pow(1.03,ju.landingZone.landingZoneBuildings.getBuildingActiveLevel(i.NANOBOTS_FACTORY))},t.prototype.getBusyWorkers=function(){return this.crafters.reduce((function(e,t){return e+t.amount}),0)},t.prototype.getWorkersAmount=function(e){var t;return(null===(t=this.crafters.find((function(t){return t.id===e})))||void 0===t?void 0:t.amount)||0},t.prototype.processToUI=function(e){var t=this.crafters.find((function(t){return t.id===e.id}));t||(t={id:e.id,amount:0,efficiency:1},this.crafters.push(t));var n=T.find((function(t){return t.id===e.id}));if(!n)throw new Error("Invalid recipe: ".concat(e.id));var i=e.getConsumption?S.calcBatchAll(e.getConsumption,Vu.getInstance(),0,Vu.getInstance().resources.getBatchObject()):[],o=e.getGain?S.calcBatch(e.getGain,Vu.getInstance(),0):[],r=n.unlockCondition(ju);return r&&(t.amount>0&&ju.newNotifications.setViewed("planet:crafting:jobs:".concat(e.id)),ju.newNotifications.registerNotification("planet:crafting:jobs:".concat(e.id))),{id:e.id,name:n.name,isUnlocked:r,consume:i.filter((function(e){return e.amount})).map((function(e){return as(as({},e),{amountValue:e.amount,amount:P(e.amount)})})),gain:o.filter((function(e){return e.amount})).map((function(e){return as(as({},e),{amountValue:e.amount,amount:P(e.amount)})})),amount:t.amount,isAvailable:this.craftingSlots>0,max:this.craftingSlots+t.amount}},t.prototype.setAmount=function(e,t){t=Math.floor(t);var n=this.crafters.findIndex((function(t){return t.id===e}));n<0&&(n=this.crafters.length,this.crafters.push({id:e,amount:0,efficiency:1}));var i=Math.min(Math.max(t,0),this.crafters[n].amount+this.craftingSlots);if(i<t){var o=t-i,r=Math.min(ju.colony.colonyJobs.freeWorkers,o);ju.colony.colonyJobs.setAmount(m.ARTISAN,ju.colony.colonyJobs.getWorkersAmount(m.ARTISAN)+r),i+=r}this.crafters[n].amount=Math.min(Math.max(t,0),i),ju.resources.reassertBalances()},t.prototype.getResourceBeingProduced=function(e){var t=this,n=os.filter((function(t){return t.getGain&&!!t.getGain[e]})),i=[];return this.crafters.forEach((function(o){var r,a=n.find((function(e){return e.id===o.id}));if(a&&(null===(r=a.getGain)||void 0===r?void 0:r[e])){var c=S.calculate(ju,a.getGain[e],0,o.amount)*o.efficiency*t.getTotalCraftingBonus();i.push({label:"Crafting",value:c,id:"job-".concat(a.id)})}}),0),i},t.prototype.getResourceBeingConsumed=function(e){if(!T.find((function(t){return t.id===e})))throw new Error("Invalid resource");var t=os.filter((function(t){return t.getConsumption&&!!t.getConsumption[e]})),n=[];return this.crafters.forEach((function(i){var o,r=t.find((function(e){return e.id===i.id}));if(r&&(null===(o=r.getConsumption)||void 0===o?void 0:o[e])){var a=S.calculate(ju,r.getConsumption[e],0,i.amount)*i.efficiency;n.push({label:"Crafting: ".concat(h(r.id)),value:a,id:"job-".concat(r.id)})}}),0),n},t.prototype.resetEfficiency=function(){var e=this;this.crafters.forEach((function(t,n){e.crafters[n].efficiency=1}))},t.prototype.adaptEfficiency=function(){var e=this,t=vc.lackEfficiencyResources,n=Object.keys(t);this.crafters.forEach((function(i,o){var r=os.find((function(e){return e.id===i.id}));if(r&&r.getConsumption){var a=Object.keys(r.getConsumption);n.filter((function(e){return a.includes(e)})).forEach((function(n){e.crafters[o].efficiency=Math.min(e.crafters[o].efficiency,t[n]||0)}))}}))},t.prototype.process=function(e){var t=ju.crafting.slots-this.getBusyWorkers();if(t<0){for(var n=this.crafters.length-1;n>=0;n--){var i=Math.min(this.crafters[n].amount,-t);if(this.crafters[n].amount-=i,(t+=i)>=0)break}ju.resources.reassertBalances()}this.craftingSlots=t},t.prototype.reset=function(){this.craftingSlots=0,this.crafters=[]},t}(N),ss=cs.getInstance(),us=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ls=function(e){function t(){var t=e.call(this)||this;return t.slots=-1,t.craftingJobs=ss,t}return us(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.craftingJobs.importData(e.craftmen)},t.prototype.exportData=function(){return{craftmen:this.craftingJobs.exportData()}},t.prototype.dataToUI=function(){return{maxSlots:this.slots||0,isUnlocked:ju.science.scienceResearches.getResearchLevel(O.METALLURGY)>0,jobs:this.craftingJobs.dataToUI()}},t.prototype.getCraftingSlots=function(){var e;return 0+((null===(e=ju.colony.colonyJobs.jobs.find((function(e){return e.id===m.ARTISAN})))||void 0===e?void 0:e.amount)||0)},t.prototype.process=function(e){this.slots=this.getCraftingSlots(),this.craftingJobs.process(e)},t.prototype.reset=function(){this.slots=-1,this.craftingJobs.reset()},t}(N),ps=ls.getInstance();!function(e){e.RESOURCE="resource",e.UPGRADE="upgrade",e.BUILDING="building",e.RESEARCH="research",e.POPULATION="population",e.KP_UPGRADE="kp_upgrade"}(dc||(dc={}));var Es,ds,gs,As,fs,Rs,Is,Ns,Os,ys,ms,Ls,Ts,Cs,hs,Ss,vs,Ps,Bs,_s,Ms,Us,Gs,bs,ws,Xs,Ds,Hs,xs,ks,Ys,Zs,Ws,Fs,Vs,js,Ks,qs,zs,Qs,Js,$s,eu,tu,nu,iu,ou,ru,au,cu=[{id:"start",description:"Power up",requirements:[{type:dc.RESOURCE,target:a.POWER,amount:10}]},{id:"start2",description:"Drill some stone",requirements:[{type:dc.RESOURCE,target:a.STONE,amount:1}]},{id:"repairFacilities",description:"Repair facilities",requirements:[{type:dc.UPGRADE,target:n.REPAIR_DRILL,amount:4}]},{id:"drillOre",description:"Drill ore",requirements:[{type:dc.RESOURCE,target:a.ORE,amount:1}]},{id:"furtherRepair",description:"Further facilities repair",requirements:[{type:dc.UPGRADE,target:n.REPAIR_DRILL,amount:5},{type:dc.UPGRADE,target:n.REPAIR_CABLE,amount:5}]},{id:"biomass",description:"Collect some organics",requirements:[{type:dc.UPGRADE,target:n.REPAIR_MANIPULATORS,amount:3},{type:dc.RESOURCE,target:a.BIOMASS,amount:6}]},{id:"autonomousPowerSupply",description:"Autonomous power supply",requirements:[{type:dc.UPGRADE,target:n.COMBUSTION,amount:1},{type:dc.BUILDING,target:i.THERMOELECTRIC_STATION,amount:1},{type:dc.BUILDING,target:i.BACTERIA_INCUBATOR,amount:1}]},{id:"storage",description:"Storage facilities",requirements:[{type:dc.UPGRADE,target:n.REPAIR_STORAGE_MODULE,amount:1},{type:dc.BUILDING,target:i.STORAGE,amount:1}]},{id:"powerUp2",description:"Boost power supply",requirements:[{type:dc.BUILDING,target:i.THERMOELECTRIC_STATION,amount:3},{type:dc.BUILDING,target:i.BACTERIA_INCUBATOR,amount:2}]},{id:"stoneProduction",description:"Stone production",requirements:[{type:dc.UPGRADE,target:n.AUTO_QUARRYING,amount:1},{type:dc.BUILDING,target:i.QUARRY,amount:1}]},{id:"oreProduction",description:"Ore production",requirements:[{type:dc.UPGRADE,target:n.REPAIR_MACHINERY,amount:1},{type:dc.UPGRADE,target:n.AUTO_MINERS,amount:1},{type:dc.BUILDING,target:i.MINE,amount:1}]},{id:"powerCaps",description:"Power capacity",requirements:[{type:dc.UPGRADE,target:n.REPAIR_MANIPULATORS,amount:5},{type:dc.UPGRADE,target:n.REPAIR_BATTERY,amount:2}]},{id:"organicsUtilization",description:"Organics utilization",requirements:[{type:dc.BUILDING,target:i.THERMOELECTRIC_STATION,amount:5},{type:dc.BUILDING,target:i.BACTERIA_INCUBATOR,amount:5}]},{id:"economyBoost",description:"Economy Boost",requirements:[{type:dc.BUILDING,target:i.QUARRY,amount:5},{type:dc.BUILDING,target:i.MINE,amount:5}]},{id:"moreStorage",description:"More Storage",requirements:[{type:dc.BUILDING,target:i.STORAGE,amount:4}]},{id:"breath-in",description:"Breath In",requirements:[{type:dc.BUILDING,target:i.THERMOELECTRIC_STATION,amount:10},{type:dc.UPGRADE,target:n.BIO_TECH,amount:1},{type:dc.UPGRADE,target:n.BACTERIA_SELECTION,amount:1}]},{id:"basicNeeds",description:"Basic habitability requirements",requirements:[{type:dc.BUILDING,target:i.OXYGEN_COLLECTOR,amount:1},{type:dc.BUILDING,target:i.WATER_PUMP,amount:1},{type:dc.BUILDING,target:i.WATER_STORAGE,amount:1}]},{id:"finalPreparation",description:"Final preparation",requirements:[{type:dc.UPGRADE,target:n.ELECTROLITES,amount:1},{type:dc.UPGRADE,target:n.SUPPLY_MODULE,amount:1}]},{id:"firstColonists",description:"First colonists",requirements:[{type:dc.UPGRADE,target:n.DOCKING_MODULE,amount:1},{type:dc.BUILDING,target:i.LIVING_CABIN,amount:1}]},{id:"research",description:"Scientific basics",requirements:[{type:dc.UPGRADE,target:n.RESEARCH_MODULE,amount:1},{type:dc.RESEARCH,target:O.EXOFARMING,amount:1}]},{id:"population",description:"Population",requirements:[{type:dc.POPULATION,target:O.METEOROLOGY,amount:10}]},{id:"healthcare",description:"Healthcare",requirements:[{type:dc.RESEARCH,target:O.CIVIL_SERVICE,amount:1},{type:dc.RESEARCH,target:O.EXOBIOLOGY,amount:1},{type:dc.BUILDING,target:i.CLINIC,amount:1}]},{id:"crafting",description:"Crafting",requirements:[{type:dc.RESEARCH,target:O.METALLURGY,amount:1},{type:dc.RESOURCE,target:a.BEAM,amount:20},{type:dc.RESOURCE,target:a.BRICK,amount:20}]},{id:"civilized",description:"Civilized life",requirements:[{type:dc.RESEARCH,target:O.SOCIOLOGY,amount:1},{type:dc.RESEARCH,target:O.CODEX_OF_LAW,amount:1}]},{id:"population",description:"Population",requirements:[{type:dc.POPULATION,target:O.METEOROLOGY,amount:70}]},{id:"advanced",description:"Advanced Science",requirements:[{type:dc.RESEARCH,target:O.ELECTRICITY_STUDY,amount:1},{type:dc.RESEARCH,target:O.HIGH_GRAVITY_PHYSICS,amount:1}]},{id:"infoera",description:"Knowledge",requirements:[{type:dc.RESEARCH,target:O.QUANTUM_PHYSICS,amount:1},{type:dc.UPGRADE,target:n.GREAT_RADIO_TRANSMITTER,amount:1}]},{id:"knowledge",description:"Knowledge of Ancestors",requirements:[{type:dc.RESOURCE,target:a.KNOWLEDGE_POINT,amount:20},{type:dc.KP_UPGRADE,target:c.RESEARCH_CAPACITY,amount:2}]},{id:"science2",description:"Advanced Science",requirements:[{type:dc.RESEARCH,target:O.HIGH_ENERGY_PHYSICS,amount:1},{type:dc.RESEARCH,target:O.PHOTO_LITHOGRAPHY,amount:1}]},{id:"expand",description:"Keep Expansion",requirements:[{type:dc.RESEARCH,target:O.THERMONUCLEAR_SYNTHESIS,amount:1},{type:dc.RESEARCH,target:O.MOLECULAR_PHYSICS,amount:1}],hint:'If you feel it\'s too difficult to reach this point - you can keep performing "Transmit Knowledge"'},{id:"superpower",description:"Energy Superpower",requirements:[{type:dc.RESEARCH,target:O.SUPER_CONDUCTIVITY,amount:1},{type:dc.UPGRADE,target:n.COLD_SYNTHESIS,amount:1}]},{id:"prepareColonize",description:"Prepare to leave",requirements:[{type:dc.RESEARCH,target:O.SPACESHIP_BUILDINGS,amount:1},{type:dc.BUILDING,target:i.SPACESHIP_STATION,amount:1}],hint:'Keep unlocking new researches until you unlock "Spaceship Building"'},{id:"colonize",description:"New Horizons",requirements:[{type:dc.RESOURCE,target:a.COLONIZE_XP,amount:1}],hint:"When you colonize new planet you get XP for finishing current one. XP provides some multiplicative bonus to your KP gain when transmit knowledge. Your KP and Transmit Knowledge upgrades persist"}],su=[{id:c.DRONE_MASTERITY,name:"Drone Mastery",description:"Learn how to use your drone with more efficiency. Every point increases the output from drone actions by 20%",unlockCondition:function(e){return!0},getCost:(Es={},Es[a.KNOWLEDGE_POINT]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Es),category:s.START,maxLevel:10},{id:c.REPAIRED_SOLAR_PANEL,name:"Drone Solar Panel",description:"Add a solar panel to your starting drone that grants it small power generation",unlockCondition:function(e){return!0},getCost:(ds={},ds[a.KNOWLEDGE_POINT]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},ds),getGain:(gs={},gs[a.POWER]=function(t){return{A:.03,B:0,type:e.LINEAR}},gs),category:s.START,maxLevel:10},{id:c.POWER_MASTERITY,name:"Power Mastery",description:"Your experience with electrical grids helps with power optimization. Every point boosts power production by 4%",unlockCondition:function(e){return!0},getCost:(As={},As[a.KNOWLEDGE_POINT]=function(t){return{A:3,B:1.1,type:e.EXPONENTIAL}},As),getGainMultiplier:(fs={},fs[a.POWER]=function(t){return{A:.04,B:1,type:e.LINEAR}},fs),category:s.MASTERITIES,maxLevel:0},{id:c.MINING_MASTERITY,name:"Mining Mastery",description:"Striking the earth can be done in a wide variety of ways. Every point boosts stone, ore, iron and platinum production by 4%",unlockCondition:function(e){return!0},getCost:(Rs={},Rs[a.KNOWLEDGE_POINT]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Rs),getGainMultiplier:(Is={},Is[a.STONE]=function(t){return{A:.04,B:1,type:e.LINEAR}},Is[a.ORE]=function(t){return{A:.04,B:1,type:e.LINEAR}},Is[a.IRON]=function(t){return{A:.04,B:1,type:e.LINEAR}},Is[a.PLATINUM]=function(t){return{A:.04,B:1,type:e.LINEAR}},Is),category:s.MASTERITIES,maxLevel:0},{id:c.NATURE_MASTERITY,name:"Nature Mastery",description:"Extensive knowledge of biology and farming helps with spreading greenery on inhospitable worlds. Every point boosts biomass, wood and nutrition production by 4%",unlockCondition:function(e){return!0},getCost:(Ns={},Ns[a.KNOWLEDGE_POINT]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Ns),getGainMultiplier:(Os={},Os[a.NUTRITION]=function(t){return{A:.04,B:1,type:e.LINEAR}},Os[a.BIOMASS]=function(t){return{A:.04,B:1,type:e.LINEAR}},Os[a.WOOD]=function(t){return{A:.04,B:1,type:e.LINEAR}},Os),category:s.MASTERITIES,maxLevel:0},{id:c.GAS_MASTERITY,name:"Gas & Liquid Mastery",description:"Solid materials are important, but so are other states of matter. Every point boosts oxygen and water production 4%",unlockCondition:function(e){return!0},getCost:(ys={},ys[a.KNOWLEDGE_POINT]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},ys),getGainMultiplier:(ms={},ms[a.OXYGEN]=function(t){return{A:.04,B:1,type:e.LINEAR}},ms[a.WATER]=function(t){return{A:.04,B:1,type:e.LINEAR}},ms),category:s.MASTERITIES,maxLevel:0},{id:c.BUILDING_MASTERITY,name:"Refining Mastery",description:"Refined materials lie at the core of all complex structures. Every point boosts beam, brick and plate production by 4%",unlockCondition:function(e){return!0},getCost:(Ls={},Ls[a.KNOWLEDGE_POINT]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Ls),getGainMultiplier:(Ts={},Ts[a.BEAM]=function(t){return{A:.04,B:1,type:e.LINEAR}},Ts[a.BRICK]=function(t){return{A:.04,B:1,type:e.LINEAR}},Ts[a.PLATE]=function(t){return{A:.04,B:1,type:e.LINEAR}},Ts),category:s.MASTERITIES,maxLevel:0},{id:c.ELECTRONICS_MASTERITY,name:"Electronics Mastery",description:"Computers kickstarted a second industrial revolution and are very important in automating the industry. Every point boosts electronics (wire, semiconductor, computer, etc) production by 4%",unlockCondition:function(e){return!0},getCost:(Cs={},Cs[a.KNOWLEDGE_POINT]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Cs),getGainMultiplier:(hs={},hs[a.WIRE]=function(t){return{A:.04,B:1,type:e.LINEAR}},hs[a.COMPUTER]=function(t){return{A:.04,B:1,type:e.LINEAR}},hs[a.SEMICONDUCTOR]=function(t){return{A:.04,B:1,type:e.LINEAR}},hs[a.MAGNETO]=function(t){return{A:.04,B:1,type:e.LINEAR}},hs),category:s.MASTERITIES,maxLevel:0},{id:c.ROCKET_MASTERITY,name:"Rocket Mastery",description:"Each space colony starts with a rocket trip, and you are good at making rockets. Every point boosts fuel and rockets production by 4%",unlockCondition:function(e){return!0},getCost:(Ss={},Ss[a.KNOWLEDGE_POINT]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Ss),getGainMultiplier:(vs={},vs[a.FUEL]=function(t){return{A:.04,B:1,type:e.LINEAR}},vs[a.ROCKET_ENGINE]=function(t){return{A:.04,B:1,type:e.LINEAR}},vs),category:s.MASTERITIES,maxLevel:0},{id:c.ORGANICS_MASTERITY,name:"Organics Mastery",description:"Be more efficient in your precious biomass usage. Every point boosts biomass based creatable resources production (such as plastic and rubber) by 4%",unlockCondition:function(e){return!0},getCost:(Ps={},Ps[a.KNOWLEDGE_POINT]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Ps),getGainMultiplier:(Bs={},Bs[a.PLASTICS]=function(t){return{A:.04,B:1,type:e.LINEAR}},Bs[a.RUBBER]=function(t){return{A:.04,B:1,type:e.LINEAR}},Bs[a.GRAPHENE]=function(t){return{A:.04,B:1,type:e.LINEAR}},Bs),category:s.MASTERITIES,maxLevel:0},{id:c.POWER_CAPACITY,name:"Power Capacity",description:"More industry facilities require more power. Learn how to build better batteries to increase your power storage. Every point boosts power capacity by 4%",unlockCondition:function(e){return!0},getCost:(_s={},_s[a.KNOWLEDGE_POINT]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},_s),getCapacityMultiplier:(Ms={},Ms[a.POWER]=function(t){return{A:.04,B:1,type:e.LINEAR}},Ms),category:s.CAPACITY,maxLevel:0},{id:c.MATERIALS_CAPACITY,name:"Materials Capacity",description:"You know all about stocking containers to the top. Every point boosts all solid materials capacity by 4%",unlockCondition:function(e){return!0},getCost:(Us={},Us[a.KNOWLEDGE_POINT]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Us),getCapacityMultiplier:(Gs={},Gs[a.STONE]=function(t){return{A:.04,B:1,type:e.LINEAR}},Gs[a.IRON]=function(t){return{A:.04,B:1,type:e.LINEAR}},Gs[a.WOOD]=function(t){return{A:.04,B:1,type:e.LINEAR}},Gs[a.ORE]=function(t){return{A:.04,B:1,type:e.LINEAR}},Gs[a.PLATINUM]=function(t){return{A:.04,B:1,type:e.LINEAR}},Gs[a.BIOMASS]=function(t){return{A:.04,B:1,type:e.LINEAR}},Gs),category:s.CAPACITY,maxLevel:0},{id:c.LIQUIDS_CAPACITY,name:"Gas & Liquid Capacity",description:"You know how important full oxygen tank and filled water storage is. Every point boosts oxygen and water capacity by 4%",unlockCondition:function(e){return!0},getCost:(bs={},bs[a.KNOWLEDGE_POINT]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},bs),getCapacityMultiplier:(ws={},ws[a.OXYGEN]=function(t){return{A:.04,B:1,type:e.LINEAR}},ws[a.WATER]=function(t){return{A:.04,B:1,type:e.LINEAR}},ws),category:s.CAPACITY,maxLevel:0},{id:c.RESEARCH_CAPACITY,name:"Research Capacity",description:"Pursuit of knowledge never stops for someone as cursious as you. Every point increases research capacity by 4%",unlockCondition:function(e){return!0},getCost:(Xs={},Xs[a.KNOWLEDGE_POINT]=function(t){return{A:2,B:1.1,type:e.EXPONENTIAL}},Xs),getCapacityMultiplier:(Ds={},Ds[a.RESEARCH]=function(t){return{A:.04,B:1,type:e.LINEAR}},Ds),category:s.CAPACITY,maxLevel:0},{id:c.AESTHETICS_CONSUMPTION,name:"Aesthetics Consumption",description:"Pretty environment is surprisingly effective at boosting productivity. Every point decreases aesthetics requirements by 4",unlockCondition:function(e){return!0},getCost:(Hs={},Hs[a.KNOWLEDGE_POINT]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Hs),getCapacityMultiplier:{},category:s.COLONY,maxLevel:0},{id:c.ENTERTAINMENT_CONSUMPTION,name:"Entertainment Consumption",description:"You are not easily bored and know how to distract people from boredom. Every point decreases entertainment requirements by 4",unlockCondition:function(e){return!0},getCost:(xs={},xs[a.KNOWLEDGE_POINT]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},xs),getCapacityMultiplier:{},category:s.COLONY,maxLevel:0},{id:c.RELIGION_CONSUMPTION,name:"Religion Consumption",description:"In every prayer, a strength of the spirit. From strong spirit, a stronger body. Every point decreases religion requirements by 4",unlockCondition:function(e){return!0},getCost:(ks={},ks[a.KNOWLEDGE_POINT]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},ks),getCapacityMultiplier:{},category:s.COLONY,maxLevel:0},{id:c.SECURITY_CONSUMPTION,name:"Security Consumption",description:"Know when to de-escalate, know when to intervene. Every point decreases security requirements by 4",unlockCondition:function(e){return!0},getCost:(Ys={},Ys[a.KNOWLEDGE_POINT]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Ys),getCapacityMultiplier:{},category:s.COLONY,maxLevel:0},{id:c.HEALTH_CONSUMPTION,name:"Healthcare Consumption",description:"You know how to review a candidate for a future colony, and how to act when things go wrong. Every point decreases healthcare requirements by 4",unlockCondition:function(e){return!0},getCost:(Zs={},Zs[a.KNOWLEDGE_POINT]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Zs),getCapacityMultiplier:{},category:s.COLONY,maxLevel:0}],uu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),lu=function(e){function t(){var t=e.call(this)||this;return t.currentGoalIdx=0,t.goalsState=[],t}return uu(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.currentGoalIdx=e.currentGoalIdx||0},t.prototype.exportData=function(){return{currentGoalIdx:this.currentGoalIdx}},t.prototype.dataToUI=function(){return{index:this.currentGoalIdx,current:this.currentGoalToUI()}},t.prototype.getCurrentGoalDB=function(){var e;return null!==(e=cu[this.currentGoalIdx])&&void 0!==e?e:{id:"complete",description:"Complete",requirements:[]}},t.prototype.getRequirementText=function(e){var t,n,i,o,r,a="";switch(e.type){case dc.RESOURCE:a="Resource: "+(null===(t=T.find((function(t){return t.id===e.target})))||void 0===t?void 0:t.name);break;case dc.UPGRADE:a="Upgrade: "+(null===(n=Pr.find((function(t){return t.id===e.target})))||void 0===n?void 0:n.name);break;case dc.RESEARCH:a="Research: "+(null===(i=Jc.find((function(t){return t.id===e.target})))||void 0===i?void 0:i.name);break;case dc.BUILDING:a="Building: "+(null===(o=Cc.find((function(t){return t.id===e.target})))||void 0===o?void 0:o.name);break;case dc.POPULATION:a="Population";break;case dc.KP_UPGRADE:a="Knowledge Upgrade: "+(null===(r=su.find((function(t){return t.id===e.target})))||void 0===r?void 0:r.name)}return a},t.prototype.getRequirementAmount=function(e){var t=0;switch(e.type){case dc.RESOURCE:t=ju.resources.getResource(e.target);break;case dc.UPGRADE:t=ju.landingZone.landingZoneUpgrades.getUpgradeLevel(e.target);break;case dc.RESEARCH:t=ju.science.scienceResearches.getResearchLevel(e.target);break;case dc.BUILDING:t=ju.landingZone.landingZoneBuildings.getBuildingLevel(e.target);break;case dc.POPULATION:t=ju.colony.colonists;break;case dc.KP_UPGRADE:t=ju.prestige.transmitKnowledge.getUpgradeLevel(e.target)}return t},t.prototype.checkGoalStatus=function(){var e=this,t=this.getCurrentGoalDB(),n=!0;t.requirements.forEach((function(t){e.getRequirementAmount(t)<t.amount&&(n=!1)})),n&&this.currentGoalIdx<cu.length&&this.currentGoalIdx++},t.prototype.currentGoalToUI=function(){var e=this,t=this.getCurrentGoalDB();return{id:t.id,name:t.description,hint:t.hint,requirements:t.requirements.map((function(t){var n=e.getRequirementAmount(t),i=n>=t.amount;return{actual:n,target:t.amount,isComplete:i,text:e.getRequirementText(t)}}))}},t.prototype.process=function(e){this.checkGoalStatus()},t}(N),pu=lu.getInstance(),Eu=[{id:Un.EXPERIMENTAL_MEDICINE,name:"Experimental medicine",description:"Regulates the use of experimental drugs",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.CODEX_OF_LAW)>0},category:Mn.SOCIAL,options:[{name:"Forbid All",description:"Clinics are working in a regular way, providing service using only reliable and tested methods"},{name:"Allow All",description:"Using experimental medicine reduces healthcare from clinics, but they also provide a boost to max research"}]},{id:Un.WATER_FILTERING,name:"Water Filtering Control",description:"Changes the water filtration method",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.CODEX_OF_LAW)>0},category:Mn.SOCIAL,options:[{name:"Quick",description:"Water pumps are working in regular way"},{name:"Multi-Stage",description:"Water pumps consume twice as much power, but increase healthcare by 3 each"}]},{id:Un.RESEARCH_GRANTS,name:"Research Focus",description:"Setting research as priority through providing better equipment to your scientists can boost the development of your colony, but it won't be cheap",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.CODEX_OF_LAW)>0},category:Mn.SCIENCE,options:[{name:"No Extra Support",description:"Science buildings operate normally"},{name:"Minor Support",description:"Grant your scientists better tools to work with. Science buildings consume 25% more power, but provide 5% more research capacity"},{name:"Major Support",description:"Grant your scientists state-of-the-art tools to work on prototypes. Science buildings consume 75% more power, but provide 10% more research capacity"}]},{id:Un.FOREST_BEHAVOUR,name:"Forest Use",description:"Your forest plants can be used in different ways to provide various advantages",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.CODEX_OF_LAW)>0&&e.science.scienceResearches.getResearchLevel(O.EXOFORESTRY)>0},category:Mn.SOCIAL,options:[{name:"Lungs of the Colony",description:"Forest plants operate normally"},{name:"Nature Reserves",description:"Forest plants produce 50% less oxygen, but provide a small bonus to aesthetics"},{name:"Picnic zones",description:"Forest plants produce 50% less oxygen, but provide a small bonus to entertainment"}]},{id:Un.SECURITY_DOTATIONS,name:"Guards Rations",description:"Regulate rations for your policemen to motivate them to work harder",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.CODEX_OF_LAW)>0&&e.science.scienceResearches.getResearchLevel(O.PUBLIC_SERVICE)>0},category:Mn.SOCIAL,options:[{name:"Regular",description:"Policemen does not consume additional resources"},{name:"Extra Rations",description:"Incentivize your police force to work better with extra rations. Policemen consume extra 0.5 nutrition and 0.2 water each, but provide a better service"}]},{id:Un.ARTIFICIAL_ORGANS,name:"Artificial Organs",description:"Using 3D printers in creating organs to heal people can significantly boost healthcare, but religious people won't like it",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.CODEX_OF_LAW)>0&&e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.ORGANISM_PRINTING)>0},category:Mn.SOCIAL,options:[{name:"Forbid All",description:"Artificial implants are banned"},{name:"Allow",description:"Improves healthcare service, but decrease religious one",getEffectGain:(Ws={},Ws[L.HEALTHCARE]=function(e){return 20},Ws),getEffectConsumption:(Fs={},Fs[L.RELIGION]=function(e){return 20},Fs)}]},{id:Un.CLEAR_CUTTING,name:"Woodcutting Policy",description:"Change forest cutting restrictions in order to balance your wood production and environmental effects",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.CODEX_OF_LAW)>0&&e.science.scienceResearches.getResearchLevel(O.EXOFORESTRY)>0},category:Mn.ECONOMY,options:[{name:"Minor Regulations",description:'"Foresters produce a normal amount of wood'},{name:"Aggressive Cutting",description:"Encourage production at the cost of pretty landscape. Foresters produce 20% more wood, but each forester reduces aesthetics by 1.5"},{name:"Forest Preservation",description:"Encourage limited cutting and frequent replanting. Foresters produce 20% less wood, but each forester increases aesthetics by 1"}]},{id:Un.COAL_BURNING,name:"Coal Burning Regulations",description:"Allow or forbid wood usage as coal",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.CODEX_OF_LAW)>0&&e.science.scienceResearches.getResearchLevel(O.EXOFORESTRY)>0},category:Mn.ECONOMY,options:[{name:"Forbid All",description:"There is enough smoke as is, the wood is better used elsewhere. Thermal plants dont use wood"},{name:"Limited Use",description:"Allow using a minor amount of wood for thermal plants. Thermal plants are 10% more efficient, but consume 0.01 wood each"},{name:"Unregulated Use",description:"Time to inflict another industrial revoluion. Thermal plants are 25% more efficient, but consume 0.03 wood each"}]},{id:Un.FOOD_CHEMICAL_PROCESSING,name:"Food Chemical Processing",description:"Regulate the chemical processing of food",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.CODEX_OF_LAW)>0&&e.science.scienceResearches.getResearchLevel(O.ADVANCED_ANATOMY)>0},category:Mn.ECONOMY,options:[{name:"Forbid All",description:"All food is grown organically and served unprocessed"},{name:"Efficient Processing",description:"Process food to increase shelf life and nutritional value at the cost of its quality. Provides 10% bonus to nutrition production, but decrease healthcare by 10%",getGainMultiplier:(Vs={},Vs[a.NUTRITION]=function(e){return 1.1},Vs),getEffectMultiplier:(js={},js[L.HEALTHCARE]=function(e){return.9},js)}]},{id:Un.ELECTROTHERMAL_SMELTING,name:"Smelting Method",description:"Use alternative methods to boost metal smelting",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(O.CODEX_OF_LAW)>0&&e.science.scienceResearches.getResearchLevel(O.ELECTRICITY_STUDY)>0},category:Mn.ECONOMY,options:[{name:"Traditional",description:"Smelters operate as usually"},{name:"Electrothermal",description:"Smelters use 0.3 power each, but produce 30% more metal"}]},{id:Un.ORBITAL_BIOEXPERIMENT,name:"Orbital Bio-experiments",description:"Allow your Biolabs to run orbital research expeditions.",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.ORBITAL_BIORESEARCH)>0},category:Mn.SCIENCE,options:[{name:"Forbid",description:"Bio-labs operate normally"},{name:"Allow",description:"Bio-labs start consuming fuel (0.03 each) but provides 10 times more research capacity"}]}],du=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),gu=function(){return gu=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},gu.apply(this,arguments)},Au=function(e){function t(){var t=e.call(this)||this;return t.lawsStatuses=[],t.workDispatcher.on("[laws] set option",(function(e){console.log("change law",e),t.selectLawOption(e.id,e.optionId)})),t}return du(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.lawsStatuses=(null==e?void 0:e.laws)||[]},t.prototype.exportData=function(){return{laws:this.lawsStatuses}},t.prototype.dataToUI=function(){var e=this;return{laws:Eu.map((function(t){return e.processToUI(t)})),isUnlocked:ju.science.scienceResearches.getResearchLevel(O.CODEX_OF_LAW)>0}},t.prototype.getLawSelected=function(e){var t;return(null===(t=this.lawsStatuses.find((function(t){return t.id===e})))||void 0===t?void 0:t.selectedOptionId)||0},t.prototype.processToUI=function(e){var t=this.lawsStatuses.find((function(t){return t.id===e.id}));t||(t={id:e.id,selectedOptionId:0},this.lawsStatuses.push(t));var n=[];e.options.forEach((function(e,i){var o={name:e.name,description:e.description,gain:e.getGain?S.getValue(e.getGain,Vu.getInstance()).filter((function(e){return e.amount})).map((function(e){return gu(gu({},e),{amountValue:e.amount,amount:P(e.amount)})})):[],max:e.getStorage?S.getValue(e.getStorage,Vu.getInstance()).filter((function(e){return e.amount})).map((function(e){return gu(gu({},e),{amountValue:e.amount,amount:P(e.amount)})})):[],consume:e.getConsumption?S.getValue(e.getConsumption,Vu.getInstance()).filter((function(e){return e.amount})).map((function(e){return gu(gu({},e),{amountValue:e.amount,amount:P(e.amount)})})):[],consumeEffect:e.getEffectConsumption?S.getValue(e.getEffectConsumption,Vu.getInstance()).filter((function(e){return e.amount})).map((function(e){return gu(gu({},e),{amountValue:e.amount,amount:P(e.amount)})})):[],gainEffect:e.getEffectGain?S.getValue(e.getEffectGain,Vu.getInstance()).filter((function(e){return e.amount})).map((function(e){return gu(gu({},e),{amountValue:e.amount,amount:P(e.amount)})})):[],gainMult:e.getGainMultiplier?S.getValue(e.getGainMultiplier,Vu.getInstance()).filter((function(e){return e.amount})).map((function(e){return gu(gu({},e),{amountValue:e.amount,amount:P(e.amount)})})):[],isSelected:(null==t?void 0:t.selectedOptionId)===i};n.push(o)}));var i=e.unlockCondition(ju);return i&&ju.newNotifications.registerNotification("laws:orders:".concat(e.category,":").concat(e.id)),{id:e.id,name:e.name,description:e.description,isUnlocked:i,isAvailable:!0,options:n,category:e.category}},t.prototype.getEffectGain=function(e){var t=this,n=Eu.filter((function(n){var i;return!!(null===(i=n.options[t.getLawSelected(n.id)].getEffectGain)||void 0===i?void 0:i[e])})),i=[];return this.lawsStatuses.forEach((function(o){var r,a=n.find((function(e){return e.id===o.id}));if(a){var c=a.options[t.getLawSelected(a.id)];if(a&&(null===(r=c.getEffectGain)||void 0===r?void 0:r[e])){var s=c.getEffectGain[e](Vu.getInstance());i.push({label:"Law ".concat(a.name,": ").concat(c.name),value:s,id:"law-".concat(a.id)})}}}),0),i},t.prototype.getEffectMultiplier=function(e){var t=this,n=Eu.filter((function(n){var i;return!!(null===(i=n.options[t.getLawSelected(n.id)].getEffectMultiplier)||void 0===i?void 0:i[e])})),i=[];return this.lawsStatuses.forEach((function(o){var r,a=n.find((function(e){return e.id===o.id}));if(a){var c=a.options[t.getLawSelected(a.id)];if(a&&(null===(r=c.getEffectMultiplier)||void 0===r?void 0:r[e])){var s=c.getEffectMultiplier[e](Vu.getInstance());i.push({label:"Law ".concat(a.name,": ").concat(c.name),value:s,id:"law-".concat(a.id)})}}}),0),i},t.prototype.getEffectBeingConsumed=function(e){var t=this,n=Eu.filter((function(n){var i;return!!(null===(i=n.options[t.getLawSelected(n.id)].getEffectConsumption)||void 0===i?void 0:i[e])})),i=[];return this.lawsStatuses.forEach((function(o){var r,a=n.find((function(e){return e.id===o.id}));if(a){var c=a.options[t.getLawSelected(a.id)];if(a&&(null===(r=c.getEffectConsumption)||void 0===r?void 0:r[e])){var s=c.getEffectConsumption[e](Vu.getInstance());i.push({label:"Law ".concat(a.name,": ").concat(c.name),value:s,id:"law-".concat(a.id)})}}}),0),i},t.prototype.getResourceBeingProduced=function(e){var t=this,n=Eu.filter((function(n){var i;return!!(null===(i=n.options[t.getLawSelected(n.id)].getGain)||void 0===i?void 0:i[e])})),i=[];return this.lawsStatuses.forEach((function(o){var r,a=n.find((function(e){return e.id===o.id}));if(a){var c=a.options[t.getLawSelected(a.id)];if(a&&(null===(r=c.getGain)||void 0===r?void 0:r[e])){var s=c.getGain[e](Vu.getInstance());i.push({label:"Law ".concat(a.name,": ").concat(c.name),value:s,id:"law-".concat(a.id)})}}}),0),i},t.prototype.getResourceMultiplier=function(e){var t=this,n=Eu.filter((function(n){var i;return!!(null===(i=n.options[t.getLawSelected(n.id)].getGainMultiplier)||void 0===i?void 0:i[e])})),i=[];return this.lawsStatuses.forEach((function(o){var r,a=n.find((function(e){return e.id===o.id}));if(a){var c=a.options[t.getLawSelected(a.id)];if(a&&(null===(r=c.getGainMultiplier)||void 0===r?void 0:r[e])){var s=c.getGainMultiplier[e](Vu.getInstance());i.push({label:"Law ".concat(a.name,": ").concat(c.name),value:s,id:"law-".concat(a.id)})}}}),0),i},t.prototype.getResourceBeingConsumed=function(e){var t=this,n=Eu.filter((function(n){var i;return!!(null===(i=n.options[t.getLawSelected(n.id)].getConsumption)||void 0===i?void 0:i[e])})),i=[];return this.lawsStatuses.forEach((function(o){var r,a=n.find((function(e){return e.id===o.id}));if(a){var c=a.options[t.getLawSelected(a.id)];if(a&&(null===(r=c.getConsumption)||void 0===r?void 0:r[e])){var s=c.getConsumption[e](Vu.getInstance());i.push({label:"Law ".concat(a.name,": ").concat(c.name),value:s,id:"law-".concat(a.id)})}}}),0),i},t.prototype.getResourceBeingStored=function(e){var t=this,n=Eu.filter((function(n){var i;return!!(null===(i=n.options[t.getLawSelected(n.id)].getStorage)||void 0===i?void 0:i[e])})),i=[];return this.lawsStatuses.forEach((function(o){var r,a=n.find((function(e){return e.id===o.id}));if(a){var c=a.options[t.getLawSelected(a.id)];if(a&&(null===(r=c.getStorage)||void 0===r?void 0:r[e])){var s=c.getStorage[e](Vu.getInstance());i.push({label:"Law ".concat(a.name,": ").concat(c.name),value:s,id:"law-".concat(a.id)})}}}),0),i},t.prototype.getColonistsCap=function(){var e=this,t=Eu.filter((function(t){return!!t.options[e.getLawSelected(t.id)].getMaxColonists})),n=[];return this.lawsStatuses.forEach((function(i){var o=t.find((function(e){return e.id===i.id}));if(o){var r=o.options[e.getLawSelected(o.id)];if(o&&r.getMaxColonists){var a=r.getMaxColonists(Vu.getInstance());n.push({label:"Law ".concat(o.name,": ").concat(r.name),value:a,id:"law-".concat(o.id)})}}}),0),n},t.prototype.selectLawOption=function(e,t){var n=this.lawsStatuses.findIndex((function(t){return t.id===e}));n<0?this.lawsStatuses.push({id:e,selectedOptionId:t}):this.lawsStatuses[n].selectedOptionId=t,Vu.getInstance().resources.reassertBalances()},t.prototype.process=function(e){},t.prototype.reset=function(){this.lawsStatuses=[]},t}(N),fu=Au.getInstance(),Ru=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Iu=function(e){function t(){return e.call(this)||this}return Ru(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){},t.prototype.exportData=function(){return{}},t.prototype.dataToUI=function(){return{isUnlocked:ju.science.scienceResearches.getResearchLevel(O.ROCKET_SCIENCE)>0}},t}(N).getInstance(),Nu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ou=function(e){function t(){var t=e.call(this)||this;return t.upgrades=[],t.numPrestiged=0,t.workDispatcher.on("[transmit-knowledge] do prestige",(function(e){console.log("do prestige",e),t.doPrestige()})),t.workDispatcher.on("[transmit-knowledge] do upgrade",(function(e){console.log("do prestige",e),t.doUpgrade(e.id)})),t}return Nu(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.upgrades=e.upgrades,this.numPrestiged=e.numPrestiged},t.prototype.exportData=function(){return{upgrades:this.upgrades,numPrestiged:this.numPrestiged}},t.prototype.dataToUI=function(){var e=this,t=su.map((function(t){return e.processToUI(t)}));return this.isPrestigeAvailable()&&ju.newNotifications.registerNotification("prestige:transmit-knowledge"),{upgrades:t,isUnlocked:this.numPrestiged>0||this.isPrestigeAvailable(),kp:P(ju.resources.getResource(a.KNOWLEDGE_POINT)),prestige:{isAvailable:this.isPrestigeAvailable(),description:"",potentialGain:P(this.getPrestigeGain())}}},t.prototype.getUpgradeLevel=function(e){var t;return(null===(t=this.upgrades.find((function(t){return t.id===e})))||void 0===t?void 0:t.level)||0},t.prototype.processToUI=function(e){var t=this.upgrades.find((function(t){return t.id===e.id}));t||(t={id:e.id,level:0},this.upgrades.push(t));var n=S.calcBatchAll(e.getCost,Vu.getInstance(),t.level,Vu.getInstance().resources.getBatchObject()),i=n.reduce((function(e,t){return Math.min(e,t.max)}),1e300);return{id:e.id,name:e.name,description:e.description,isUnlocked:e.unlockCondition(ju),isAvailable:i>=1,cost:Vu.getInstance().resources.assertEnought(n,Vu.getInstance().resources.getBatchObject(),Vu.getInstance().resources.getBatchBalanceObject()),progress:i<1?(100*i).toPrecision(3):"100",isMaxedOut:!!e.maxLevel&&e.maxLevel<=t.level,maxLevel:e.maxLevel,level:t.level,category:e.category}},t.prototype.getEffectGain=function(e){var t=su.filter((function(t){var n;return!!(null===(n=t.getEffectGain)||void 0===n?void 0:n[e])})),n=[];return this.upgrades.forEach((function(i){var o,r=t.find((function(e){return e.id===i.id}));if(r&&(null===(o=r.getEffectGain)||void 0===o?void 0:o[e])){var a=S.calculate(ju,r.getEffectGain[e],0,i.level);n.push({label:"Knowledge: ".concat(r.name),value:a,id:"knowledge-".concat(r.id)})}}),0),n},t.prototype.getEffectMultiplier=function(e){var t=su.filter((function(t){var n;return!!(null===(n=t.getEffectMultiplier)||void 0===n?void 0:n[e])})),n=[];return this.upgrades.forEach((function(i){var o,r=t.find((function(e){return e.id===i.id}));if(r&&(null===(o=r.getEffectMultiplier)||void 0===o?void 0:o[e])){var a=S.calculate(ju,r.getEffectMultiplier[e],i.level,1);a&&n.push({label:"Knowledge: ".concat(r.name),value:a,id:"knowledge-".concat(r.id)})}}),0),n},t.prototype.getResourceBeingProduced=function(e){var t=su.filter((function(t){var n;return!!(null===(n=t.getGain)||void 0===n?void 0:n[e])})),n=[];return this.upgrades.forEach((function(i){var o,r=t.find((function(e){return e.id===i.id}));if(r&&(null===(o=r.getGain)||void 0===o?void 0:o[e])){var a=S.calculate(ju,r.getGain[e],0,i.level);n.push({label:"Knowledge: ".concat(r.name),value:a,id:"knowledge-".concat(r.id)})}}),0),n},t.prototype.getResourceMultiplier=function(e){var t=su.filter((function(t){var n;return!!(null===(n=t.getGainMultiplier)||void 0===n?void 0:n[e])})),n=[];return this.upgrades.forEach((function(i){var o,r=t.find((function(e){return e.id===i.id}));if(r&&(null===(o=r.getGainMultiplier)||void 0===o?void 0:o[e])){var a=S.calculate(ju,r.getGainMultiplier[e],0,i.level);console.log("thisProd: ",a,e,i.level),a&&n.push({label:"Knowledge: ".concat(r.name),value:a,id:"knowledge-".concat(r.id)})}}),0),n},t.prototype.getResourceBeingStored=function(e){var t=su.filter((function(t){var n;return!!(null===(n=t.getCapacityEffect)||void 0===n?void 0:n[e])})),n=[];return this.upgrades.forEach((function(i){var o,r,a=t.find((function(e){return e.id===i.id}));if(a&&(null===(o=a.getCapacityEffect)||void 0===o?void 0:o[e])){var c=S.calculate(ju,null===(r=a.getCapacityEffect)||void 0===r?void 0:r[e],0,i.level);n.push({label:"Knowledge: ".concat(a.name),value:c,id:"knowledge-".concat(a.id)})}}),0),n},t.prototype.getCapacityMult=function(e){var t=su.filter((function(t){var n;return!!(null===(n=t.getCapacityMultiplier)||void 0===n?void 0:n[e])})),n=[];return this.upgrades.forEach((function(i){var o=t.find((function(e){return e.id===i.id}));if(o&&o.getCapacityMultiplier){var r=S.calculate(ju,o.getCapacityMultiplier[e],0,i.level);r&&n.push({label:"Knowledge: ".concat(o.name),value:r,id:"knowledge-".concat(o.id)})}}),0),n},t.prototype.doUpgrade=function(e){var t=su.find((function(t){return t.id===e}));if(t){var n=this.upgrades.findIndex((function(t){return t.id===e}));if(n<0)n=this.upgrades.length,this.upgrades.push({id:e,level:0});else if(t.maxLevel&&this.upgrades[n].level>=t.maxLevel)return;var i=S.calcBatchAll(t.getCost,Vu.getInstance(),this.upgrades[n].level,Vu.getInstance().resources.getBatchObject());i.reduce((function(e,t){return Math.min(e,Math.floor(t.max))}),1e300)<1||(this.upgrades[n].level++,console.log("costs: ",i),Vu.getInstance().resources.subtractResourceBatch(i),ju.resources.reassertBalances())}},t.prototype.isPrestigeAvailable=function(){return ju.landingZone.landingZoneUpgrades.getUpgradeLevel(n.GREAT_RADIO_TRANSMITTER)>0&&ju.colony.colonists>50},t.prototype.getPrestigeGain=function(){var e=Vu.getInstance().prestige.colonizePlanet.processPlanetToUI(Vu.getInstance().prestige.colonizePlanet.current);return(ju.colony.colonists-50)*Vu.getInstance().prestige.colonizePlanet.getCurrentXPBonus()*e.xpGain},t.prototype.doPrestige=function(){if(this.isPrestigeAvailable()){var e=this.getPrestigeGain(),t=ju.resources.getResource(a.COLONIZE_XP)||0,n=ju.resources.getResource(a.KNOWLEDGE_POINT)||0;ju.landingZone.reset(),ju.colony.reset(),ju.crafting.reset(),ju.science.reset(),ju.laws.reset(),ju.resources.reset(),ju.statistics.stats.kpTotal=(ju.statistics.stats.kpTotal||0)+e,ju.statistics.stats.kpMaxGain=Math.max(ju.statistics.stats.kpMaxGain||0,e),ju.resources.addResource(a.KNOWLEDGE_POINT,e+n),ju.resources.addResource(a.COLONIZE_XP,t),ju.statistics.stats.timeThisPrestige=0,this.numPrestiged++,ju.resources.reassertBalances()}},t.prototype.process=function(e){},t}(N),yu=Ou.getInstance(),mu=[{id:l.COLD,category:u.TEMPERATURE,name:"Cold",complexityModifier:1.15,getGainMultiplier:(Ks={},Ks[a.POWER]=function(t){return{A:1,B:.9,type:e.EXPONENTIAL}},Ks[a.NUTRITION]=function(t){return{A:1,B:.9,type:e.EXPONENTIAL}},Ks[a.BIOMASS]=function(t){return{A:1,B:.9,type:e.EXPONENTIAL}},Ks[a.WATER]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},Ks[a.OXYGEN]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},Ks)},{id:l.HOT,category:u.TEMPERATURE,name:"Hot",complexityModifier:.9,getGainMultiplier:(qs={},qs[a.POWER]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},qs[a.WATER]=function(t){return{A:1,B:.95,type:e.EXPONENTIAL}},qs[a.OXYGEN]=function(t){return{A:1,B:.95,type:e.EXPONENTIAL}},qs)},{id:l.ORE_POOR,category:u.CRUST,name:"Ore Poor",complexityModifier:1.2,getGainMultiplier:(zs={},zs[a.ORE]=function(t){return{A:1,B:.8,type:e.EXPONENTIAL}},zs[a.STONE]=function(t){return{A:1,B:.8,type:e.EXPONENTIAL}},zs[a.PLATINUM]=function(t){return{A:1,B:.8,type:e.EXPONENTIAL}},zs[a.IRON]=function(t){return{A:1,B:.8,type:e.EXPONENTIAL}},zs)},{id:l.ORE_RICH,category:u.CRUST,name:"Ore Rich",complexityModifier:.85,getGainMultiplier:(Qs={},Qs[a.ORE]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Qs[a.STONE]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Qs[a.PLATINUM]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Qs[a.IRON]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Qs)},{id:l.SMALL,category:u.SIZE,name:"Small",complexityModifier:1.2,getGainMultiplier:(Js={},Js[a.ORE]=function(t){return{A:1,B:.9,type:e.EXPONENTIAL}},Js[a.STONE]=function(t){return{A:1,B:.9,type:e.EXPONENTIAL}},Js[a.PLATINUM]=function(t){return{A:1,B:.9,type:e.EXPONENTIAL}},Js[a.IRON]=function(t){return{A:1,B:.9,type:e.EXPONENTIAL}},Js),getCapacityMultiplier:($s={},$s[a.ORE]=function(t){return{A:1,B:.9,type:e.EXPONENTIAL}},$s[a.STONE]=function(t){return{A:1,B:.9,type:e.EXPONENTIAL}},$s[a.PLATINUM]=function(t){return{A:1,B:.9,type:e.EXPONENTIAL}},$s[a.IRON]=function(t){return{A:1,B:.9,type:e.EXPONENTIAL}},$s)},{id:l.LARGE,category:u.SIZE,name:"Big",complexityModifier:.9,getGainMultiplier:(eu={},eu[a.ORE]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},eu[a.STONE]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},eu[a.PLATINUM]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},eu[a.IRON]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},eu),getCapacityMultiplier:(tu={},tu[a.ORE]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},tu[a.STONE]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},tu[a.PLATINUM]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},tu[a.IRON]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},tu)},{id:l.WET,category:u.HUMIDITY,name:"Wet",complexityModifier:.85,getGainMultiplier:(nu={},nu[a.WATER]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},nu[a.NUTRITION]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},nu[a.BIOMASS]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},nu[a.WOOD]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},nu),getCapacityMultiplier:{}},{id:l.DRY,category:u.HUMIDITY,name:"Dry",complexityModifier:1.15,getGainMultiplier:(iu={},iu[a.WATER]=function(t){return{A:1,B:.9,type:e.EXPONENTIAL}},iu[a.NUTRITION]=function(t){return{A:1,B:.9,type:e.EXPONENTIAL}},iu[a.BIOMASS]=function(t){return{A:1,B:.9,type:e.EXPONENTIAL}},iu[a.WOOD]=function(t){return{A:1,B:.9,type:e.EXPONENTIAL}},iu),getCapacityMultiplier:{}}],Lu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Tu=function(){return Tu=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Tu.apply(this,arguments)},Cu=function(e,t,n){if(n||2===arguments.length)for(var i,o=0,r=t.length;o<r;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))},hu=function(t){function n(){var e=t.call(this)||this;return e.current={name:"Default",modifiers:{},yearLength:365,eccentricity:0,asteroidsDanger:0},e.available=[],e.numPrestiged=0,e.currentSearchFilters=[],e.workDispatcher.on("[colonize-planet] set search filter",(function(t){console.log("do search filter",t),e.setSearchFilter(t.id)})),e.workDispatcher.on("[colonize-planet] do search",(function(t){console.log("do search",t),e.doSearch()})),e.workDispatcher.on("[colonize-planet] do prestige",(function(t){console.log("do colonize",t),e.doColonize(t.id)})),e}return Lu(n,t),n.getInstance=function(){return n.instance||(n.instance=new n),n.instance},n.prototype.importData=function(e){this.available=e.available,this.current=e.current,this.numPrestiged=e.numPrestiged,this.currentSearchFilters=e.filters||[],this.current.eccentricity||(this.current.eccentricity=0),this.current.yearLength||(this.current.yearLength=365),this.current.asteroidsDanger||(this.current.asteroidsDanger=0)},n.prototype.exportData=function(){return{available:this.available,current:this.current,numPrestiged:this.numPrestiged,filters:this.currentSearchFilters}},n.prototype.dataToUI=function(){var e,t=this,n=this.available.map((function(e){return t.processPlanetToUI(e)}));this.isPrestigeAvailable()&&ju.newNotifications.registerNotification("prestige:colonize");var i=this.processPlanetToUI(this.current),o=this.getSearchCost(),r=o.reduce((function(e,t){return Math.min(e,t.max)}),1e300);return{available:n,current:i,isUnlocked:this.numPrestiged>0||this.isPrestigeAvailable(),isPrestigeAvailable:this.isPrestigeAvailable(),currentXP:ju.resources.getResource(a.COLONIZE_XP),search:{isAvailable:r>=1,cost:Vu.getInstance().resources.assertEnought(o,Vu.getInstance().resources.getBatchObject(),Vu.getInstance().resources.getBatchBalanceObject()),progress:r<1?(100*r).toPrecision(3):"100",filter:{isAvailable:ju.science.scienceResearches.getResearchLevel(O.EXOPLANET_SCIENCE)>0,modifierName:(null===(e=mu.find((function(e){var n,i;return e.id===(null===(i=null===(n=t.currentSearchFilters)||void 0===n?void 0:n[0])||void 0===i?void 0:i.modifierId)})))||void 0===e?void 0:e.name)||"None",modifiersAvailable:Cu([],mu.map((function(e){return{id:e.id,name:e.name}})),!0)}},prestige:{isAvailable:this.isPrestigeAvailable(),potentialGain:P(i.xpGain),potentialBonus:P(this.getXpBonus(ju.resources.getResource(a.COLONIZE_XP)+i.xpGain)),currentBonus:P(this.getXpBonus(ju.resources.getResource(a.COLONIZE_XP)))}}},n.prototype.isPrestigeAvailable=function(){return ju.landingZone.landingZoneBuildings.getBuildingActiveLevel(i.SPACESHIP_STATION)>0},n.prototype.setSearchFilter=function(e){ju.science.scienceResearches.getResearchLevel(O.EXOPLANET_SCIENCE)>0&&(this.currentSearchFilters=e&&"None"!==e?[{modifierId:e}]:[])},n.prototype.doGenerate=function(e){var t={},n=mu.reduce((function(e,t){return e[t.category]||(e[t.category]=[t]),e[t.category].push(t),e}),{}),i=mu.reduce((function(t,n){return e.find((function(e){return e.modifierId===n.id}))&&(t[n.category]=n),t}),{});Object.entries(n).forEach((function(e){var n=e[0],o=e[1],r=i[n];if(r)t[n]={id:r.id,level:1+2*Math.random()};else{var a=Math.round(Math.random()*o.length);a<o.length&&(t[o[a].category]={id:o[a].id,level:1+2*Math.random()})}}));var o=["AD","TOI","HAP","HAT","Gliese","CORROT","Kepler","WASP"],r=o[Math.floor(Math.random()*o.length)];this.available.push({name:"".concat(r," ").concat(Math.round(100*Math.random())," ").concat(["B","C","D"][Math.floor(3*Math.random())]),modifiers:t,eccentricity:Math.max(Math.pow(Math.random(),2)-.3,0),asteroidsDanger:Math.max(0,Math.random()-.5),yearLength:Math.round(120+500*Math.random())})},n.prototype.doSearch=function(){var e=this;if(this.isPrestigeAvailable()){var t=this.getSearchCost();t.reduce((function(e,t){return Math.min(e,t.max)}),1e300)<1||(this.available=[],Vu.getInstance().resources.subtractResourceBatch(t),Array.from({length:3}).forEach((function(){return e.doGenerate(e.currentSearchFilters)})))}},n.prototype.getResourceMultiplier=function(e){var t=Object.values(this.current.modifiers),n=mu.filter((function(n){var i;return t.map((function(e){return e.id})).includes(n.id)&&!!(null===(i=n.getGainMultiplier)||void 0===i?void 0:i[e])})),i=[];return t.forEach((function(t){var o,r=n.find((function(e){return e.id===t.id}));if(r&&(null===(o=r.getGainMultiplier)||void 0===o?void 0:o[e])){var a=S.calculate(ju,r.getGainMultiplier[e],t.level,1);console.log("0--0",e,r.id,a),a&&i.push({label:"Planet modifier: ".concat(r.name),value:a,id:"planet-modifier-".concat(r.id)})}}),0),i},n.prototype.getCapacityMultiplier=function(e){var t=Object.values(this.current.modifiers),n=mu.filter((function(n){var i;return t.map((function(e){return e.id})).includes(n.id)&&!!(null===(i=n.getCapacityMultiplier)||void 0===i?void 0:i[e])})),i=[];return t.forEach((function(t){var o,r=n.find((function(e){return e.id===t.id}));if(r&&(null===(o=r.getCapacityMultiplier)||void 0===o?void 0:o[e])){var a=S.calculate(ju,r.getCapacityMultiplier[e],t.level,1);console.log("0--0",e,r.id,a),a&&i.push({label:"Planet modifier: ".concat(r.name),value:a,id:"planet-modifier-".concat(r.id)})}}),0),i},n.prototype.getClimateChangeText=function(e){return e<=.01?"Stable":e<=.2?"Small Season Changes":e<=.4?"Moderate Season Changes":e<=.6?"Big Season Changes":"Terrible"},n.prototype.processPlanetToUI=function(e){var t={},n={},i="",o=1,r=function(r){var a=e.modifiers[r];if(!a)return"continue";var c=a.id,s=mu.find((function(e){return e.id===c}));if(!s)return"continue";i="".concat(s.name," ").concat(i),s.getGainMultiplier&&S.calcBatch(s.getGainMultiplier,Vu.getInstance(),a.level).forEach((function(e){var n;t[e.id]?null===(n=t[e.id])||void 0===n||(n.amount*=e.amount):t[e.id]=e})),s.getCapacityMultiplier&&S.calcBatch(s.getCapacityMultiplier,Vu.getInstance(),a.level).forEach((function(e){var t;n[e.id]?null===(t=n[e.id])||void 0===t||(t.amount*=e.amount):n[e.id]=e})),o*=Math.pow(s.complexityModifier,a.level)};for(var a in e.modifiers)r(a);var c=this.getColonizeCost(),s=c.reduce((function(e,t){return Math.min(e,t.max)}),1e300),u=1+Math.pow(e.eccentricity||0,2);return o*=u,{name:e.name,description:i,gainMult:Object.values(t).map((function(e){return Tu(Tu({},e),{amountValue:e.amount,amount:P(e.amount)})})),max:[],cost:Vu.getInstance().resources.assertEnought(c,Vu.getInstance().resources.getBatchObject(),Vu.getInstance().resources.getBatchBalanceObject()),isAvailable:s>=1,progress:s<1?(100*s).toPrecision(3):"100",consume:[],consumeEffect:[],gainEffect:[],gain:[],maxMult:Object.values(n).map((function(e){return Tu(Tu({},e),{amountValue:e.amount,amount:P(e.amount)})})),xpGain:o,daysPerYear:P(e.yearLength||365,3),climateChange:this.getClimateChangeText(e.eccentricity||0),climateHarshness:u}},n.prototype.getXpBonus=function(e){return 1+.3*Math.pow(e,.33)},n.prototype.getCurrentXPBonus=function(){return this.getXpBonus(ju.resources.getResource(a.COLONIZE_XP))},n.prototype.getColonizeCost=function(){var t;return S.calcBatchAll(((t={})[a.ROCKET_ENGINE]=function(t){return{A:1e3,B:1,type:e.EXPONENTIAL}},t),Vu.getInstance(),1,Vu.getInstance().resources.getBatchObject())},n.prototype.getSearchCost=function(){var t,n=this;return S.calcBatchAll(((t={})[a.FUEL]=function(t){return{A:2500*Math.pow(2,n.currentSearchFilters.length),B:1,type:e.EXPONENTIAL}},t),Vu.getInstance(),1,Vu.getInstance().resources.getBatchObject())},n.prototype.doColonize=function(e){if(!(this.getColonizeCost().reduce((function(e,t){return Math.min(e,t.max)}),1e300)<1)&&this.isPrestigeAvailable()){var t=this.processPlanetToUI(this.current).xpGain,n=ju.resources.getResource(a.KNOWLEDGE_POINT),i=ju.resources.getResource(a.COLONIZE_XP);ju.statistics.stats.xpTotal=(ju.statistics.stats.xpTotal||0)+t,ju.statistics.stats.xpMaxGain=Math.max(ju.statistics.stats.xpMaxGain||0,t),ju.landingZone.reset(),ju.colony.reset(),ju.crafting.reset(),ju.science.reset(),ju.laws.reset(),ju.resources.reset(),ju.resources.addResource(a.COLONIZE_XP,i+t),ju.resources.addResource(a.KNOWLEDGE_POINT,n),this.numPrestiged++,ju.statistics.stats.timeThisPlanet=0,ju.statistics.stats.timeThisPrestige=0,this.current=this.available[e],this.current.yearLength||(this.current.yearLength=365,this.current.eccentricity=0),this.available=[],ju.resources.reassertBalances()}},n}(N),Su=hu.getInstance(),vu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Pu=function(e){function t(){var t=e.call(this)||this;return t.transmitKnowledge=yu,t.colonizePlanet=Su,t}return vu(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.transmitKnowledge.importData(e.transmitKnowledge),this.colonizePlanet.importData(e.colonizePlanet)},t.prototype.exportData=function(){return{transmitKnowledge:this.transmitKnowledge.exportData(),colonizePlanet:this.colonizePlanet.exportData()}},t.prototype.dataToUI=function(){return{transmitKnowledge:this.transmitKnowledge.dataToUI(),colonizePlanet:this.colonizePlanet.dataToUI(),isUnlocked:this.transmitKnowledge.isPrestigeAvailable()||this.transmitKnowledge.numPrestiged>0||this.colonizePlanet.isPrestigeAvailable()||this.colonizePlanet.numPrestiged>0}},t.prototype.preProcess=function(e){},t.prototype.process=function(e){this.transmitKnowledge.process(e)},t}(N).getInstance(),Bu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_u=function(e){function t(){var t=e.call(this)||this;return t.expeditionsState={isInProgress:!1,progress:0,lastLooted:{},numExpeditions:0,currentMode:0,currentMax:100,runningExpeditionMode:0},t.expeditionsState={isInProgress:!1,progress:0,lastLooted:{},numExpeditions:0,currentMode:0,currentMax:100,runningExpeditionMode:0},t.workDispatcher.on("[expedition] send",(function(e){console.log("do expedition",e),t.startExpedition()})),t.workDispatcher.on("[expedition] set mode",(function(e){console.log("set expedition mode",e),t.expeditionsState.currentMode=e.mode})),t}return Bu(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.expeditionsState=e||{isInProgress:!1,progress:0,lastLooted:{},numExpeditions:0}},t.prototype.exportData=function(){return this.expeditionsState},t.prototype.dataToUI=function(){var e;return{numExpeditions:this.expeditionsState.numExpeditions,progress:this.expeditionsState.progress,lastLooted:Object.entries(this.expeditionsState.lastLooted).map((function(e){var t=e[0],n=e[1];return{id:t,amount:P(n),name:h(t),amountValue:n}})),isUnlocked:this.isExpeditionUnlocked(),isInProgress:this.expeditionsState.isInProgress,eta:v(this.expeditionsState.currentMax-this.expeditionsState.progress),percentage:100*this.expeditionsState.progress/this.expeditionsState.currentMax,multiplier:P(this.getLootMultiplier()),currentMode:null!==(e=this.expeditionsState.currentMode)&&void 0!==e?e:0}},t.prototype.isExpeditionUnlocked=function(){return ju.science.scienceResearches.getResearchLevel(O.GEOGRAPHY)>0},t.prototype.startExpedition=function(){!this.expeditionsState.isInProgress&&this.isExpeditionUnlocked()&&(this.expeditionsState.currentMax=this.getExpeditionDuration(),this.expeditionsState.isInProgress=!0,this.expeditionsState.progress=0,this.expeditionsState.runningExpeditionMode=this.expeditionsState.currentMode,this.expeditionsState.numExpeditions++)},t.prototype.getLoot=function(){var e=this.getLootMultiplier(),t=1;switch(this.expeditionsState.runningExpeditionMode){case 0:default:t=1;break;case 1:t=4;break;case 2:t=16}for(var n=T.filter((function(e){return e.unlockCondition(ju)&&e.valuability<1e6})),i={},o=0;o<2;o++){var r=n.splice(Math.floor(Math.random()*(n.length-1e-5)),1)[0];i[r.id]=100*(Math.random()+.5)*e*t/r.valuability}return i},t.prototype.getLootMultiplier=function(){return Math.pow(1.05,ju.landingZone.landingZoneBuildings.getBuildingActiveLevel(i.EXPEDITION_CENTER))*Math.pow(1.3,ju.landingZone.landingZoneUpgrades.getUpgradeLevel(n.ENERGY_SAVING_EXPEDITION_DRONES))},t.prototype.endExpedition=function(){this.expeditionsState.isInProgress=!1,this.expeditionsState.progress=0;var e=this.getLoot();for(var t in this.expeditionsState.lastLooted=e,e)ju.resources.addResource(t,e[t]||0)},t.prototype.getExpeditionDuration=function(){switch(this.expeditionsState.currentMode){case 0:return 120;case 1:return 600;case 2:return 3600}return 120},t.prototype.process=function(e){this.expeditionsState.isInProgress&&(this.expeditionsState.currentMax||(this.expeditionsState.runningExpeditionMode=0,this.expeditionsState.currentMax=this.getExpeditionDuration()),this.expeditionsState.progress+=e,this.expeditionsState.progress>=this.expeditionsState.currentMax&&this.endExpedition())},t.prototype.reset=function(){this.expeditionsState.isInProgress=!1,this.expeditionsState.progress=0,this.expeditionsState.lastLooted={}},t}(N),Mu=_u.getInstance(),Uu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Gu=function(e){function t(){var t=e.call(this)||this;return t.newNotificationState={},t.notificationsToUI={},t.workDispatcher.on("[new-notification] set viewed",(function(e){console.log("new-notification set viewed",e),t.setViewed(e.id)})),t}return Uu(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.newNotificationState=e||{}},t.prototype.exportData=function(){return this.newNotificationState},t.prototype.dataToUI=function(){return{new:this.notificationsToUI}},t.prototype.setViewed=function(e){this.newNotificationState[e]=!0},t.prototype.getViewed=function(e){var t;return null!==(t=this.newNotificationState[e])&&void 0!==t&&t},t.prototype.registerNotification=function(e){if(this.newNotificationState[e])return!1;for(var t=e.split(":"),n=[];t.length>0;)n.push("".concat(t.splice(0,1))),this.notificationsToUI[n.join(":")]=!0;return this.notificationsToUI[e]},t.prototype.reset=function(){this.newNotificationState={},this.notificationsToUI={}},t.prototype.preUI=function(){this.notificationsToUI={}},t}(N),bu=Gu.getInstance(),wu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xu=function(){return Xu=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Xu.apply(this,arguments)},Du=function(e){function t(){var t=e.call(this)||this;return t.stats={timeInGame:0,timeThisPlanet:0,timeThisPrestige:0,maxColonists:0,maxHappiness:0,kpTotal:0,kpMaxGain:0,xpTotal:0,xpMaxGain:0},t}return wu(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.stats=e||{timeInGame:ju.timeInGame,timeThisPlanet:ju.timeInGame,timeThisPrestige:ju.timeInPrestige,maxColonists:0,maxHappiness:0}},t.prototype.exportData=function(){return this.stats},t.prototype.dataToUI=function(){return Xu(Xu({},this.stats),{maxHappiness:Math.round(100*this.stats.maxHappiness),numPrestiges:ju.prestige.transmitKnowledge.numPrestiged,numColonized:ju.prestige.colonizePlanet.numPrestiged})},t.prototype.process=function(e){this.stats.timeThisPrestige+=e,this.stats.timeThisPlanet+=e,this.stats.timeInGame+=e,this.stats.maxHappiness=Math.max(this.stats.maxHappiness,ju.colony.getColonistsHappiness()),this.stats.maxColonists=Math.max(this.stats.maxColonists,ju.colony.colonists)},t}(N).getInstance();!function(e){e[e.EXTREMELY_COLD=0]="EXTREMELY_COLD",e[e.VERY_COLD=1]="VERY_COLD",e[e.COLD=2]="COLD",e[e.SLIGHTLY_COLD=3]="SLIGHTLY_COLD",e[e.NORMAL=4]="NORMAL",e[e.SLIGHTLY_WARM=5]="SLIGHTLY_WARM",e[e.WARM=6]="WARM",e[e.HOT=7]="HOT",e[e.VERY_HOT=8]="VERY_HOT"}(ou||(ou={})),function(e){e[e.SPRING=0]="SPRING",e[e.SUMMER=1]="SUMMER",e[e.AUTUMN=2]="AUTUMN",e[e.WINTER=3]="WINTER"}(ru||(ru={}));var Hu=[{id:ou.VERY_HOT,distanceCondition:.35,temperatureModifier:1.75,name:"Very Hot"},{id:ou.HOT,distanceCondition:.45,temperatureModifier:1.5,name:"Hot"},{id:ou.WARM,distanceCondition:.6,temperatureModifier:1.3,name:"Warm"},{id:ou.SLIGHTLY_WARM,distanceCondition:.8,temperatureModifier:1.1,name:"Slightly Warm"},{id:ou.NORMAL,distanceCondition:1.2,temperatureModifier:1,name:"Normal"},{id:ou.SLIGHTLY_COLD,distanceCondition:1.4,temperatureModifier:.9,name:"Slightly Cold"},{id:ou.COLD,distanceCondition:1.55,temperatureModifier:.75,name:"Cold"},{id:ou.VERY_COLD,distanceCondition:1.65,temperatureModifier:.66,name:"Very Cold"},{id:ou.EXTREMELY_COLD,distanceCondition:1.7,temperatureModifier:.62,name:"Extremely Cold"}],xu=((au={})[ru.SPRING]="Spring",au[ru.SUMMER]="Summer",au[ru.AUTUMN]="Autumn",au[ru.WINTER]="Winter",au),ku=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Yu=function(e){function t(){var t=e.call(this)||this;return t.climateState={day:0,season:ru.SPRING,temperature:ou.NORMAL,year:0},t}return ku(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.climateState=e||{day:0,season:ru.SPRING,temperature:ou.NORMAL,year:0}},t.prototype.exportData=function(){return this.climateState},t.prototype.dataToUI=function(){var e=this,t=Hu.find((function(t){return t.id===e.climateState.temperature}));if(!t)throw new Error("Invalid temperature modifier ".concat(this.climateState.temperature));return{temperature:t.name,year:this.climateState.year,day:this.climateState.day,season:xu[this.climateState.season]}},t.prototype.getDays=function(){return.2*ju.statistics.stats.timeThisPrestige},t.prototype.getSeasonId=function(){var e=ju.prestige.colonizePlanet.current.yearLength,t=this.getDays()%e;return Math.floor(4*t/e)},t.prototype.getResourceMultiplier=function(e){var t=this,n=Hu.find((function(e){return e.id===t.climateState.temperature}));if(!n)throw new Error("Invalid temperature modifier ".concat(this.climateState.temperature));if(1===n.temperatureModifier)return[];var i=n.temperatureModifier,o=1/n.temperatureModifier;return[a.POWER].includes(e)?[{id:"temp_modif_".concat(n.id),label:"Temperature modifier: ".concat(n.name),value:i}]:[a.WATER,a.OXYGEN].includes(e)?[{id:"temp_modif_".concat(n.id),label:"Temperature modifier: ".concat(n.name),value:o}]:[a.WOOD].includes(e)?[{id:"temp_modif_".concat(n.id),label:"Temperature modifier: ".concat(n.name),value:Math.pow(Math.min(o,i),.5)}]:[]},t.prototype.process=function(e){var t=this.getDays(),n=ju.prestige.colonizePlanet.current.yearLength;this.climateState.year=1+Math.floor(t/n),this.climateState.day=1+this.getDays()%n,this.climateState.season=this.getSeasonId();for(var i=Math.floor(16*this.climateState.day/n),o=1-ju.prestige.colonizePlanet.current.eccentricity*Math.sin(6.28*i/16),r=0;Hu[r].distanceCondition<o;)r++;Hu[r].id!==this.climateState.temperature&&(console.log("Weather changed: ".concat(this.climateState.temperature," -> ").concat(Hu[r].id)),this.climateState.temperature=Hu[r].id,ju.resources.reassertBalances())},t}(N).getInstance(),Zu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Wu=function(e){function t(){var t=e.call(this)||this;return t.climate=Yu,t}return Zu(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.climate.importData(null==e?void 0:e.climate)},t.prototype.exportData=function(){return{climate:this.climate.exportData()}},t.prototype.dataToUI=function(){return{climate:this.climate.dataToUI()}},t.prototype.process=function(e){this.climate.process(e)},t.prototype.reset=function(){},t}(N).getInstance(),Fu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Vu=function(e){function t(){var t=this,n=Date.now();return(t=e.call(this)||this).dT=0,t.timeInGame=0,t.timeInPrestige=0,t.isFirstIter=!1,t.isLoading=!0,t.workDispatcher.on("initialize",(function(e){console.log("Received payload",e)})),t.resources=Pc,t.milestones=Dc,t.landingZone=bc,t.colony=Qc,t.science=is,t.crafting=ps,t.goals=pu,t.laws=fu,t.space=Iu,t.expedition=Mu,t.newNotifications=bu,t.prestige=Pu,t.statistics=Du,t.environment=Wu,setInterval((function(){t.isLoading?console.warn("Game is loading... Skip"):t.process(.1)}),100),setInterval((function(){t.workDispatcher.output("[game] update ui",t.dataToUI())}),200),setInterval((function(){t.workDispatcher.output("[game] save",t.exportData())}),1e4),t.workDispatcher.on("[game] load",(function(e){console.log("Received load",e),t.importData(e)})),t.workDispatcher.on("[game] export text",(function(e){console.log("Received export text",e),t.workDispatcher.output("[game] export to string",t.exportData())})),t.workDispatcher.on("[game] export file",(function(e){console.log("Received export to file",e),t.workDispatcher.output("[game] export to file",t.exportData())})),t.workDispatcher.on("[game] purchase max",(function(e){console.log("Received purchase max",e),t.purchaseMax()})),t.workDispatcher.on("[game] trigger save",(function(e){t.workDispatcher.output("[game] save",t.exportData())})),t.workDispatcher.output("loaded",{ttp:Date.now()-n}),t.isLoading=!1,t}return Fu(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.process=function(e){this.dT=1*e,this.landingZone.preProcess(1*e),this.milestones.process(1*e),this.landingZone.process(1*e),this.colony.process(1*e),this.resources.process(1*e),this.colony.process(1*e),this.science.process(1*e),this.crafting.process(1*e),this.goals.process(1*e),this.space.process(1*e),this.expedition.process(1*e),this.prestige.process(1*e),this.statistics.process(1*e),this.environment.process(1*e),this.timeInPrestige+=1*e,this.timeInGame+=1*e,this.isFirstIter&&(this.isFirstIter=!1,this.resources.reassertBalances())},t.prototype.importData=function(e){this.isLoading=!0,this.resources.importData(e.resources),this.milestones.importData(e.milestones||[]),this.landingZone.importData(e.landingZone),this.colony.importData(e.colony),this.science.importData(e.science),this.crafting.importData(e.crafting),this.goals.importData(e.goals),this.laws.importData(e.laws),this.expedition.importData(e.expedition),this.newNotifications.importData(e.newNotifications),this.prestige.importData(e.prestige),this.resources.reassertBalances(),this.statistics.importData(e.statistics),this.environment.importData(e.environment),this.timeInGame=e.timeInGame,this.timeInPrestige=e.timeInPrestige,this.isFirstIter=!0,this.isLoading=!1},t.prototype.exportData=function(){return{landingZone:this.landingZone.exportData(),colony:this.colony.exportData(),resources:this.resources.exportData(),milestones:this.milestones.exportData(),science:this.science.exportData(),crafting:this.crafting.exportData(),goals:this.goals.exportData(),laws:this.laws.exportData(),expedition:this.expedition.exportData(),newNotifications:this.newNotifications.exportData(),prestige:this.prestige.exportData(),statistics:this.statistics.exportData(),environment:this.environment.exportData(),timeInPrestige:this.timeInPrestige,timeInGame:this.timeInGame}},t.prototype.dataToUI=function(){return this.newNotifications.preUI(),{landingZone:this.landingZone.dataToUI(),colony:this.colony.dataToUI(),science:this.science.dataToUI(),crafting:this.crafting.dataToUI(),resources:this.resources.dataToUI(),laws:this.laws.dataToUI(),goals:this.goals.dataToUI(),space:this.space.dataToUI(),expeditions:this.expedition.dataToUI(),newNotifications:this.newNotifications.dataToUI(),prestige:this.prestige.dataToUI(),statistics:this.statistics.dataToUI(),environment:this.environment.dataToUI(),timeInPrestige:v(this.timeInPrestige),timeInGame:v(this.timeInGame)}},t.prototype.purchaseMax=function(){},t}(N),ju=Vu.getInstance();self.addEventListener("message",(function(e){var t=e.data;console.log("send to worker: ",t),ju.workDispatcher.handleInput(t.type,t.payload)}))})();