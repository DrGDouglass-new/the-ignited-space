(()=>{"use strict";var e,t,n,i,o,r,a,c,s,u,l,p,E,d,g,A,f,N,R,I=function(){function e(){this.events=[],this.events=[]}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.on=function(e,t){this.events.push({action:e,callback:t})},e.prototype.handleInput=function(e,t){var n=this.events.find((function(t){return t.action===e}));n?n.callback(t):console.error("Unknown event: ",e)},e.prototype.output=function(e,t){postMessage({type:e,payload:t})},e}().getInstance(),O=function(){function e(){this.workDispatcher=I}return e.prototype.importData=function(e){},e.prototype.exportData=function(){return{}},e.prototype.dataToUI=function(){return{}},e.prototype.process=function(e){},e}();!function(e){e[e.POLYNOMIAL=0]="POLYNOMIAL",e[e.EXPONENTIAL=1]="EXPONENTIAL",e[e.LINEAR=2]="LINEAR"}(e||(e={})),function(e){e.CHARGE="charge",e.DRILL_ROCK="drillRock",e.DRILL_ORE="drillOre",e.COLLECT_BIOMASS="collectBiomass"}(t||(t={})),function(e){e.REPAIR_DRILL="repair-drill",e.REPAIR_CABLE="repair-cable",e.REPAIR_MANIPULATORS="repair-manipulators",e.REPAIR_MACHINERY="repair-machinery",e.AUTO_QUARRYING="autoquarrying",e.AUTO_MINERS="autominers",e.COMBUSTION="combustion",e.REPAIR_STORAGE_MODULE="storage-module",e.REPAIR_BATTERY="repair-battery",e.COMBUSTION_CAMERA="combuscion-camera",e.THERMAL_TECH="thermal-tech",e.MINE_TECH="mine-tech",e.QUARRY_TECH="quarry-tech",e.BIO_TECH="bio-tech",e.STORAGE_TECH="storage-tech",e.BACTERIA_SELECTION="bacteria-selection",e.THERMAL_TECH2="thermal-tech2",e.OXYGEN_CAMERAS="oxygen-cameras",e.RESERVE_BATTERIES="reserve-batteries",e.OXYGEN_COMPRESSORS="oxygen-compressors",e.WATER_PUMPING="water-pumping",e.ELECTROLITES="electrolites",e.SUPPLY_MODULE="supply-module",e.DOCKING_MODULE="docking-module",e.RESEARCH_MODULE="research-module",e.CARGO_SORTING="cargo-sorting",e.FARMING_TOOLS="farming-tools",e.DEEP_MINING="deep-mining",e.UNDERGROUND_VAULTS="underground-vaults",e.WATER_DRILLING="water-drill",e.FERTILIZING="fertilizing",e.FLORA="flora",e.FLAMMABILITY="flammability",e.CRANES="cranes",e.CARGO_CRANES="cargo-cranes",e.FORESTER_TOOLS="forester-tools",e.BROADLEAVED="broad-leaved",e.WOODEN_FURNITURE="furniture",e.IRON_TOOLS="iron-tools",e.IRON_PARTS="iron-parts",e.IRON_CONTAINERS="iron-containers",e.IMPROVED_WIRES="improved wires",e.REFRACTORY_MATERIALS="refractory-materials",e.METAL_WORKING="metal-working",e.CEMENT="cement",e.TREE_CARE="tree-care",e.NATURAL_ENVIRONMENT="natural-environment",e.FRUIT_TREES="fruit-trees",e.WATER_FILTERING="water-filtering",e.CHEMICAL_ANALYSIS="chemical-analysis",e.BETTER_ELECTROLITES="better-electrolites",e.HIGH_TEMPERATURE_ENGINE="high-temperature-engine",e.PLATINUM_MINING="platinum-mining",e.PLATINUM_DRILLS="platinum-drills",e.PLATINUM_TOOLS="platinum-tools",e.SOCIAL_RESEARCH_CENTER="social-research-center",e.COTTAGES="cottages",e.ENTERTAINMENT="entertainment",e.ADVANCED_METALLURGY="advanced_metallurgy",e.COMPOSITE_METALS="composite_metals",e.HEAT_INSULATING_CAMERAS="heat_insulating_cameras",e.GERMETISATION="germetisation",e.RUBBER_DETAILS="rubber_details",e.IMPROVED_WIRING="improved_wiring",e.ENERGY_SAVING="energy_saving",e.ENERGY_SAVING_EXPEDITION_DRONES="energy-saving-expedition-drones",e.SURVEILLANCE_CAMERAS="surveillance_cameras",e.COMPUTERS="computers",e.INDUSTRY_AUTOMATION="idustrial_automation",e.BUILDING_PRINTING="building_printer",e.ORGANISM_PRINTING="organs_printing",e.BETTER_DIAGNOSTICS="better-diagnostics",e.MULTISTORE_WAREHOUSES="multistore_warehouses",e.GMO="GMO",e.LASER_CUTTING="laser-cutting",e.IMPROVED_LITHOGRAPHY="improved-lithography",e.BETTER_PHOTOELEMENTS="better-photo-elements",e.GREAT_RADIO_TRANSMITTER="great_radio_transmitter",e.FLIGHT_TECHNOLOGY="flight-technology",e.FASTER_ROCKETS="faster-rockets",e.CONDUCTIVE_NANOPARTICLES="conductive-nanoparticles",e.NANO_BOTS="nano_bots",e.TELESCOPE="telescope",e.GENES_MODIFICATION="genes_modification",e.GRAVITATIONAL_LENSING="gravitational_lensing",e.RADIATIVE_DISSOCIATION="radiative_dissociation",e.FUEL_PROCESSING_CATALYSATION="fuel_processing_catalysation",e.IMPULSE_ENGINE="impulse_engine",e.PLASMA_KNIFE="plasma_knife",e.NANO_TRANSISTORS="nano_transistors",e.UF_POLYMERYSATION="uf-polymerysation",e.BULLETPROOF_POLYMERS="bulletproof_polymers",e.COLD_SYNTHESIS="cold_synthesis",e.ELECTRIC_TRACTION="electric_traction",e.EFFICIENT_CONDUCTION="efficient_conduction",e.GRAPHENE_SYNTHESIS="graphene_generation",e.GRAPHENE_DRILLS="graphene_drills",e.GRAPHENE_SENSORS="graphene_sensors",e.GRAPHENE_MEMBRANES="graphene_membranes",e.COMPOSITE_BUILDING_MATERIALS="composite_building_materials",e.PLATINUM_ALLOYS="platinum-alloys",e.STRONG_CISTERN="strong_cistern",e.EFFICIENT_COLLIDERS="efficient_colliders",e.NEUTRON_CANON="neutron_canon",e.MAGNETIC_FIELD_GENERATOR="magnetic_field_generator",e.CONTROLLABLE_THERMONUCLEAR_REACTIONS="controllable_thermonuclear_reactions",e.ADVANCED_EVAPORATORS="advanced_evaporators",e.NEUTRINO_DETECTORS="neutrino_detectors",e.NEUTRINO_COOLERS="neutrino_coolers",e.QUARK_CANON="quark_canon",e.FUEL_COOLERS="fuel_coolers",e.MAGNETO_COOLING="magneto_cooling",e.ADVANCED_REFRIGERATOR="advanced_refrigerator",e.FROZEN_BIOMASS="frozen_biomass",e.IMPROVED_REFRIGERATION="improved_refrigeration",e.BATTERIES_COOLERS="batteries_coolers",e.ORBITAL_CLINIC="orbital_clinics",e.ORBITAL_BIORESEARCH="orbital_bioresearch",e.NANO_BIOBOTS="nano_biobots",e.HIGH_ENERGY_PLASMA_KNIFE="high_energy_plasma_knife",e.NUCLEAR_SYNTHESIS_CONTROL="nuclear_synthesis_control",e.PORTABLE_MAGNETOS="portable_magnetos",e.ADVANCED_MAGNETO_CONSTRUCTION="advanced_magneto_construction",e.FERMENTS_DELIVERY_NANOBOTS="ferments_delivery_nanobots",e.FUEL_PROCESSING_NANOBOTS="fuel_processing_nanobots",e.GORMONE_DELIVERY_NANOBOTS="gormone_delivery_nanobots",e.QUARK_GLUON_CANON="quark_gluon_canon",e.QUARK_GLUON_KNIFE="quark_gluon_knife",e.QUANTUM_HALLS_EFFECT="quantum_halls_effect",e.MAGNETIC_SPECTROGRAPHY="magnetic_spectrography",e.SYNTHETIC_NEURONES="synthetic_neurones",e.ADVANCED_GRAPHENE_SYNTHESIS="advanced_graphene_synthesis",e.NANOBOTS_MAGNETO_CONSTRUCTION="nanobots-magneto-construction",e.MAGNETIC_DEFECT_DETECTORS="magnetic_defect_detection",e.HIGH_DENSITY_PRESSING="high_density_pressing",e.MAGNETIC_PRESS="magnetic_press",e.PRESSED_ARMOR="pressed_armor",e.CONDUCTING_BACTERIA="conducting_bacteria",e.ORGANICS_PROCESSING_BACTERIA="organics_processing_bacteria",e.GRAVITONE_DETECTORS="gravitone_detectors",e.QUANTUM_TELEPORT="quantum_teleport",e.QUANTUM_ENCRYPTION="quantum_encryption",e.HUMAN_LIKE_HELPERS="human_like_helpers",e.DARK_MATTER_TOOLS="dark_matter_tools",e.DARK_MATTER_CORPUS="dark_matter_corpus",e.ADVANCED_ORGANICS_PROCESSING="advanced_organics_processing",e.FOOD_SAVING_BACTERIA="food_saving_bacteria",e.DEGENERATE_MATTER_CANON="degenerate_matter_canon",e.OPTIMIZED_MATERIALS_PROCESSING="optimized_material_processing",e.OPTIMIZED_SPACESHIPS_MATERIALS="optimized_spaceships_materials",e.PARTICLE_SCATTERERS="particle_scatterers",e.IMPROVED_LASERS="improved-lasers",e.LASER_TARGETING="laser-targeting",e.POLISHING_BACTERIA="polishing-bacteria",e.CORROSION_EATING_BACTERIA="corrosion-eating-bacteria"}(n||(n={})),function(e){e.QUARRY="quarry",e.MINE="mine",e.BACTERIA_INCUBATOR="bacteria-incubator",e.THERMOELECTRIC_STATION="thermo-electric-station",e.STORAGE="storage-section",e.STORAGE_HUB="storage-hub",e.OXYGEN_COLLECTOR="oxygen-collector",e.WATER_PUMP="water-pump",e.WATER_STORAGE="water-storage",e.BATTERY="battery",e.LIVING_CABIN="living-cabin",e.METEO_STATION="meteo-station",e.MONUMENT="monument",e.CLINIC="clinic",e.PARK="park",e.BIO_LAB="bio-lab",e.FOREST_PLANT="forest-plant",e.SMELTER="smelter",e.EXPEDITION_CENTER="expedition_center",e.WAREHOUSE="warehouse",e.TANK="tank",e.COTTAGE="cottage",e.CINEMA="cinema",e.SOCIAL_RESEARCH_CENTER="social_research_center",e.METALLURGY_COMPLEX="metallurgy_complex",e.BUILDING_FACTORY="building_factory",e.STORAGE_CONTAINER="storage_container",e.SOLAR_PANEL="solar-panel",e.SHRINE="shrine",e.DATA_CENTER="data-center",e.APARTMENT="apartment",e.PANDEMIC_RESEARCH_CENTER="pandemic-research-center",e.ELECTRONICS_FACTORY="electronics-factory",e.TEMPLE="temple",e.ADMINISTRATIVE_CENTER="administrative_center",e.SOLAR_SATELLITE="solar-satellite",e.ORBITAL_TOURISM_CENTER="orbital-tourism-center",e.ICE_MELTING_STATION="ice-melting-station",e.FUEL_FACTORY="fuel-factory",e.SYNTHETIC_NEURONES_FACTORY="synthetic_neurones_factory",e.NANOBOTS_FACTORY="nanobots-factory",e.SPACE_TELESCOPE="space-telescope",e.ZOO="zoo",e.SPACE_STORAGE_HUB="space_storage_hub",e.SMELTING_FACTORY="smelting_factory",e.PLUTO_MONUMENT="pluto_monument",e.PLATINUM_MINE="platinum-mine",e.FLORA_PLANT="flora_plant",e.TROPIC_FOREST_PLANT="tropic_forest_plant",e.ORGANIC_PROCESSING_FACTORY="organics_processing_factory",e.THERMONUCLEAR_PLANT="thermonuclear_plant",e.ADRONIC_COLLIDER="adronic_collider",e.SPACESHIP_STATION="spaceship_station",e.SPACESHIP_FACTORY="spaceship_factory",e.ORBITAL_LIVING_MODULE="orbital_living_module",e.ORBITAL_SUPPLY_MODULE="orbital_supply_module",e.DARK_MATTER_COLLECTOR="dark_matter_collector",e.DARK_MATTER_STORAGE="dark_matter_storage"}(i||(i={})),function(e){e.POWER="Power",e.INDUSTRIAL="Industrial",e.STORAGE="Storage",e.SCIENCE="Science",e.MILITARY="Military",e.PUBLIC="Public",e.RESIDENTAL="Residental"}(o||(o={})),function(e){e.ORBIT="Orbit",e.MOON="Moon",e.AID="Aid",e.VENUS="Venus",e.OUTER="Outer Orbit"}(r||(r={})),function(e){e.STONE="stone",e.POWER="power",e.ORE="ore",e.BIOMASS="biomass",e.OXYGEN="oxygen",e.NUTRITION="nutrition",e.WATER="water",e.RESEARCH="research",e.WOOD="wood",e.IRON="iron",e.PLATINUM="platinum",e.DARK_MATTER="dark-matter",e.BEAM="beam",e.BRICK="brick",e.PLATE="plate",e.WIRE="wire",e.FUEL="fuel",e.RUBBER="rubber",e.PLASTICS="plastics",e.SEMICONDUCTOR="semiconductor",e.COMPUTER="computer",e.ROCKET_ENGINE="rocket-engine",e.GRAPHENE="graphene",e.MAGNETO="magneto",e.KNOWLEDGE_POINT="knowledge-point",e.COLONIZE_XP="XP"}(a||(a={})),function(e){e.DRONE_MASTERITY="Drone Masterity",e.REPAIRED_SOLAR_PANEL="Drone Solar Panel",e.POWER_MASTERITY="Power Masterity",e.MINING_MASTERITY="Mining Masterity",e.NATURE_MASTERITY="Nature Masterity",e.GAS_MASTERITY="Gas And Liquids",e.BUILDING_MASTERITY="Building Masterity",e.ELECTRONICS_MASTERITY="Electronics Masterity",e.ROCKET_MASTERITY="Rocket Masterity",e.ORGANICS_MASTERITY="Organics Masterity",e.SCIENCE_MASTERITY="Science Masterity",e.POWER_CAPACITY="Power Capacity",e.MATERIALS_CAPACITY="Materials Capacity",e.LIQUIDS_CAPACITY="Liquids Capacity",e.RESEARCH_CAPACITY="Research Capacity",e.AESTHETICS_CONSUMPTION="Aesthetics Consumption",e.HEALTH_CONSUMPTION="Health Consumption",e.ENTERTAINMENT_CONSUMPTION="Entertainment Consumption",e.RELIGION_CONSUMPTION="Religion Consumption",e.SECURITY_CONSUMPTION="Security Consumption"}(c||(c={})),function(e){e.START="Start",e.MASTERITIES="Production",e.CAPACITY="Capacity",e.COLONY="Colony"}(s||(s={})),function(e){e.CRUST="Crust",e.GRAVITY="Gravity",e.SIZE="Size",e.HUMIDITY="Humidity",e.TEMPERATURE="Temperature"}(u||(u={})),function(e){e.SMALL="Small",e.LARGE="Large",e.ORE_RICH="Ore Rich",e.PLATINUM_RICH="Platinum Rich",e.ORE_POOR="Ore Poor",e.PLATINUM_POOR="Platinum Poor",e.WET="Wet",e.DRY="Dry",e.COLD="Cold",e.HOT="Hot"}(l||(l={})),function(e){e.PRODUCTIVITY="productivity",e.BUILDING_PRICES="building_prices",e.PILOT_XP="pilot_xp",e.SHIPS_DAMAGE="ships_damage",e.SHIPS_DURABILITY="ships_durability"}(p||(p={}));var y,m=[{id:t.CHARGE,name:"Charge",description:"Recover your power",unlockCondition:function(e){return!0},availableCondition:function(e){return!0},getCost:{},getGain:(E={},E[a.POWER]=function(t){return{A:(1+.6*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.REPAIR_CABLE))*(1+.2*t.prestige.transmitKnowledge.getUpgradeLevel(c.DRONE_MASTERITY)),B:1,type:e.EXPONENTIAL}},E)},{id:t.DRILL_ROCK,name:"Drill Rock",description:"Spend power to drill some rocks for stone",unlockCondition:function(e){return!0},availableCondition:function(e){return!0},getCost:(d={},d[a.POWER]=function(t){return{A:1,B:1,type:e.EXPONENTIAL}},d),getGain:(g={},g[a.STONE]=function(t){return{A:(.25+.125*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.REPAIR_DRILL))*(1+.2*t.prestige.transmitKnowledge.getUpgradeLevel(c.DRONE_MASTERITY)),B:1,type:e.EXPONENTIAL}},g)},{id:t.DRILL_ORE,name:"Drill Ore",description:"Spend power to mine some ore",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.REPAIR_DRILL)>3},availableCondition:function(e){return!0},getCost:(A={},A[a.POWER]=function(t){return{A:2,B:1,type:e.EXPONENTIAL}},A),getGain:(f={},f[a.ORE]=function(t){return{A:(.2+.1*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.REPAIR_DRILL))*(1+.2*t.prestige.transmitKnowledge.getUpgradeLevel(c.DRONE_MASTERITY)),B:1,type:e.EXPONENTIAL}},f)},{id:t.COLLECT_BIOMASS,name:"Collect Biomass",description:"Dig the soil for organic matter to gather some biomass",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.REPAIR_MANIPULATORS)>0},availableCondition:function(e){return!0},getCost:(N={},N[a.POWER]=function(t){return{A:4,B:1,type:e.EXPONENTIAL}},N),getGain:(R={},R[a.BIOMASS]=function(t){return{A:(.2+.1*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.REPAIR_MANIPULATORS))*(1+.2*t.prestige.transmitKnowledge.getUpgradeLevel(c.DRONE_MASTERITY)),B:1,type:e.EXPONENTIAL}},R)}];!function(e){e.EXOFARMING="exofarming",e.METEOROLOGY="meteorology",e.MINERALOGY="mineralogy",e.CIVIL_SERVICE="civilservice",e.ENGINEERING="engineering",e.EXOBIOLOGY="exobiology",e.METALLURGY="metallurgy",e.EXOFORESTRY="exo-forestry",e.FLORA_RESEARCH="flora-research",e.CHEMISTRY="chemistry",e.SOCIOLOGY="sociology",e.GEOLOGY="geology",e.GEOGRAPHY="geography",e.MATERIAL_KNOWLEDGE="material_knowledge",e.ORGANIC_CHEMISTRY="organic_chemistry",e.CODEX_OF_LAW="codex_of_law",e.ELECTRICITY_STUDY="electricity_study",e.ELECTRONICS="electronics",e.PUBLIC_SERVICE="public_service",e.PRINTING_3D="printing_3d",e.GENETICS="genetics",e.HIGH_GRAVITY_PHYSICS="high_gravity_physics",e.ADVANCED_ANATOMY="advanced_anatomy",e.ROCKET_SCIENCE="rocket-science",e.GRAVITY_THEORY="gravity-theory",e.ADVANCED_BIOLOGY="advanced-biology",e.RADIATION_STUDY="radiation-study",e.QUANTUM_PHYSICS="quantum-physics",e.NANO_PHYSICS="nano-physics",e.ASTROPHYSICS="astrophysics",e.RELATIVITY_PHYSICS="relativity_physics",e.ADVANCED_GENETICS="genetics",e.PHOTOCHEMISTRY="photochemistry",e.BRAIN_STUDY="brain study",e.HIGH_ENERGY_PHYSICS="high energy physics",e.PHOTO_LITHOGRAPHY="photo_lithography",e.THERMONUCLEAR_SYNTHESIS="thermonuclear_synthesis",e.ADVANCED_POLYMERIZATION="advanced_polymerization",e.MOLECULAR_PHYSICS="molecular-physics",e.SUPER_CONDUCTIVITY="super-conductivity",e.ADVANCED_COMPOSITES="advanced-composited",e.MAGNETODYNAMICS="magnetodynamics",e.SPACESHIP_BUILDINGS="spaceship_buildings",e.EXOPLANET_SCIENCE="exoplanets_science",e.PARTICLE_PHYSICS="particle_physics",e.ADVANCED_THERMODYNAMICS="advanced_thermodynamics",e.ADVANCED_SPACE_CONSTRUCTION="advanced_space_construction",e.NEUTRINO_PHYSICS="neutrino_physics",e.QUARK_PHYSICS="quark_physics",e.LOW_TEMP_PHYSICS="low_temperature_physics",e.SPACE_ORGANICS="space_organics",e.NANO_BIOLOGY="nano_biology",e.CRYOGENICS="cryogenics",e.ADVANCED_NUCLEAR_RESEARCH="advanced_nuclear_research",e.ADVANCED_SUPERCONDUCTIVITY="advanced_superconductivity",e.QUANTUM_MAGNETICS="quantum_magnetics",e.QUANTUM_MAGNETICS_DETECTION="quantum_magnetic_detection",e.QUANTUM_STATE_STUDY="quantum_state_study",e.QUARK_GLUON_PLASMA_STUDY="quark_gluon_plasma_study",e.HIGH_DENSITY_STUDY="high_density_study",e.GRAVITONE_STUDY="gravitone_study",e.ORGANIC_NANOCONSTRUCTION="organic_nanoconstruction",e.ORGANIC_BASED_COMPUTATION="organic_based_computation",e.SYNTHETIC_ORGANISMS="synthetic_organisms",e.ANDROID_CONSTRUCTION="android_construction",e.DARK_MATTER_STUDY="dark-matter-study",e.ADVANCED_ORGANISMS_GENERATION="advanced_organisms_generation",e.DEGENERATE_MATTER="degenerate_matter",e.EXPANDED_PARTICLE_THEORY="expanded-particle-theory",e.BOSE_EINSTEIN_CONDENSATE="bose-einstein-condensate",e.EXOTIC_BIOCHEMISTRY="exotic-biochemistry"}(y||(y={}));var h,T,L=[{id:a.POWER,name:"Power",unlockCondition:function(e){return!0},hasCapacityLimit:!0,valuability:4},{id:a.WATER,name:"Water",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.WATER_PUMPING)>0},hasCapacityLimit:!0,valuability:8},{id:a.NUTRITION,name:"Nutrition",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.SUPPLY_MODULE)>0},hasCapacityLimit:!0,valuability:4},{id:a.OXYGEN,name:"Oxygen",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.BACTERIA_SELECTION)>0},hasCapacityLimit:!0,valuability:8},{id:a.WOOD,name:"Wood",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.EXOFORESTRY)>0},hasCapacityLimit:!0,valuability:4},{id:a.STONE,name:"Stone",unlockCondition:function(e){return!0},hasCapacityLimit:!0,valuability:1},{id:a.ORE,name:"Ore",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.REPAIR_DRILL)>3},hasCapacityLimit:!0,valuability:1},{id:a.IRON,name:"Metal",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.METALLURGY)>0},hasCapacityLimit:!0,valuability:4},{id:a.PLATINUM,name:"Platinum",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.GEOLOGY)>0},hasCapacityLimit:!0,valuability:16},{id:a.BIOMASS,name:"Biomass",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.REPAIR_MANIPULATORS)>0},hasCapacityLimit:!0,valuability:2},{id:a.RESEARCH,name:"Research",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.RESEARCH_MODULE)>0},hasCapacityLimit:!0,valuability:4},{id:a.DARK_MATTER,name:"Dark Matter",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.DARK_MATTER_STUDY)>0},hasCapacityLimit:!0,valuability:8192},{id:a.BEAM,name:"Beam",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.METALLURGY)>0},hasCapacityLimit:!1,isCraftable:!0,valuability:64},{id:a.BRICK,name:"Brick",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.METALLURGY)>0},hasCapacityLimit:!1,isCraftable:!0,valuability:64},{id:a.PLATE,name:"Plate",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.METALLURGY)>0},hasCapacityLimit:!1,isCraftable:!0,valuability:128},{id:a.FUEL,name:"Fuel",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ROCKET_SCIENCE)>0},hasCapacityLimit:!1,isCraftable:!0,valuability:256},{id:a.RUBBER,name:"Rubber",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ORGANIC_CHEMISTRY)>0},hasCapacityLimit:!1,isCraftable:!0,valuability:128},{id:a.PLASTICS,name:"Plastic",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ORGANIC_CHEMISTRY)>0},hasCapacityLimit:!1,isCraftable:!0,valuability:128},{id:a.WIRE,name:"Wire",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.MATERIAL_KNOWLEDGE)>0},hasCapacityLimit:!1,isCraftable:!0,valuability:128},{id:a.SEMICONDUCTOR,name:"Semiconductor",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ELECTRICITY_STUDY)>0},hasCapacityLimit:!1,isCraftable:!0,valuability:256},{id:a.COMPUTER,name:"Computer",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.COMPUTERS)>0},hasCapacityLimit:!1,isCraftable:!0,valuability:512},{id:a.ROCKET_ENGINE,name:"Rocket",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ROCKET_SCIENCE)>0},hasCapacityLimit:!1,isCraftable:!0,valuability:1024},{id:a.GRAPHENE,name:"Graphene",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.GRAPHENE_SYNTHESIS)>0},hasCapacityLimit:!1,isCraftable:!0,valuability:2048},{id:a.MAGNETO,name:"Magneto",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.MAGNETIC_FIELD_GENERATOR)>0},hasCapacityLimit:!1,isCraftable:!0,valuability:4096},{id:a.KNOWLEDGE_POINT,name:"Knowledge Point",unlockCondition:function(e){return!0},hasCapacityLimit:!1,isHidden:!0,valuability:1096428},{id:a.COLONIZE_XP,name:"XP",unlockCondition:function(e){return!0},hasCapacityLimit:!1,isHidden:!0,valuability:1096428}];!function(e){e.QUARRYMAN="quarryman",e.MINER="miner",e.SCIENTIST="scientist",e.FARMER="farmer",e.FORESTER="forester",e.ARTISAN="artisan",e.POLICEMAN="policeman"}(h||(h={})),function(e){e.AESTHETICS="AESTHETICS",e.ENTERTAINMENT="ENTERTAINMENT",e.SECURITY="SECURITY",e.HEALTHCARE="HEALTHCARE",e.RELIGION="RELIGION",e.WORK_CONDITIONS="WORK_CONDITIONS"}(T||(T={}));var C=[{id:T.ENTERTAINMENT,name:"Entertainment",minimum:20,maximum:150,unlockCondition:function(e){return e.colony.maxColonists>=10},getConsumption:function(e){return Math.max(2*(e.colony.colonists-10)-4*e.prestige.transmitKnowledge.getUpgradeLevel(c.ENTERTAINMENT_CONSUMPTION),0)}},{id:T.HEALTHCARE,name:"Healthcare",minimum:20,maximum:150,unlockCondition:function(e){return e.colony.maxColonists>=10},getConsumption:function(e){return Math.max((2*(e.colony.colonists-10)-4*e.prestige.transmitKnowledge.getUpgradeLevel(c.HEALTH_CONSUMPTION))*Math.pow(.95,e.landingZone.landingZoneBuildings.getBuildingActiveLevel(i.PANDEMIC_RESEARCH_CENTER)),0)}},{id:T.AESTHETICS,name:"Aesthetics",minimum:20,maximum:150,unlockCondition:function(e){return e.colony.maxColonists>0},getConsumption:function(e){return Math.max(2*e.colony.colonists-4*e.prestige.transmitKnowledge.getUpgradeLevel(c.AESTHETICS_CONSUMPTION),0)}},{id:T.SECURITY,name:"Security",minimum:20,maximum:150,unlockCondition:function(e){return e.colony.maxColonists>=40||e.science.scienceResearches.getResearchLevel(y.PUBLIC_SERVICE)>0},getConsumption:function(e){return Math.max(2*(e.colony.colonists-40)-4*e.prestige.transmitKnowledge.getUpgradeLevel(c.SECURITY_CONSUMPTION),0)}},{id:T.RELIGION,name:"Religion",minimum:20,maximum:150,unlockCondition:function(e){return e.colony.maxColonists>=40},getConsumption:function(e){return Math.max(2*(e.colony.colonists-40)-4*e.prestige.transmitKnowledge.getUpgradeLevel(c.RELIGION_CONSUMPTION),0)}}],v=function(e){var t=L.find((function(t){return t.id===e}))||C.find((function(t){return t.id===e}));return t?t.unlockCondition(ZE)?t.name:"???":e},S=function(){return S=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},S.apply(this,arguments)},P=function(){function t(){}return t.calculate=function(e,n,i,o){void 0===o&&(o=1);var r=n(e);return t.calculateFormulaBatch(r,i,o)},t.calculateFormula=function(n,i){switch(n.type){case e.EXPONENTIAL:return t.calculateExponential(n,i);case e.POLYNOMIAL:return t.calculatePolynomial(n,i);case e.LINEAR:return t.calculateLinear(n,i);default:return 0}},t.calculateExponential=function(e,t){return e.A*Math.pow(e.B,t)},t.calculatePolynomial=function(e,t){return e.A*Math.pow(t,e.B)},t.calculateLinear=function(e,t){return e.A*t+e.B},t.calculateFormulaBatch=function(n,i,o){switch(n.type){case e.EXPONENTIAL:return t.calculateExponentialBatch(n,i,o);case e.POLYNOMIAL:return t.calculatePolynomialBatch(n,i,o);case e.LINEAR:return t.calculateLinearBatch(n,i,o);default:return 0}},t.calculateExponentialBatch=function(e,t,n){return 1===e.B?e.A*n:e.A*Math.pow(e.B,t)*(Math.pow(e.B,n)-1)/(e.B-1)},t.calculatePolynomialBatch=function(e,t,n){return console.error("Polynomial batch is not implemented"),0},t.calculateLinearBatch=function(e,t,n){return e.A*n+e.B},t.calculateDX=function(e,n,i,o){var r=n(e);return t.calculateDXByFormula(r,i,o)},t.calculateDXByFormula=function(n,i,o){switch(n.type){case e.EXPONENTIAL:return t.calculateDXExponential(n,i,o);case e.POLYNOMIAL:return t.calculateDXPolynomial(n,i,o);case e.LINEAR:return t.calculateDXLinear(n,i,o);default:return 0}},t.calculateDXExponential=function(e,t,n){return 0===e.A?1e300:1===e.B?n/e.A:n?Math.log(n*(e.B-1)/(e.A*Math.pow(e.B,t))+1)/Math.log(e.B):0},t.calculateDXPolynomial=function(e,t,n){return console.error("Polynomial dX is not implemented"),0},t.calculateDXLinear=function(e,t,n){return(n-e.B)/e.A},t.calcBatch=function(e,n,i,o){void 0===o&&(o=1);var r=[];return Object.entries(e).forEach((function(e){var a=e[0],c=e[1];r.push({id:a,name:v(a),amount:t.calculate(n,c,i,o)})})),r},t.calcDXBatch=function(e,n,i,o){var r={};return Object.entries(e).forEach((function(e){var a=e[0],c=e[1];r[a]=t.calculateDX(n,c,i,o[a])})),r},t.calcBatchAll=function(e,n,i,o,r){void 0===r&&(r=1);var a=[];return Object.entries(e).forEach((function(e){var c=e[0],s=e[1],u=t.calculateDX(n,s,i,o[c]),l=t.calculate(n,s,i,r),p=0,E=!1;if(u<1){var d=n.resources.getResourceCap(c);d&&d<l&&(E=!0),p=d&&d<l||n.resources.getResourceBalance(c)<0&&l-(o[c]||0)>0?1e300:(l-(o[c]||0))/(n.resources.getResourceBalance(c)||1e-300)}a.push({id:c,name:v(c),amount:l,max:u,eta:p,isBlocked:E})})),a},t.calcSum=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=[]);var i=function(e,t,n){if(n||2===arguments.length)for(var i,o=0,r=t.length;o<r;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))}([],t,!0);n.forEach((function(e){var t=i.findIndex((function(t){return t.id===e.id}));t>-1?i[t].amount+=e.amount:i.push(S({},e))}));var o=e.resources.getBatchObject();return i.forEach((function(t,n){var r,a=e.resources.getResourceCap(t.id),c=!1;a&&a<t.amount&&(c=!0),r=a&&a<t.amount||e.resources.getResourceBalance(t.id)<0&&t.amount-(o[t.id]||0)>0?1e300:(t.amount-(o[t.id]||0))/(e.resources.getResourceBalance(t.id)||1e-300),i[n].isBlocked=c,i[n].eta=r,i[n].max=t.amount-(o[t.id]||0)>0?0:1})),i},t.getValue=function(e,t){var n=[];return Object.entries(e).forEach((function(e){var i=e[0],o=e[1];n.push({id:i,name:v(i),amount:o(t)})})),n},t}();function B(e){if(e>1e12)return"Never";if(!e||e<0)return"00:00:00";e=Number(e);var t=Math.floor(e/3600),n=Math.floor(e%3600/60),i=Math.floor(e%3600%60);return(t>9?"".concat(t,":"):"0".concat(t,":"))+(n>9?"".concat(n,":"):"0".concat(n,":"))+(i>9?"".concat(i):"0".concat(i))}function _(e,t,n){if(void 0===t&&(t=3),void 0===n&&(n=12),Math.abs(e)>Math.pow(10,n))return e.toExponential(t);if(Math.abs(e)<1e-4)return"0.00";if(Math.abs(e)<1)return e.toFixed(t);var i=Math.abs(e),o=Math.log10(i),r=Math.floor(o/3),a=i/Math.pow(10,3*r),c="";switch(r){case 1:c="K";break;case 2:c="M";break;case 3:c="B";break;case 4:c="T";break;default:c=""}return"".concat((Math.sign(e)*a).toPrecision(t)).concat(c)}var M,U,G,b,D,w,X,H,x,k,Y,W,Z,F,V,j,K,q,z,Q,J,$,ee,te,ne,ie,oe,re,ae,ce,se,ue,le,pe,Ee,de,ge,Ae,fe,Ne,Re,Ie,Oe,ye,me,he,Te,Le,Ce,ve,Se,Pe,Be,_e,Me,Ue,Ge,be,De,we,Xe,He,xe,ke,Ye,We,Ze,Fe,Ve,je,Ke,qe,ze,Qe,Je,$e,et,tt,nt,it,ot,rt,at,ct,st,ut,lt,pt,Et,dt,gt,At,ft,Nt,Rt,It,Ot,yt,mt,ht,Tt,Lt,Ct,vt,St,Pt,Bt,_t,Mt,Ut,Gt,bt,Dt,wt,Xt,Ht,xt,kt,Yt,Wt,Zt,Ft,Vt,jt,Kt,qt,zt,Qt,Jt,$t,en,tn,nn,on,rn,an,cn,sn,un,ln,pn,En,dn,gn,An,fn,Nn,Rn,In,On,yn,mn,hn,Tn,Ln,Cn,vn,Sn,Pn,Bn,_n,Mn,Un,Gn,bn,Dn,wn,Xn,Hn,xn,kn,Yn,Wn,Zn,Fn,Vn,jn,Kn,qn,zn,Qn,Jn,$n,ei,ti,ni,ii,oi,ri,ai,ci,si,ui,li,pi,Ei,di,gi,Ai,fi,Ni,Ri,Ii,Oi,yi,mi,hi,Ti,Li,Ci,vi,Si,Pi,Bi,_i,Mi,Ui,Gi,bi,Di,wi,Xi,Hi,xi,ki,Yi,Wi,Zi,Fi,Vi,ji,Ki,qi,zi,Qi,Ji,$i,eo,to,no,io,oo,ro,ao,co,so,uo,lo,po,Eo,go,Ao,fo,No,Ro,Io,Oo,yo,mo,ho,To,Lo,Co,vo,So,Po,Bo,_o,Mo,Uo,Go,bo,Do,wo,Xo,Ho,xo,ko,Yo,Wo,Zo,Fo,Vo,jo,Ko,qo,zo,Qo,Jo,$o,er,tr,nr,ir,or,rr,ar,cr,sr,ur,lr,pr,Er,dr,gr,Ar,fr,Nr,Rr,Ir,Or,yr,mr,hr,Tr,Lr,Cr,vr,Sr,Pr,Br,_r,Mr,Ur,Gr,br,Dr,wr,Xr,Hr,xr,kr,Yr,Wr,Zr,Fr,Vr,jr,Kr,qr,zr,Qr,Jr,$r,ea,ta,na,ia,oa,ra,aa,ca,sa,ua,la,pa,Ea,da,ga,Aa,fa,Na,Ra,Ia,Oa,ya,ma,ha,Ta,La,Ca,va,Sa,Pa=(M=function(e,t){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},M(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}M(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ba=function(){return Ba=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ba.apply(this,arguments)},_a=function(e){function t(){var t=e.call(this)||this;return t.actions=[],t.workDispatcher.on("[landing-zone] do action",(function(e){console.log("do action",e),t.doAction(e.id)})),t}return Pa(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.actions=e},t.prototype.exportData=function(){return this.actions},t.prototype.dataToUI=function(){var e=this;return{list:m.map((function(t){return e.processToUI(t)}))}},t.prototype.processToUI=function(e){var t=this.actions.find((function(t){return t.id===e.id}));t||(t={id:e.id,cooldown:0,progress:0,performed:0},this.actions.push(t));var n=P.calcBatchAll(e.getCost,WE.getInstance(),0,WE.getInstance().resources.getBatchObject()),i=P.calcBatch(e.getGain,WE.getInstance(),0),o=n.reduce((function(e,t){return Math.min(e,Math.floor(t.max))}),1e300),r=n.reduce((function(e,t){return e&&!t.isBlocked}),!0),a=n.reduce((function(e,t){return Math.max(e,t.eta)}),0),c=e.unlockCondition(ZE);return c&&ZE.newNotifications.registerNotification("planet:landing-zone:actions:".concat(e.id)),{id:e.id,name:e.name,description:e.description,isUnlocked:c,isAvailable:e.availableCondition(ZE)&&o>=1,cost:WE.getInstance().resources.assertEnought(n,WE.getInstance().resources.getBatchObject(),WE.getInstance().resources.getBatchBalanceObject()),gain:i.map((function(e){return Ba(Ba({},e),{amountValue:e.amount,amount:_(e.amount)})})),progress:(t.cooldown?100*t.progress/t.cooldown:100).toPrecision(3),isBlocked:!r,etaNum:a}},t.prototype.doAction=function(e){var t=m.find((function(t){return t.id===e}));if(t){var n=this.actions.findIndex((function(t){return t.id===e}));if(n<0)n=this.actions.length,this.actions.push({id:e,cooldown:0,progress:0,performed:0});else if(this.actions[n].cooldown>0)return;var i=P.calcBatchAll(t.getCost,WE.getInstance(),0,WE.getInstance().resources.getBatchObject());i.reduce((function(e,t){return Math.min(e,Math.floor(t.max))}),1e300)<1||(this.actions[n].cooldown=1.5,this.actions[n].performed++,console.log("costs: ",i),WE.getInstance().resources.subtractResourceBatch(i),ZE.resources.reassertBalances())}},t.prototype.getActionPerformed=function(e){var t;return(null===(t=this.actions.find((function(t){return t.id===e})))||void 0===t?void 0:t.performed)||0},t.prototype.process=function(e){this.actions.forEach((function(t,n){if(t.cooldown&&(t.progress+=e,t.progress>=t.cooldown)){t.cooldown=0,t.progress=0;var i=m.find((function(e){return t.id===e.id}));if(!i)return;var o=P.calcBatch(i.getGain,WE.getInstance(),0);console.log("gain: ",o,ZE.resources.resourcesStatus),o.forEach((function(e){ZE.resources.addResource(e.id,e.amount)})),ZE.resources.reassertBalances()}}))},t.prototype.reset=function(){this.actions=[]},t}(O),Ma=_a.getInstance(),Ua=[{id:n.GRAVITONE_DETECTORS,name:"Gravitone Detectors",description:"Install gravitone detectors on your telescopes to make them twice as efficient.",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.GRAVITONE_STUDY)>0},getCost:(U={},U[a.RESEARCH]=function(t){return{A:195e3,B:1.5,type:e.EXPONENTIAL}},U[a.COMPUTER]=function(t){return{A:45e3,B:1.5,type:e.EXPONENTIAL}},U[a.MAGNETO]=function(t){return{A:1200,B:1.5,type:e.EXPONENTIAL}},U),getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.QUANTUM_TELEPORT,name:"Quantum Teleportation",description:"Learn how to use quantum teleportation to instantly jump to other destinations. Reduces ship fuel consumption while traveling by 50%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.QUANTUM_STATE_STUDY)>0},getCost:(G={},G[a.RESEARCH]=function(t){return{A:195e3,B:1.5,type:e.EXPONENTIAL}},G[a.COMPUTER]=function(t){return{A:45e3,B:1.5,type:e.EXPONENTIAL}},G[a.GRAPHENE]=function(t){return{A:2500,B:1.5,type:e.EXPONENTIAL}},G),getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.QUANTUM_ENCRYPTION,name:"Quantum Encryption",description:"Use super-secure and reliable way to encrypt information. Provides 50% bonus to KP and XP gain on current run",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.QUANTUM_STATE_STUDY)>0},getCost:(b={},b[a.RESEARCH]=function(t){return{A:225e3,B:1.5,type:e.EXPONENTIAL}},b[a.COMPUTER]=function(t){return{A:75e3,B:1.5,type:e.EXPONENTIAL}},b[a.MAGNETO]=function(t){return{A:1500,B:1.5,type:e.EXPONENTIAL}},b),getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.HUMAN_LIKE_HELPERS,name:"Human-like helpers",description:"Use previous advances in organisms synthesis and AI to create and use synthetic human-like labor. Increase all craftables production by 10% per level",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ANDROID_CONSTRUCTION)>0},getCost:(D={},D[a.RESEARCH]=function(t){return{A:215e3,B:1.5,type:e.EXPONENTIAL}},D[a.COMPUTER]=function(t){return{A:4e4,B:1.5,type:e.EXPONENTIAL}},D[a.GRAPHENE]=function(t){return{A:12500,B:1.5,type:e.EXPONENTIAL}},D),getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:3},{id:n.DARK_MATTER_CORPUS,name:"Dark Matter Corpus",description:"Use dark-matter features to open new generation of stealth-technologies. Each level provides 30% bonus to corpus durability",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.DARK_MATTER_STUDY)>0},getCost:(w={},w[a.RESEARCH]=function(t){return{A:175e3,B:1.5,type:e.EXPONENTIAL}},w[a.DARK_MATTER]=function(t){return{A:200,B:1.5,type:e.EXPONENTIAL}},w[a.MAGNETO]=function(t){return{A:2500,B:1.5,type:e.EXPONENTIAL}},w),getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:3},{id:n.DARK_MATTER_TOOLS,name:"Dark Matter Tools",description:"Use non-interacting with the electromagnetic field tools to significantly increase electronics crafting. Increase semiconductor, wires, computers and magneto production by 20% per level",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.DARK_MATTER_STUDY)>0},getCost:(X={},X[a.RESEARCH]=function(t){return{A:215e3,B:1.5,type:e.EXPONENTIAL}},X[a.DARK_MATTER]=function(t){return{A:100,B:1.5,type:e.EXPONENTIAL}},X[a.GRAPHENE]=function(t){return{A:5500,B:1.5,type:e.EXPONENTIAL}},X),getGainMultiplier:(H={},H[a.SEMICONDUCTOR]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},H[a.WIRE]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},H[a.COMPUTER]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},H[a.MAGNETO]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},H),getCapacityMultiplier:{},maxLevel:3},{id:n.ADVANCED_ORGANICS_PROCESSING,name:"Advanced Organics Processing",description:"Use new technologies to improve your organics processing bacteria. Increase rubber, plastic and graphene production by 20% per level",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ADVANCED_ORGANISMS_GENERATION)>0},getCost:(x={},x[a.RESEARCH]=function(t){return{A:275e3,B:1.5,type:e.EXPONENTIAL}},x[a.BIOMASS]=function(t){return{A:2e5,B:1.5,type:e.EXPONENTIAL}},x[a.GRAPHENE]=function(t){return{A:7500,B:1.5,type:e.EXPONENTIAL}},x),getGainMultiplier:(k={},k[a.RUBBER]=function(t){return{A:1,B:1.2,type:e.EXPONENTIAL}},k[a.PLASTICS]=function(t){return{A:1,B:1.2,type:e.EXPONENTIAL}},k[a.GRAPHENE]=function(t){return{A:1,B:1.2,type:e.EXPONENTIAL}},k),getCapacityMultiplier:{},maxLevel:3},{id:n.FOOD_SAVING_BACTERIA,name:"Pests-killing bacteria",description:"Invent new type of bacteria that is very harmful for pests but friendly to human organism. Increase nutrition storage by 20% per level",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ADVANCED_ORGANISMS_GENERATION)>0},getCost:(Y={},Y[a.RESEARCH]=function(t){return{A:275e3,B:1.5,type:e.EXPONENTIAL}},Y[a.BIOMASS]=function(t){return{A:18e4,B:1.5,type:e.EXPONENTIAL}},Y[a.WATER]=function(t){return{A:7500,B:1.5,type:e.EXPONENTIAL}},Y),getGainMultiplier:{},getCapacityMultiplier:(W={},W[a.NUTRITION]=function(t){return{A:1,B:1.2,type:e.EXPONENTIAL}},W),maxLevel:3},{id:n.DEGENERATE_MATTER_CANON,name:"Degenerate Matter Knife",description:"Use features of degenerate matter to further boost cutting technologies. Improves plates, wires and rockets output by 20%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.DEGENERATE_MATTER)>0},getCost:(Z={},Z[a.RESEARCH]=function(t){return{A:26e4,B:1.5,type:e.EXPONENTIAL}},Z[a.FUEL]=function(t){return{A:32e3,B:1.5,type:e.EXPONENTIAL}},Z[a.MAGNETO]=function(t){return{A:600,B:1.5,type:e.EXPONENTIAL}},Z),getGainMultiplier:(F={},F[a.PLATE]=function(t){return{A:1,B:1.2,type:e.EXPONENTIAL}},F[a.WIRE]=function(t){return{A:1,B:1.2,type:e.EXPONENTIAL}},F[a.ROCKET_ENGINE]=function(t){return{A:1,B:1.2,type:e.EXPONENTIAL}},F),getCapacityMultiplier:{},maxLevel:5},{id:n.OPTIMIZED_MATERIALS_PROCESSING,name:"Optimized Material Analysis",description:"Use your particle physics knowledge to significantly boost your abilities to analyse materials and their effects. Each level decrease all buildings prices by 20%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.EXPANDED_PARTICLE_THEORY)>0},getCost:(V={},V[a.RESEARCH]=function(t){return{A:275e3,B:1.5,type:e.EXPONENTIAL}},V[a.DARK_MATTER]=function(t){return{A:200,B:1.5,type:e.EXPONENTIAL}},V[a.MAGNETO]=function(t){return{A:1500,B:1.5,type:e.EXPONENTIAL}},V),getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:10},{id:n.OPTIMIZED_SPACESHIPS_MATERIALS,name:"Optimized Spaceship Materials",description:"Use your particle physics knowledge to generate materials and components more suitable for your spaceships. Each level decrease all spaceship prices by 20%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.EXPANDED_PARTICLE_THEORY)>0},getCost:(j={},j[a.RESEARCH]=function(t){return{A:275e3,B:1.5,type:e.EXPONENTIAL}},j[a.DARK_MATTER]=function(t){return{A:250,B:1.5,type:e.EXPONENTIAL}},j[a.MAGNETO]=function(t){return{A:1200,B:1.5,type:e.EXPONENTIAL}},j),getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:10},{id:n.PARTICLE_SCATTERERS,name:"Particle Scatterers",description:"Implement particle scatterers on your drones for meteorology stations. Meteorology stations will consume 10 power but provide 40 times more research capacity",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.EXPANDED_PARTICLE_THEORY)>0},getCost:(K={},K[a.RESEARCH]=function(t){return{A:475e3,B:1.5,type:e.EXPONENTIAL}},K[a.COMPUTER]=function(t){return{A:75e3,B:1.5,type:e.EXPONENTIAL}},K[a.MAGNETO]=function(t){return{A:1200,B:1.5,type:e.EXPONENTIAL}},K),getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.IMPROVED_LASERS,name:"Improved Lasers",description:"Use bose-einstein condensate based lasers to generate almost ideally focused and coherent photonics beam. Improves all electronics output by 20%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.BOSE_EINSTEIN_CONDENSATE)>0},getCost:(q={},q[a.RESEARCH]=function(t){return{A:3e5,B:1.5,type:e.EXPONENTIAL}},q[a.FUEL]=function(t){return{A:64e3,B:1.5,type:e.EXPONENTIAL}},q[a.MAGNETO]=function(t){return{A:1600,B:1.5,type:e.EXPONENTIAL}},q),getGainMultiplier:(z={},z[a.WIRE]=function(t){return{A:1,B:1.2,type:e.EXPONENTIAL}},z[a.SEMICONDUCTOR]=function(t){return{A:1,B:1.2,type:e.EXPONENTIAL}},z[a.COMPUTER]=function(t){return{A:1,B:1.2,type:e.EXPONENTIAL}},z[a.MAGNETO]=function(t){return{A:1,B:1.2,type:e.EXPONENTIAL}},z),getCapacityMultiplier:{},maxLevel:5},{id:n.LASER_TARGETING,name:"Laser Target Capture",description:"Use bose-einstein condensate based super-focused lasers to capture target. Improves all ships damage by 20%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.BOSE_EINSTEIN_CONDENSATE)>0},getCost:(Q={},Q[a.RESEARCH]=function(t){return{A:28e4,B:1.5,type:e.EXPONENTIAL}},Q[a.FUEL]=function(t){return{A:48e3,B:1.5,type:e.EXPONENTIAL}},Q[a.COMPUTER]=function(t){return{A:16e3,B:1.5,type:e.EXPONENTIAL}},Q),getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:5},{id:n.POLISHING_BACTERIA,name:"Polishing Bacteria",description:"Use exotic bacteria to polish space telecope mirrors. Improves space telescope efficiency by 50%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.EXOTIC_BIOCHEMISTRY)>0},getCost:(J={},J[a.RESEARCH]=function(t){return{A:58e4,B:1.5,type:e.EXPONENTIAL}},J[a.BIOMASS]=function(t){return{A:42e4,B:1.5,type:e.EXPONENTIAL}},J[a.GRAPHENE]=function(t){return{A:2600,B:1.5,type:e.EXPONENTIAL}},J),getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.CORROSION_EATING_BACTERIA,name:"Corrosion Eating Bacteria",description:"Use exotic bacteria that removes corrosion from your materials. Improves spaceships durability by 20% per level",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.EXOTIC_BIOCHEMISTRY)>0},getCost:($={},$[a.RESEARCH]=function(t){return{A:36e4,B:1.5,type:e.EXPONENTIAL}},$[a.BIOMASS]=function(t){return{A:32e4,B:1.5,type:e.EXPONENTIAL}},$[a.GRAPHENE]=function(t){return{A:3200,B:1.5,type:e.EXPONENTIAL}},$),getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:5}],Ga=function(e,t,n){if(n||2===arguments.length)for(var i,o=0,r=t.length;o<r;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))}([{id:n.REPAIR_DRILL,name:"Repair Drill",description:"Allows drilling harder materials. Also improves stone output",unlockCondition:function(e){return!0},getCost:(ee={},ee[a.POWER]=function(t){return{A:2,B:1.3,type:e.EXPONENTIAL}},ee[a.STONE]=function(t){return{A:.5,B:1.3,type:e.EXPONENTIAL}},ee),maxLevel:8},{id:n.REPAIR_CABLE,name:"Repair Charging Cable",description:"Improves power output",unlockCondition:function(e){return e.landingZone.landingZoneActions.getActionPerformed(t.DRILL_ORE)>0},getCost:(te={},te[a.POWER]=function(t){return{A:3,B:1.3,type:e.EXPONENTIAL}},te[a.ORE]=function(t){return{A:1,B:1.3,type:e.EXPONENTIAL}},te),maxLevel:5},{id:n.REPAIR_MANIPULATORS,name:"Repair Manipulators",description:"Allows digging and picking more materials",unlockCondition:function(e){return e.landingZone.landingZoneActions.getActionPerformed(t.DRILL_ORE)>0},getCost:(ne={},ne[a.POWER]=function(t){return{A:5,B:1.3,type:e.EXPONENTIAL}},ne[a.ORE]=function(t){return{A:2,B:1.3,type:e.EXPONENTIAL}},ne),maxLevel:5},{id:n.AUTO_QUARRYING,name:"Auto-quarrying",description:"Allows building quarries that gather stone automatically",unlockCondition:function(e){return e.landingZone.landingZoneActions.getActionPerformed(t.DRILL_ORE)>0},getCost:(ie={},ie[a.POWER]=function(t){return{A:8,B:1.3,type:e.EXPONENTIAL}},ie[a.ORE]=function(t){return{A:4,B:1.3,type:e.EXPONENTIAL}},ie),maxLevel:1},{id:n.REPAIR_MACHINERY,name:"Repair Machinery",description:"Repair mining machinery. Improves your automatic quarries and mines by 50%",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.AUTO_QUARRYING)>0},getCost:(oe={},oe[a.POWER]=function(t){return{A:8,B:1.5,type:e.EXPONENTIAL}},oe[a.ORE]=function(t){return{A:5,B:1.5,type:e.EXPONENTIAL}},oe),maxLevel:4},{id:n.AUTO_MINERS,name:"Auto-miners",description:"Allows building mines that gather ore automatically",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.REPAIR_MACHINERY)>0},getCost:(re={},re[a.POWER]=function(t){return{A:8,B:1.3,type:e.EXPONENTIAL}},re[a.ORE]=function(t){return{A:4,B:1.3,type:e.EXPONENTIAL}},re),maxLevel:1},{id:n.COMBUSTION,name:"Combustion",description:"Allows producing electrical power by burning biomass",unlockCondition:function(e){return e.landingZone.landingZoneActions.getActionPerformed(t.COLLECT_BIOMASS)>0},getCost:(ae={},ae[a.POWER]=function(t){return{A:12,B:1.3,type:e.EXPONENTIAL}},ae[a.BIOMASS]=function(t){return{A:6,B:1.3,type:e.EXPONENTIAL}},ae),maxLevel:1},{id:n.REPAIR_STORAGE_MODULE,name:"Repair Storage Module",description:"Repair the storage module. Allows building storage sections",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.REPAIR_MANIPULATORS)>2},getCost:(ce={},ce[a.POWER]=function(t){return{A:8,B:1.5,type:e.EXPONENTIAL}},ce[a.ORE]=function(t){return{A:5,B:1.5,type:e.EXPONENTIAL}},ce),maxLevel:1},{id:n.REPAIR_BATTERY,name:"Repair Battery",description:"Improves power storage by +20",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.REPAIR_MANIPULATORS)>4&&e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.REPAIR_STORAGE_MODULE)>0},getCost:(se={},se[a.POWER]=function(t){return{A:15,B:1.5,type:e.EXPONENTIAL}},se[a.ORE]=function(t){return{A:15,B:1.5,type:e.EXPONENTIAL}},se),getCapacityEffect:(ue={},ue[a.POWER]=function(t){return{A:20,B:0,type:e.LINEAR}},ue),maxLevel:3},{id:n.COMBUSTION_CAMERA,name:"Combustion Chambers",description:"Extra combustion chambers decrease biomass consumption of thermoelectric power plants by 25%",unlockCondition:function(e){return e.landingZone.landingZoneBuildings.getBuildingLevel(i.THERMOELECTRIC_STATION)>0&&e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.REPAIR_STORAGE_MODULE)>0},getCost:(le={},le[a.POWER]=function(t){return{A:12,B:1.5,type:e.EXPONENTIAL}},le[a.STONE]=function(t){return{A:18,B:1.5,type:e.EXPONENTIAL}},le),maxLevel:1},{id:n.QUARRY_TECH,name:"Improved Quarry",description:"Modify conveyor belts of your quarries to increases their output by 25%",unlockCondition:function(e){return e.landingZone.landingZoneBuildings.getBuildingLevel(i.QUARRY)>4},getCost:(pe={},pe[a.STONE]=function(t){return{A:50,B:1.5,type:e.EXPONENTIAL}},pe[a.ORE]=function(t){return{A:12,B:1.5,type:e.EXPONENTIAL}},pe),maxLevel:1},{id:n.MINE_TECH,name:"Improved Mine",description:"Modify conveyor belts of your mines to increases their output by 25%",unlockCondition:function(e){return e.landingZone.landingZoneBuildings.getBuildingLevel(i.MINE)>4},getCost:(Ee={},Ee[a.ORE]=function(t){return{A:50,B:1.5,type:e.EXPONENTIAL}},Ee[a.POWER]=function(t){return{A:12,B:1.5,type:e.EXPONENTIAL}},Ee),maxLevel:1},{id:n.THERMAL_TECH,name:"Improved Combustion",description:"Regulate the flow of raw materials to stabilize the combustion process. Increases thermal plant output by 25%",unlockCondition:function(e){return e.landingZone.landingZoneBuildings.getBuildingLevel(i.THERMOELECTRIC_STATION)>4},getCost:(de={},de[a.POWER]=function(t){return{A:50,B:1.5,type:e.EXPONENTIAL}},de[a.BIOMASS]=function(t){return{A:12,B:1.5,type:e.EXPONENTIAL}},de),maxLevel:1},{id:n.BIO_TECH,name:"Improved Bio Technology",description:"Create a better environment for biological growth. Increases incubators output by 25%",unlockCondition:function(e){return e.landingZone.landingZoneBuildings.getBuildingLevel(i.BACTERIA_INCUBATOR)>4},getCost:(ge={},ge[a.BIOMASS]=function(t){return{A:50,B:1.5,type:e.EXPONENTIAL}},ge[a.STONE]=function(t){return{A:12,B:1.5,type:e.EXPONENTIAL}},ge),maxLevel:1},{id:n.STORAGE_TECH,name:"Improved Storage",description:"Increases stone, ore and biomass storage from storage sections and hubs by 25%",unlockCondition:function(e){return e.landingZone.landingZoneBuildings.getBuildingLevel(i.STORAGE)>4},getCost:(Ae={},Ae[a.STONE]=function(t){return{A:120,B:1.5,type:e.EXPONENTIAL}},Ae[a.ORE]=function(t){return{A:120,B:1.5,type:e.EXPONENTIAL}},Ae),getCapacityMultiplier:(fe={},fe[a.STONE]=function(t){return{A:1,B:1.25,type:e.EXPONENTIAL}},fe[a.ORE]=function(t){return{A:1,B:1.25,type:e.EXPONENTIAL}},fe[a.BIOMASS]=function(t){return{A:1,B:1.25,type:e.EXPONENTIAL}},fe),maxLevel:1},{id:n.BACTERIA_SELECTION,name:"Bacteria Selection",description:"Create and cultivate a more complex bio-form. Increases electricity consumption by incubators, but incubators start producing oxygen",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.BIO_TECH)>0},getCost:(Ne={},Ne[a.POWER]=function(t){return{A:80,B:1.5,type:e.EXPONENTIAL}},Ne[a.BIOMASS]=function(t){return{A:90,B:1.5,type:e.EXPONENTIAL}},Ne),maxLevel:1},{id:n.THERMAL_TECH2,name:"Improved Thermal Plants",description:"Modify the delivery mechanism to work at higher speeds. Increases thermal plant output by 25%",unlockCondition:function(e){return e.landingZone.landingZoneBuildings.getBuildingLevel(i.THERMOELECTRIC_STATION)>9},getCost:(Re={},Re[a.POWER]=function(t){return{A:50,B:1.5,type:e.EXPONENTIAL}},Re[a.BIOMASS]=function(t){return{A:12,B:1.5,type:e.EXPONENTIAL}},Re),maxLevel:1},{id:n.OXYGEN_CAMERAS,name:"Oxidize Combustion Chambers",description:"Add oxygen to maintain a stronger pressure. Thermal plants are 50% more efficient, but now require oxygen",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.BACTERIA_SELECTION)>0},getCost:(Ie={},Ie[a.POWER]=function(t){return{A:50,B:1.5,type:e.EXPONENTIAL}},Ie[a.OXYGEN]=function(t){return{A:8,B:1.5,type:e.EXPONENTIAL}},Ie),maxLevel:1},{id:n.OXYGEN_COMPRESSORS,name:"Oxygen Compressors",description:"Allows building oxygen compressors to store more oxygen",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.BACTERIA_SELECTION)>0},getCost:(Oe={},Oe[a.POWER]=function(t){return{A:65,B:1.5,type:e.EXPONENTIAL}},Oe[a.ORE]=function(t){return{A:165,B:1.5,type:e.EXPONENTIAL}},Oe[a.OXYGEN]=function(t){return{A:10,B:1.5,type:e.EXPONENTIAL}},Oe),maxLevel:1},{id:n.RESERVE_BATTERIES,name:"Reserve Batteries",description:"Thermoelectric plants now also provide small power storage",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.OXYGEN_CAMERAS)>0},getCost:(ye={},ye[a.POWER]=function(t){return{A:75,B:1.5,type:e.EXPONENTIAL}},ye[a.OXYGEN]=function(t){return{A:10,B:1.5,type:e.EXPONENTIAL}},ye[a.ORE]=function(t){return{A:125,B:1.5,type:e.EXPONENTIAL}},ye),maxLevel:1},{id:n.WATER_PUMPING,name:"Water Pumping",description:"Perform a geological survey to find deposits of underground water. Allows building water pumps",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.OXYGEN_CAMERAS)>0},getCost:(me={},me[a.POWER]=function(t){return{A:75,B:1.5,type:e.EXPONENTIAL}},me[a.STONE]=function(t){return{A:165,B:1.5,type:e.EXPONENTIAL}},me[a.ORE]=function(t){return{A:175,B:1.5,type:e.EXPONENTIAL}},me),maxLevel:1},{id:n.ELECTROLITES,name:"Electrolytes",description:"Allows building extra batteries to store power. Also, improves power output by 20%",unlockCondition:function(e){return e.landingZone.landingZoneBuildings.getBuildingLevel(i.WATER_PUMP)>0},getCost:(he={},he[a.POWER]=function(t){return{A:125,B:1.5,type:e.EXPONENTIAL}},he[a.WATER]=function(t){return{A:25,B:1.5,type:e.EXPONENTIAL}},he[a.ORE]=function(t){return{A:225,B:1.5,type:e.EXPONENTIAL}},he),getGain:{},getGainMultiplier:(Te={},Te[a.POWER]=function(t){return{A:1,B:1.2,type:e.EXPONENTIAL}},Te),getCapacityEffect:(Le={},Le[a.POWER]=function(t){return{A:40,B:0,type:e.LINEAR}},Le),maxLevel:1},{id:n.SUPPLY_MODULE,name:"Repair Supply Module",description:"Repair the supply module to start generating a trace amount of nutrition",unlockCondition:function(e){return e.landingZone.landingZoneBuildings.getBuildingLevel(i.WATER_PUMP)>0&&e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.ELECTROLITES)>0},getCost:(Ce={},Ce[a.POWER]=function(t){return{A:275,B:1.5,type:e.EXPONENTIAL}},Ce[a.WATER]=function(t){return{A:40,B:1.5,type:e.EXPONENTIAL}},Ce[a.ORE]=function(t){return{A:275,B:1.5,type:e.EXPONENTIAL}},Ce),getGain:(ve={},ve[a.NUTRITION]=function(t){return{A:.2,B:0,type:e.LINEAR}},ve),getCapacityEffect:(Se={},Se[a.NUTRITION]=function(t){return{A:40,B:0,type:e.LINEAR}},Se),maxLevel:1},{id:n.DOCKING_MODULE,name:"Repair Docking Module",description:"Enables colonists arrival",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.SUPPLY_MODULE)>0},getCost:(Pe={},Pe[a.POWER]=function(t){return{A:275,B:1.5,type:e.EXPONENTIAL}},Pe[a.WATER]=function(t){return{A:40,B:1.5,type:e.EXPONENTIAL}},Pe[a.ORE]=function(t){return{A:360,B:1.5,type:e.EXPONENTIAL}},Pe),getGain:{},getCapacityEffect:{},maxLevel:1},{id:n.RESEARCH_MODULE,name:"Repair Research Module",description:"Repair the research module to allow colonists to work as researchers and produce research",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.DOCKING_MODULE)>0},getCost:(Be={},Be[a.POWER]=function(t){return{A:275,B:1.5,type:e.EXPONENTIAL}},Be[a.WATER]=function(t){return{A:40,B:1.5,type:e.EXPONENTIAL}},Be[a.OXYGEN]=function(t){return{A:40,B:1.5,type:e.EXPONENTIAL}},Be),getGain:{},getCapacityEffect:(_e={},_e[a.RESEARCH]=function(t){return{A:100,B:0,type:e.LINEAR}},_e),maxLevel:1},{id:n.CARGO_SORTING,name:"Cargo Sorting",description:"Repairs sorting machinery. Gives 75% bonus to stone, ore and biomass storage",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.DOCKING_MODULE)>0},getCost:(Me={},Me[a.POWER]=function(t){return{A:275,B:1.5,type:e.EXPONENTIAL}},Me[a.STONE]=function(t){return{A:340,B:1.5,type:e.EXPONENTIAL}},Me[a.ORE]=function(t){return{A:340,B:1.5,type:e.EXPONENTIAL}},Me),getGain:{},getCapacityMultiplier:(Ue={},Ue[a.STONE]=function(t){return{A:1,B:1.75,type:e.EXPONENTIAL}},Ue[a.ORE]=function(t){return{A:1,B:1.75,type:e.EXPONENTIAL}},Ue[a.BIOMASS]=function(t){return{A:1,B:1.75,type:e.EXPONENTIAL}},Ue),maxLevel:1},{id:n.FARMING_TOOLS,name:"Farming Tools",description:"Provide some basic tools to your farmers. Improves farming output by 10%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.EXOFARMING)>0},getCost:(Ge={},Ge[a.POWER]=function(t){return{A:300,B:1.5,type:e.EXPONENTIAL}},Ge[a.RESEARCH]=function(t){return{A:35,B:1.5,type:e.EXPONENTIAL}},Ge[a.ORE]=function(t){return{A:400,B:1.5,type:e.EXPONENTIAL}},Ge),getGain:{},getGainMultiplier:(be={},be[a.NUTRITION]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},be),maxLevel:3},{id:n.DEEP_MINING,name:"Deep Mining",description:"Expand your mining shaft network. Improves stone and ore output by 20%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.MINERALOGY)>0},getCost:(De={},De[a.POWER]=function(t){return{A:300,B:1.5,type:e.EXPONENTIAL}},De[a.RESEARCH]=function(t){return{A:45,B:1.5,type:e.EXPONENTIAL}},De[a.ORE]=function(t){return{A:450,B:1.5,type:e.EXPONENTIAL}},De),getGain:{},getGainMultiplier:(we={},we[a.ORE]=function(t){return{A:1,B:1.2,type:e.EXPONENTIAL}},we[a.STONE]=function(t){return{A:1,B:1.2,type:e.EXPONENTIAL}},we),maxLevel:3},{id:n.UNDERGROUND_VAULTS,name:"Underground Vaults",description:"Dig an underground storage for your basic materials, which increases storage facilities by 50%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.MINERALOGY)>0},getCost:(Xe={},Xe[a.POWER]=function(t){return{A:250,B:1.75,type:e.EXPONENTIAL}},Xe[a.RESEARCH]=function(t){return{A:25,B:1.75,type:e.EXPONENTIAL}},Xe[a.ORE]=function(t){return{A:550,B:1.75,type:e.EXPONENTIAL}},Xe),getGain:{},getCapacityMultiplier:(He={},He[a.STONE]=function(t){return{A:1,B:1.5,type:e.EXPONENTIAL}},He[a.ORE]=function(t){return{A:1,B:1.5,type:e.EXPONENTIAL}},He[a.BIOMASS]=function(t){return{A:1,B:1.5,type:e.EXPONENTIAL}},He[a.WOOD]=function(t){return{A:1,B:1.5,type:e.EXPONENTIAL}},He[a.IRON]=function(t){return{A:1,B:1.5,type:e.EXPONENTIAL}},He[a.PLATINUM]=function(t){return{A:1,B:1.5,type:e.EXPONENTIAL}},He),maxLevel:3},{id:n.CARGO_CRANES,name:"Cargo Cranes",description:"Add cargo cranes to help with sorting. Further improves your storage facilities by 50%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ENGINEERING)>0},getCost:(xe={},xe[a.POWER]=function(t){return{A:250,B:1.75,type:e.EXPONENTIAL}},xe[a.RESEARCH]=function(t){return{A:35,B:1.75,type:e.EXPONENTIAL}},xe[a.ORE]=function(t){return{A:550,B:1.75,type:e.EXPONENTIAL}},xe),getGain:{},getCapacityMultiplier:(ke={},ke[a.STONE]=function(t){return{A:1,B:1.5,type:e.EXPONENTIAL}},ke[a.ORE]=function(t){return{A:1,B:1.5,type:e.EXPONENTIAL}},ke),maxLevel:1},{id:n.CRANES,name:"Building Cranes",description:"Assemble giant cranes to help constructing new buildings. Decreases price scaling of buildings by 10%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ENGINEERING)>0},getCost:(Ye={},Ye[a.POWER]=function(t){return{A:350,B:1.75,type:e.EXPONENTIAL}},Ye[a.RESEARCH]=function(t){return{A:35,B:1.75,type:e.EXPONENTIAL}},Ye[a.ORE]=function(t){return{A:550,B:1.75,type:e.EXPONENTIAL}},Ye),getGain:{},getCapacityMultiplier:{},maxLevel:1},{id:n.WATER_DRILLING,name:"Water Deposits",description:"Survey deeper layers to find underground water deposits. Improves water production by 20%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.MINERALOGY)>0},getCost:(We={},We[a.POWER]=function(t){return{A:300,B:1.5,type:e.EXPONENTIAL}},We[a.RESEARCH]=function(t){return{A:45,B:1.5,type:e.EXPONENTIAL}},We[a.ORE]=function(t){return{A:450,B:1.5,type:e.EXPONENTIAL}},We),getGain:{},getGainMultiplier:(Ze={},Ze[a.WATER]=function(t){return{A:1,B:1.2,type:e.EXPONENTIAL}},Ze),maxLevel:3},{id:n.FLAMMABILITY,name:"Flammable Biomass",description:"Cultivate a special flammable biomass that produces more heat when burnt, increasing power generation from your thermal plants by 50%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.EXOBIOLOGY)>0},getCost:(Fe={},Fe[a.POWER]=function(t){return{A:370,B:1.5,type:e.EXPONENTIAL}},Fe[a.RESEARCH]=function(t){return{A:95,B:1.5,type:e.EXPONENTIAL}},Fe[a.BIOMASS]=function(t){return{A:325,B:1.5,type:e.EXPONENTIAL}},Fe),getGain:{},getGainMultiplier:{},maxLevel:1},{id:n.FLORA,name:"Nutritious Flora",description:"Plant some special flora in your incubators that increases bacterial growth when decomposing. Makes incubators 50% more productive",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.EXOBIOLOGY)>0},getCost:(Ve={},Ve[a.POWER]=function(t){return{A:600,B:1.5,type:e.EXPONENTIAL}},Ve[a.RESEARCH]=function(t){return{A:195,B:1.5,type:e.EXPONENTIAL}},Ve[a.BIOMASS]=function(t){return{A:525,B:1.5,type:e.EXPONENTIAL}},Ve),getGain:{},getGainMultiplier:{},maxLevel:1},{id:n.FERTILIZING,name:"Fertilizing",description:"Start adding fertilizers to the soil. Your farmers will start using 0.1 biomass each, but it will increase their nutrition output by 30%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.EXOBIOLOGY)>0},getCost:(je={},je[a.POWER]=function(t){return{A:800,B:1.5,type:e.EXPONENTIAL}},je[a.RESEARCH]=function(t){return{A:245,B:1.5,type:e.EXPONENTIAL}},je[a.BIOMASS]=function(t){return{A:1225,B:1.5,type:e.EXPONENTIAL}},je),getGain:{},getGainMultiplier:{},maxLevel:1},{id:n.FORESTER_TOOLS,name:"Forester Tools",description:"Create new tools for your foresters to increases wood output by 25%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.EXOFORESTRY)>0},getCost:(Ke={},Ke[a.POWER]=function(t){return{A:800,B:1.5,type:e.EXPONENTIAL}},Ke[a.RESEARCH]=function(t){return{A:200,B:1.5,type:e.EXPONENTIAL}},Ke[a.WOOD]=function(t){return{A:30,B:1.5,type:e.EXPONENTIAL}},Ke),getGain:{},getGainMultiplier:(qe={},qe[a.WOOD]=function(t){return{A:1,B:1.25,type:e.EXPONENTIAL}},qe),maxLevel:1},{id:n.BROADLEAVED,name:"Broad-Leaved Forests",description:"Start planting trees with broad leaves. Forests plants generate oxygen",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.EXOFORESTRY)>0},getCost:(ze={},ze[a.POWER]=function(t){return{A:880,B:1.5,type:e.EXPONENTIAL}},ze[a.RESEARCH]=function(t){return{A:250,B:1.5,type:e.EXPONENTIAL}},ze[a.WOOD]=function(t){return{A:50,B:1.5,type:e.EXPONENTIAL}},ze),getGain:{},getGainMultiplier:{},maxLevel:1},{id:n.WOODEN_FURNITURE,name:"Wooden Furniture",description:"Using wooden furniture allows housing an extra colonist in every cabin",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.EXOFORESTRY)>0},getCost:(Qe={},Qe[a.POWER]=function(t){return{A:500,B:1.5,type:e.EXPONENTIAL}},Qe[a.RESEARCH]=function(t){return{A:250,B:1.5,type:e.EXPONENTIAL}},Qe[a.WOOD]=function(t){return{A:250,B:1.5,type:e.EXPONENTIAL}},Qe),getGain:{},getGainMultiplier:{},maxLevel:1},{id:n.IRON_TOOLS,name:"Metal Tools",description:"Create metal tools to improve wood output of foresters by 50%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.EXOFORESTRY)>0&&e.science.scienceResearches.getResearchLevel(y.METALLURGY)>0},getCost:(Je={},Je[a.IRON]=function(t){return{A:25,B:1.5,type:e.EXPONENTIAL}},Je[a.RESEARCH]=function(t){return{A:250,B:1.5,type:e.EXPONENTIAL}},Je[a.WOOD]=function(t){return{A:250,B:1.5,type:e.EXPONENTIAL}},Je),getGain:{},getGainMultiplier:($e={},$e[a.WOOD]=function(t){return{A:1,B:1.5,type:e.EXPONENTIAL}},$e),maxLevel:1},{id:n.IRON_PARTS,name:"Metal Machine Parts",description:"Replace old parts with metal, which improves stone and ore output by 50%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.METALLURGY)>0},getCost:(et={},et[a.IRON]=function(t){return{A:75,B:1.5,type:e.EXPONENTIAL}},et[a.RESEARCH]=function(t){return{A:275,B:1.5,type:e.EXPONENTIAL}},et[a.WOOD]=function(t){return{A:50,B:1.5,type:e.EXPONENTIAL}},et),getGain:{},getGainMultiplier:(tt={},tt[a.STONE]=function(t){return{A:1,B:1.5,type:e.EXPONENTIAL}},tt[a.ORE]=function(t){return{A:1,B:1.5,type:e.EXPONENTIAL}},tt),maxLevel:1},{id:n.IRON_CONTAINERS,name:"Metal containers",description:"Use local-sourced metal to improve storage containers. Improves all resources storages by 50%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.METALLURGY)>0},getCost:(nt={},nt[a.IRON]=function(t){return{A:75,B:1.5,type:e.EXPONENTIAL}},nt[a.RESEARCH]=function(t){return{A:175,B:1.5,type:e.EXPONENTIAL}},nt[a.WOOD]=function(t){return{A:50,B:1.5,type:e.EXPONENTIAL}},nt),getGain:{},getCapacityMultiplier:(it={},it[a.STONE]=function(t){return{A:1,B:1.5,type:e.EXPONENTIAL}},it[a.ORE]=function(t){return{A:1,B:1.5,type:e.EXPONENTIAL}},it[a.BIOMASS]=function(t){return{A:1,B:1.5,type:e.EXPONENTIAL}},it[a.WOOD]=function(t){return{A:1,B:1.5,type:e.EXPONENTIAL}},it[a.IRON]=function(t){return{A:1,B:1.5,type:e.EXPONENTIAL}},it[a.WATER]=function(t){return{A:1,B:1.5,type:e.EXPONENTIAL}},it[a.OXYGEN]=function(t){return{A:1,B:1.5,type:e.EXPONENTIAL}},it[a.PLATINUM]=function(t){return{A:1,B:1.5,type:e.EXPONENTIAL}},it),maxLevel:1},{id:n.IMPROVED_WIRES,name:"Better cables",description:"Use more conductive materials in your wiring. Improves power capacity by 75% and output by 25%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.METALLURGY)>0},getCost:(ot={},ot[a.IRON]=function(t){return{A:50,B:1.5,type:e.EXPONENTIAL}},ot[a.RESEARCH]=function(t){return{A:375,B:1.5,type:e.EXPONENTIAL}},ot[a.POWER]=function(t){return{A:500,B:1.5,type:e.EXPONENTIAL}},ot),getGain:{},getGainMultiplier:(rt={},rt[a.POWER]=function(t){return{A:1,B:1.25,type:e.EXPONENTIAL}},rt),getCapacityMultiplier:(at={},at[a.POWER]=function(t){return{A:1,B:1.75,type:e.EXPONENTIAL}},at),maxLevel:1},{id:n.TREE_CARE,name:"Rangers",description:"Teach your foresters better conservation methods. Improves foresters output by 25%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.FLORA_RESEARCH)>0},getCost:(ct={},ct[a.WATER]=function(t){return{A:150,B:1.5,type:e.EXPONENTIAL}},ct[a.RESEARCH]=function(t){return{A:375,B:1.5,type:e.EXPONENTIAL}},ct[a.POWER]=function(t){return{A:500,B:1.5,type:e.EXPONENTIAL}},ct),getGain:{},getGainMultiplier:(st={},st[a.WOOD]=function(t){return{A:1,B:1.25,type:e.EXPONENTIAL}},st),getCapacityMultiplier:{},maxLevel:3},{id:n.FRUIT_TREES,name:"Fruit Trees",description:"Plant fruit trees in your forests. Forest plants now also provide nutrition",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.FLORA_RESEARCH)>0&&e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.BROADLEAVED)>0},getCost:(ut={},ut[a.WATER]=function(t){return{A:150,B:1.5,type:e.EXPONENTIAL}},ut[a.RESEARCH]=function(t){return{A:325,B:1.5,type:e.EXPONENTIAL}},ut[a.POWER]=function(t){return{A:600,B:1.5,type:e.EXPONENTIAL}},ut),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.NATURAL_ENVIRONMENT,name:"Natural Environment",description:"Forest ecosystem is favourable for plant growth. Forest plants now boost biomass production by 2% each",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.FLORA_RESEARCH)>0},getCost:(lt={},lt[a.WATER]=function(t){return{A:250,B:1.5,type:e.EXPONENTIAL}},lt[a.RESEARCH]=function(t){return{A:475,B:1.5,type:e.EXPONENTIAL}},lt[a.BIOMASS]=function(t){return{A:2500,B:1.5,type:e.EXPONENTIAL}},lt),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.WATER_FILTERING,name:"Advanced Water Filtering",description:"Better filtration methods allow reusing more water. Improves water output by 25%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.CHEMISTRY)>0},getCost:(pt={},pt[a.OXYGEN]=function(t){return{A:125,B:1.5,type:e.EXPONENTIAL}},pt[a.RESEARCH]=function(t){return{A:225,B:1.5,type:e.EXPONENTIAL}},pt[a.POWER]=function(t){return{A:900,B:1.5,type:e.EXPONENTIAL}},pt),getGain:{},getGainMultiplier:(Et={},Et[a.WATER]=function(t){return{A:1,B:1.25,type:e.EXPONENTIAL}},Et),getCapacityMultiplier:{},maxLevel:3},{id:n.CHEMICAL_ANALYSIS,name:"Chemical Analysis",description:"Study chemical reactions. Improves science output by 25%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.CHEMISTRY)>0},getCost:(dt={},dt[a.WATER]=function(t){return{A:125,B:1.5,type:e.EXPONENTIAL}},dt[a.RESEARCH]=function(t){return{A:300,B:1.5,type:e.EXPONENTIAL}},dt[a.POWER]=function(t){return{A:600,B:1.5,type:e.EXPONENTIAL}},dt),getGain:{},getGainMultiplier:(gt={},gt[a.RESEARCH]=function(t){return{A:1,B:1.25,type:e.EXPONENTIAL}},gt),getCapacityMultiplier:{},maxLevel:3},{id:n.BETTER_ELECTROLITES,name:"Improved Electrolytes",description:"Create new electrolyte solution to improve power capacity by 25%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.CHEMISTRY)>0},getCost:(At={},At[a.WATER]=function(t){return{A:125,B:1.5,type:e.EXPONENTIAL}},At[a.RESEARCH]=function(t){return{A:300,B:1.5,type:e.EXPONENTIAL}},At[a.OXYGEN]=function(t){return{A:100,B:1.5,type:e.EXPONENTIAL}},At),getGain:{},getGainMultiplier:{},getCapacityMultiplier:(ft={},ft[a.POWER]=function(t){return{A:1,B:1.25,type:e.EXPONENTIAL}},ft),maxLevel:5},{id:n.PLATINUM_MINING,name:"Platinum Mining",description:"Allows colonist miners to extract platinum",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.GEOLOGY)>0},getCost:(Nt={},Nt[a.IRON]=function(t){return{A:300,B:1.5,type:e.EXPONENTIAL}},Nt[a.RESEARCH]=function(t){return{A:450,B:1.5,type:e.EXPONENTIAL}},Nt[a.POWER]=function(t){return{A:300,B:1.5,type:e.EXPONENTIAL}},Nt),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.PLATINUM_DRILLS,name:"Platinum Drills",description:"Replace drill heads with platinum. Improves stone and ore output by 40%",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.PLATINUM_MINING)>0},getCost:(Rt={},Rt[a.PLATINUM]=function(t){return{A:10,B:1.5,type:e.EXPONENTIAL}},Rt[a.RESEARCH]=function(t){return{A:420,B:1.5,type:e.EXPONENTIAL}},Rt[a.POWER]=function(t){return{A:775,B:1.5,type:e.EXPONENTIAL}},Rt),getGain:{},getGainMultiplier:(It={},It[a.STONE]=function(t){return{A:1,B:1.4,type:e.EXPONENTIAL}},It[a.ORE]=function(t){return{A:1,B:1.4,type:e.EXPONENTIAL}},It),getCapacityMultiplier:{},maxLevel:1},{id:n.PLATINUM_TOOLS,name:"Platinum Tools",description:"Create platinum tools to provide additional production boost. Increases wood production and beam, brick and plate crafting by 10%",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.PLATINUM_MINING)>0},getCost:(Ot={},Ot[a.PLATINUM]=function(t){return{A:15,B:1.5,type:e.EXPONENTIAL}},Ot[a.RESEARCH]=function(t){return{A:450,B:1.5,type:e.EXPONENTIAL}},Ot[a.POWER]=function(t){return{A:845,B:1.5,type:e.EXPONENTIAL}},Ot),getGain:{},getGainMultiplier:(yt={},yt[a.WOOD]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},yt[a.BEAM]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},yt[a.BRICK]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},yt[a.PLATE]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},yt),getCapacityMultiplier:{},maxLevel:5},{id:n.COTTAGES,name:"Cottages",description:"Create plans for a new housing unit",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.SOCIOLOGY)>0},getCost:(mt={},mt[a.BRICK]=function(t){return{A:45,B:1.5,type:e.EXPONENTIAL}},mt[a.RESEARCH]=function(t){return{A:450,B:1.5,type:e.EXPONENTIAL}},mt[a.POWER]=function(t){return{A:300,B:1.5,type:e.EXPONENTIAL}},mt),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.ENTERTAINMENT,name:"Entertainment",description:"Society research allows better understanding of human needs. Unlocks new ways to boost population happiness",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.SOCIOLOGY)>0},getCost:(ht={},ht[a.RESEARCH]=function(t){return{A:420,B:1.5,type:e.EXPONENTIAL}},ht[a.POWER]=function(t){return{A:775,B:1.5,type:e.EXPONENTIAL}},ht),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.SOCIAL_RESEARCH_CENTER,name:"Social Research Center",description:"Unlocks new scientific building for studying sociology",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.SOCIOLOGY)>0},getCost:(Tt={},Tt[a.PLATE]=function(t){return{A:5,B:1.5,type:e.EXPONENTIAL}},Tt[a.RESEARCH]=function(t){return{A:450,B:1.5,type:e.EXPONENTIAL}},Tt[a.POWER]=function(t){return{A:845,B:1.5,type:e.EXPONENTIAL}},Tt),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.ADVANCED_METALLURGY,name:"Advanced Metallurgy",description:"Improved smelting technique increases smelter output by 15%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.MATERIAL_KNOWLEDGE)>0},getCost:(Lt={},Lt[a.IRON]=function(t){return{A:500,B:1.5,type:e.EXPONENTIAL}},Lt[a.RESEARCH]=function(t){return{A:500,B:1.5,type:e.EXPONENTIAL}},Lt[a.POWER]=function(t){return{A:845,B:1.5,type:e.EXPONENTIAL}},Lt),getGain:{},getGainMultiplier:(Ct={},Ct[a.IRON]=function(t){return{A:1,B:1.15,type:e.EXPONENTIAL}},Ct),getCapacityMultiplier:{},maxLevel:10},{id:n.HEAT_INSULATING_CAMERAS,name:"Heat Insulating Chambers",description:"Create insulation for combustion chambers. Improves thermal plant efficiency by 20%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.MATERIAL_KNOWLEDGE)>0},getCost:(vt={},vt[a.ORE]=function(t){return{A:7500,B:1.5,type:e.EXPONENTIAL}},vt[a.STONE]=function(t){return{A:7500,B:1.5,type:e.EXPONENTIAL}},vt[a.RESEARCH]=function(t){return{A:750,B:1.5,type:e.EXPONENTIAL}},vt),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:3},{id:n.COMPOSITE_METALS,name:"Composite Metals",description:"Using composite metals allows to increase crafting output for plates and wires by 20%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.MATERIAL_KNOWLEDGE)>0},getCost:(St={},St[a.IRON]=function(t){return{A:600,B:1.5,type:e.EXPONENTIAL}},St[a.RESEARCH]=function(t){return{A:750,B:1.5,type:e.EXPONENTIAL}},St[a.POWER]=function(t){return{A:845,B:1.5,type:e.EXPONENTIAL}},St),getGain:{},getGainMultiplier:(Pt={},Pt[a.PLATE]=function(t){return{A:1,B:1.2,type:e.EXPONENTIAL}},Pt[a.WIRE]=function(t){return{A:1,B:1.2,type:e.EXPONENTIAL}},Pt),getCapacityMultiplier:{},maxLevel:3},{id:n.IMPROVED_WIRING,name:"Upgrade Wiring",description:"Lay new wires to further increase power supply by 5%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ELECTRICITY_STUDY)>0},getCost:(Bt={},Bt[a.PLATINUM]=function(t){return{A:10,B:1.5,type:e.EXPONENTIAL}},Bt[a.RESEARCH]=function(t){return{A:750,B:1.5,type:e.EXPONENTIAL}},Bt[a.WIRE]=function(t){return{A:10,B:1.5,type:e.EXPONENTIAL}},Bt),getGain:{},getGainMultiplier:(_t={},_t[a.POWER]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},_t),getCapacityMultiplier:{},maxLevel:10},{id:n.ENERGY_SAVING,name:"Energy Saving",description:"Implement energy saving mode for downtime to significantly save on power. Reduces building power cost by 20%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ELECTRICITY_STUDY)>0},getCost:(Mt={},Mt[a.PLATINUM]=function(t){return{A:100,B:1.5,type:e.EXPONENTIAL}},Mt[a.RESEARCH]=function(t){return{A:1250,B:1.5,type:e.EXPONENTIAL}},Mt[a.WIRE]=function(t){return{A:10,B:1.5,type:e.EXPONENTIAL}},Mt),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.ENERGY_SAVING_EXPEDITION_DRONES,name:"Saving Expedition Drones",description:"Rerout extra energy toward terrain scanners of your expedition drones. Increases expedition loot by 30%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ELECTRICITY_STUDY)>0&&e.science.scienceResearches.getResearchLevel(y.GEOGRAPHY)>0},getCost:(Ut={},Ut[a.PLATINUM]=function(t){return{A:85,B:1.5,type:e.EXPONENTIAL}},Ut[a.RESEARCH]=function(t){return{A:1250,B:1.5,type:e.EXPONENTIAL}},Ut[a.WIRE]=function(t){return{A:15,B:1.5,type:e.EXPONENTIAL}},Ut),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:3},{id:n.GERMETISATION,name:"Vacuum Sealing",description:"Allows building air-tight containers, increasing storage capacity",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ORGANIC_CHEMISTRY)>0},getCost:(Gt={},Gt[a.RUBBER]=function(t){return{A:10,B:1.5,type:e.EXPONENTIAL}},Gt[a.RESEARCH]=function(t){return{A:800,B:1.5,type:e.EXPONENTIAL}},Gt[a.POWER]=function(t){return{A:1e3,B:1.5,type:e.EXPONENTIAL}},Gt),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.RUBBER_DETAILS,name:"Rubber Padding",description:"Add rubber padding to your buildings to further descrease building cost scaling by 10%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ORGANIC_CHEMISTRY)>0},getCost:(bt={},bt[a.RUBBER]=function(t){return{A:10,B:1.5,type:e.EXPONENTIAL}},bt[a.RESEARCH]=function(t){return{A:800,B:1.5,type:e.EXPONENTIAL}},bt[a.POWER]=function(t){return{A:1e3,B:1.5,type:e.EXPONENTIAL}},bt),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.SURVEILLANCE_CAMERAS,name:"Surveillance Cameras",description:"Install surveillance cameras around your colony. Improves policemen efficiency by 25%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ORGANIC_CHEMISTRY)>0&&e.science.scienceResearches.getResearchLevel(y.PUBLIC_SERVICE)>0},getCost:(Dt={},Dt[a.PLASTICS]=function(t){return{A:15,B:1.5,type:e.EXPONENTIAL}},Dt[a.RESEARCH]=function(t){return{A:800,B:1.5,type:e.EXPONENTIAL}},Dt[a.SEMICONDUCTOR]=function(t){return{A:20,B:1.5,type:e.EXPONENTIAL}},Dt),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:3},{id:n.COMPUTERS,name:"Computers",description:"Unlocks computers crafting and building data-centers",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ELECTRONICS)>0},getCost:(wt={},wt[a.PLASTICS]=function(t){return{A:45,B:1.5,type:e.EXPONENTIAL}},wt[a.RESEARCH]=function(t){return{A:1500,B:1.5,type:e.EXPONENTIAL}},wt[a.SEMICONDUCTOR]=function(t){return{A:80,B:1.5,type:e.EXPONENTIAL}},wt),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.INDUSTRY_AUTOMATION,name:"Industry Automation",description:"Automate some mundane tasks of your artisans. Gain 5% bonus to all crafting",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ELECTRONICS)>0},getCost:(Xt={},Xt[a.WIRE]=function(t){return{A:145,B:1.5,type:e.EXPONENTIAL}},Xt[a.RESEARCH]=function(t){return{A:1600,B:1.5,type:e.EXPONENTIAL}},Xt[a.SEMICONDUCTOR]=function(t){return{A:80,B:1.5,type:e.EXPONENTIAL}},Xt),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:5},{id:n.BUILDING_PRINTING,name:"3D Printers Construction",description:"Create prefabricated sections on your 3D printers. Further decreases building cost scaling by 10%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.PRINTING_3D)>0},getCost:(Ht={},Ht[a.COMPUTER]=function(t){return{A:65,B:1.5,type:e.EXPONENTIAL}},Ht[a.RESEARCH]=function(t){return{A:4600,B:1.5,type:e.EXPONENTIAL}},Ht[a.RUBBER]=function(t){return{A:280,B:1.5,type:e.EXPONENTIAL}},Ht),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.ORGANISM_PRINTING,name:"Organs Printing",description:"New synthetic organs allow for a better treatment of your colonists. Unlocks a new social law",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.PRINTING_3D)>0},getCost:(xt={},xt[a.COMPUTER]=function(t){return{A:75,B:1.5,type:e.EXPONENTIAL}},xt[a.RESEARCH]=function(t){return{A:4600,B:1.5,type:e.EXPONENTIAL}},xt[a.WIRE]=function(t){return{A:280,B:1.5,type:e.EXPONENTIAL}},xt),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.BETTER_DIAGNOSTICS,name:"Improve Health Diagnostics",description:"Using computers for diagnostics can significantly improve healthcare services. Each level increases healthcare from clinics by 5%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ADVANCED_ANATOMY)>0&&e.science.scienceResearches.getResearchLevel(y.ELECTRONICS)>0},getCost:(kt={},kt[a.RESEARCH]=function(t){return{A:1300,B:1.5,type:e.EXPONENTIAL}},kt[a.COMPUTER]=function(t){return{A:5,B:1.5,type:e.EXPONENTIAL}},kt),getGainMultiplier:{},maxLevel:5},{id:n.MULTISTORE_WAREHOUSES,name:"Multistore Warehouses",description:"Create a scalable solution for your storage. Your warehouses can now store twice as much goods",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.HIGH_GRAVITY_PHYSICS)>0},getCost:(Yt={},Yt[a.PLATE]=function(t){return{A:400,B:1.5,type:e.EXPONENTIAL}},Yt[a.RESEARCH]=function(t){return{A:7025,B:1.5,type:e.EXPONENTIAL}},Yt[a.WIRE]=function(t){return{A:450,B:1.5,type:e.EXPONENTIAL}},Yt),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.GMO,name:"GMO",description:"Genetic modification of organisms can help boost nutrition production by 5% and biomass production by 10%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ADVANCED_BIOLOGY)>0},getCost:(Wt={},Wt[a.RESEARCH]=function(t){return{A:2500,B:1.5,type:e.EXPONENTIAL}},Wt[a.BIOMASS]=function(t){return{A:4e3,B:1.5,type:e.EXPONENTIAL}},Wt),getGainMultiplier:(Zt={},Zt[a.BIOMASS]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Zt[a.NUTRITION]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},Zt),maxLevel:5},{id:n.LASER_CUTTING,name:"Laser Cutting",description:"Using lasers to cut out metal parts significantly simplifies plates and wires production. Increased plate and wire production by 10%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.QUANTUM_PHYSICS)>0},getCost:(Ft={},Ft[a.RESEARCH]=function(t){return{A:4500,B:1.5,type:e.EXPONENTIAL}},Ft[a.POWER]=function(t){return{A:4e3,B:1.5,type:e.EXPONENTIAL}},Ft),getGainMultiplier:(Vt={},Vt[a.PLATE]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Vt[a.WIRE]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Vt),maxLevel:3},{id:n.BETTER_PHOTOELEMENTS,name:"Better Photo-Elements",description:"Improved photo-element technology allows you to boost solar satellites and solar panels output by 20%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.QUANTUM_PHYSICS)>0},getCost:(jt={},jt[a.RESEARCH]=function(t){return{A:7500,B:1.5,type:e.EXPONENTIAL}},jt[a.POWER]=function(t){return{A:4e3,B:1.5,type:e.EXPONENTIAL}},jt),getGainMultiplier:{},maxLevel:1},{id:n.IMPROVED_LITHOGRAPHY,name:"Improved Lithography",description:"New methods of lithography improve assembling processes. Boosts computers production by 10%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.QUANTUM_PHYSICS)>0},getCost:(Kt={},Kt[a.RESEARCH]=function(t){return{A:4500,B:1.5,type:e.EXPONENTIAL}},Kt[a.SEMICONDUCTOR]=function(t){return{A:25,B:1.5,type:e.EXPONENTIAL}},Kt),getGainMultiplier:(qt={},qt[a.COMPUTER]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},qt),maxLevel:3},{id:n.GREAT_RADIO_TRANSMITTER,name:"Great Radio Transmitter",description:"Create a signal transmitter with a much stronger output. Allows you to send signals to other civilizations. Unlocks first prestige level",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.QUANTUM_PHYSICS)>0},getCost:(zt={},zt[a.RESEARCH]=function(t){return{A:7500,B:1.5,type:e.EXPONENTIAL}},zt[a.COMPUTER]=function(t){return{A:50,B:1.5,type:e.EXPONENTIAL}},zt[a.PLATINUM]=function(t){return{A:500,B:1.5,type:e.EXPONENTIAL}},zt),getGainMultiplier:{},maxLevel:1},{id:n.FLIGHT_TECHNOLOGY,name:"Fuel Conservation",description:"Improved fuel combustion cycle allows to install less rockets to achieve the same thrust. Reduces rocket consumption by 20% for all space structures and ships",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.GRAVITY_THEORY)>0},getCost:(Qt={},Qt[a.RESEARCH]=function(t){return{A:7500,B:1.5,type:e.EXPONENTIAL}},Qt[a.ROCKET_ENGINE]=function(t){return{A:20,B:1.5,type:e.EXPONENTIAL}},Qt[a.FUEL]=function(t){return{A:500,B:1.5,type:e.EXPONENTIAL}},Qt),getGainMultiplier:{},maxLevel:1},{id:n.FASTER_ROCKETS,name:"Faster Rockets",description:"Using improved flight path calculation reduces total flight time. Space tourism is now 50% more efficient",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.GRAVITY_THEORY)>0},getCost:(Jt={},Jt[a.RESEARCH]=function(t){return{A:7500,B:1.5,type:e.EXPONENTIAL}},Jt[a.ROCKET_ENGINE]=function(t){return{A:15,B:1.5,type:e.EXPONENTIAL}},Jt[a.COMPUTER]=function(t){return{A:25,B:1.5,type:e.EXPONENTIAL}},Jt),getGainMultiplier:{},maxLevel:1},{id:n.CONDUCTIVE_NANOPARTICLES,name:"Conductive Nano-Particles",description:"Using new conductive particles improves the capacity of your batteries and accumulators by 20%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.NANO_PHYSICS)>0},getCost:($t={},$t[a.RESEARCH]=function(t){return{A:6e3,B:1.5,type:e.EXPONENTIAL}},$t[a.WATER]=function(t){return{A:600,B:1.5,type:e.EXPONENTIAL}},$t[a.WIRE]=function(t){return{A:500,B:1.5,type:e.EXPONENTIAL}},$t),getGainMultiplier:{},getCapacityMultiplier:(en={},en[a.POWER]=function(t){return{A:1,B:1.2,type:e.EXPONENTIAL}},en),maxLevel:3},{id:n.NANO_BOTS,name:"Nanobots",description:"Unlocks nanobots factory building on your satellite that provides bonus to all crafting",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.NANO_PHYSICS)>0},getCost:(tn={},tn[a.RESEARCH]=function(t){return{A:6e3,B:1.5,type:e.EXPONENTIAL}},tn[a.COMPUTER]=function(t){return{A:60,B:1.5,type:e.EXPONENTIAL}},tn[a.WIRE]=function(t){return{A:500,B:1.5,type:e.EXPONENTIAL}},tn),getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.GENES_MODIFICATION,name:"Animal Gene Modification",description:"Learn how to artificially change animals through gene modification. Unlocks Zoo",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ADVANCED_GENETICS)>0},getCost:(nn={},nn[a.RESEARCH]=function(t){return{A:6e3,B:1.5,type:e.EXPONENTIAL}},nn[a.PLASTICS]=function(t){return{A:60,B:1.5,type:e.EXPONENTIAL}},nn[a.BIOMASS]=function(t){return{A:15e3,B:1.5,type:e.EXPONENTIAL}},nn),getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.GRAVITATIONAL_LENSING,name:"Gravitational Lensing Study",description:"Learn more about the powerful physical effect from massive celestial bodies that causes the curvature of spacetime. Provides more knowledge about the universe and surrounding stars and boosts space telescope effect by 40%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.RELATIVITY_PHYSICS)>0&&e.science.scienceResearches.getResearchLevel(y.ASTROPHYSICS)>0},getCost:(on={},on[a.RESEARCH]=function(t){return{A:1e4,B:1.5,type:e.EXPONENTIAL}},on[a.COMPUTER]=function(t){return{A:60,B:1.5,type:e.EXPONENTIAL}},on[a.FUEL]=function(t){return{A:100,B:1.5,type:e.EXPONENTIAL}},on),getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.RADIATIVE_DISSOCIATION,name:"Radiative Dissociation",description:"Using radiation can improve dissociation process, improving your electrolytes efficiency.  Improves your power storage facilities by 20%.",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.PHOTOCHEMISTRY)>0},getCost:(rn={},rn[a.RESEARCH]=function(t){return{A:8e3,B:1.5,type:e.EXPONENTIAL}},rn[a.WATER]=function(t){return{A:600,B:1.5,type:e.EXPONENTIAL}},rn[a.SEMICONDUCTOR]=function(t){return{A:50,B:1.5,type:e.EXPONENTIAL}},rn),getGainMultiplier:{},getCapacityMultiplier:(an={},an[a.POWER]=function(t){return{A:1,B:1.2,type:e.EXPONENTIAL}},an),maxLevel:5},{id:n.FUEL_PROCESSING_CATALYSATION,name:"Radiative Catalyzation",description:"Use radiation in chemical reactions to boost your fuel output by 20%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.PHOTOCHEMISTRY)>0},getCost:(cn={},cn[a.RESEARCH]=function(t){return{A:8e3,B:1.5,type:e.EXPONENTIAL}},cn[a.WATER]=function(t){return{A:800,B:1.5,type:e.EXPONENTIAL}},cn[a.SEMICONDUCTOR]=function(t){return{A:50,B:1.5,type:e.EXPONENTIAL}},cn),getGainMultiplier:(sn={},sn[a.FUEL]=function(t){return{A:1,B:1.2,type:e.EXPONENTIAL}},sn),getCapacityMultiplier:{},maxLevel:5},{id:n.PLASMA_KNIFE,name:"Plasma Knife",description:"Use hot ionized gas to cut metal. Improves plates, wires and rockets output by 10%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.HIGH_ENERGY_PHYSICS)>0},getCost:(un={},un[a.RESEARCH]=function(t){return{A:12e3,B:1.5,type:e.EXPONENTIAL}},un[a.FUEL]=function(t){return{A:1200,B:1.5,type:e.EXPONENTIAL}},un[a.POWER]=function(t){return{A:1e4,B:1.5,type:e.EXPONENTIAL}},un),getGainMultiplier:(ln={},ln[a.PLATE]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},ln[a.WIRE]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},ln[a.ROCKET_ENGINE]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},ln),getCapacityMultiplier:{},maxLevel:5},{id:n.IMPULSE_ENGINE,name:"Impulse Engine",description:"Replace traditional fuel burning with modern approach, based on ionized plasma stream accelerated by powerful magnetic field. Further reduces rocket consumption by 20% for all space structures and ships",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.HIGH_ENERGY_PHYSICS)>0},getCost:(pn={},pn[a.RESEARCH]=function(t){return{A:18500,B:1.5,type:e.EXPONENTIAL}},pn[a.ROCKET_ENGINE]=function(t){return{A:120,B:1.5,type:e.EXPONENTIAL}},pn),getGainMultiplier:{},maxLevel:1},{id:n.NANO_TRANSISTORS,name:"Transistor Photo-Printing",description:"Use photolithography to boost your computers production by 20%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.PHOTO_LITHOGRAPHY)>0},getCost:(En={},En[a.RESEARCH]=function(t){return{A:16500,B:1.5,type:e.EXPONENTIAL}},En[a.SEMICONDUCTOR]=function(t){return{A:600,B:1.5,type:e.EXPONENTIAL}},En),getGainMultiplier:(dn={},dn[a.COMPUTER]=function(t){return{A:1,B:1.2,type:e.EXPONENTIAL}},dn),maxLevel:1},{id:n.UF_POLYMERYSATION,name:"UV-Polymerisation",description:"Use ionizing radiation for more efficient polymers generation. Improves plastic and rubber output by 10%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ADVANCED_POLYMERIZATION)>0},getCost:(gn={},gn[a.RESEARCH]=function(t){return{A:22e3,B:1.5,type:e.EXPONENTIAL}},gn[a.FUEL]=function(t){return{A:1200,B:1.5,type:e.EXPONENTIAL}},gn[a.WIRE]=function(t){return{A:1e3,B:1.5,type:e.EXPONENTIAL}},gn),getGainMultiplier:(An={},An[a.PLASTICS]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},An[a.RUBBER]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},An),getCapacityMultiplier:{},maxLevel:5},{id:n.BULLETPROOF_POLYMERS,name:"Bulletproof polymers",description:"Learn how to make plastic and rubber more durable. Decreasing rubber and plastic prices for all your buildings by 50%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ADVANCED_POLYMERIZATION)>0},getCost:(fn={},fn[a.RESEARCH]=function(t){return{A:23500,B:1.5,type:e.EXPONENTIAL}},fn[a.BIOMASS]=function(t){return{A:1e5,B:1.5,type:e.EXPONENTIAL}},fn),getGainMultiplier:{},maxLevel:1},{id:n.COLD_SYNTHESIS,name:"Cold Synthesis",description:"Decreasing fuel consumption by your thermonuclear power-plant by 25%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.THERMONUCLEAR_SYNTHESIS)>0&&e.science.scienceResearches.getResearchLevel(y.SUPER_CONDUCTIVITY)>0},getCost:(Nn={},Nn[a.RESEARCH]=function(t){return{A:25500,B:1.5,type:e.EXPONENTIAL}},Nn[a.BIOMASS]=function(t){return{A:1e5,B:1.5,type:e.EXPONENTIAL}},Nn),getGainMultiplier:{},maxLevel:1},{id:n.EFFICIENT_CONDUCTION,name:"Optimize High-voltage lines",description:"Your knowledge now allows you to optimize your power grid, reducing wires prices by 20% per level",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.SUPER_CONDUCTIVITY)>0},getCost:(Rn={},Rn[a.RESEARCH]=function(t){return{A:29500,B:1.5,type:e.EXPONENTIAL}},Rn[a.PLATE]=function(t){return{A:500,B:1.5,type:e.EXPONENTIAL}},Rn[a.RUBBER]=function(t){return{A:2500,B:1.5,type:e.EXPONENTIAL}},Rn),getGainMultiplier:{},maxLevel:3},{id:n.GRAPHENE_SYNTHESIS,name:"Graphene Synthesis",description:"Learn how to obtain graphene from biomass",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.MOLECULAR_PHYSICS)>0},getCost:(In={},In[a.RESEARCH]=function(t){return{A:20750,B:1.5,type:e.EXPONENTIAL}},In[a.BIOMASS]=function(t){return{A:6e4,B:1.5,type:e.EXPONENTIAL}},In),getGainMultiplier:{},maxLevel:1},{id:n.GRAPHENE_SENSORS,name:"Graphene Sensors",description:"Put extra-sensitive sensors to your telescopes to boost their efficiency by 50%",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.GRAPHENE_SYNTHESIS)>0},getCost:(On={},On[a.RESEARCH]=function(t){return{A:25500,B:1.5,type:e.EXPONENTIAL}},On[a.GRAPHENE]=function(t){return{A:80,B:1.5,type:e.EXPONENTIAL}},On),getGainMultiplier:{},maxLevel:1},{id:n.GRAPHENE_MEMBRANES,name:"Graphene Membranes",description:"Use graphene membranes inside your batteries to boost power capacity by 10%",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.GRAPHENE_SYNTHESIS)>0},getCost:(yn={},yn[a.RESEARCH]=function(t){return{A:19500,B:1.5,type:e.EXPONENTIAL}},yn[a.GRAPHENE]=function(t){return{A:100,B:1.5,type:e.EXPONENTIAL}},yn),getGainMultiplier:{},getCapacityMultiplier:(mn={},mn[a.POWER]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},mn),maxLevel:5},{id:n.GRAPHENE_DRILLS,name:"Graphene Drills",description:"Replace drill heads with graphene. Improves stone and ore output by 30%",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.GRAPHENE_SYNTHESIS)>0},getCost:(hn={},hn[a.RESEARCH]=function(t){return{A:19500,B:1.5,type:e.EXPONENTIAL}},hn[a.GRAPHENE]=function(t){return{A:125,B:1.5,type:e.EXPONENTIAL}},hn),getGain:{},getGainMultiplier:(Tn={},Tn[a.STONE]=function(t){return{A:1,B:1.3,type:e.EXPONENTIAL}},Tn[a.ORE]=function(t){return{A:1,B:1.3,type:e.EXPONENTIAL}},Tn),getCapacityMultiplier:{},maxLevel:1},{id:n.PLATINUM_ALLOYS,name:"Platinum Alloys",description:"Use cheaper but durable platinum alloys in your construction. Decreasing platinum prices for all your buildings by 30%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ADVANCED_COMPOSITES)>0},getCost:(Ln={},Ln[a.RESEARCH]=function(t){return{A:33500,B:1.5,type:e.EXPONENTIAL}},Ln[a.PLATINUM]=function(t){return{A:1e3,B:1.5,type:e.EXPONENTIAL}},Ln),getGainMultiplier:{},maxLevel:3},{id:n.COMPOSITE_BUILDING_MATERIALS,name:"Composite Building Materials",description:"Replace regular building materials with new composites. Decreasing bricks cost for all your buildings by 30%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ADVANCED_COMPOSITES)>0},getCost:(Cn={},Cn[a.RESEARCH]=function(t){return{A:33500,B:1.5,type:e.EXPONENTIAL}},Cn[a.PLATINUM]=function(t){return{A:1e3,B:1.5,type:e.EXPONENTIAL}},Cn),getGainMultiplier:{},maxLevel:3},{id:n.STRONG_CISTERN,name:"Composite Cistern Membrane",description:"Use composite materials in your cisterns to make them maintaining higher pressure. Increase water and oxygen capacity by 25%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ADVANCED_COMPOSITES)>0},getCost:(vn={},vn[a.RESEARCH]=function(t){return{A:20500,B:1.5,type:e.EXPONENTIAL}},vn[a.PLATINUM]=function(t){return{A:1500,B:1.5,type:e.EXPONENTIAL}},vn[a.PLASTICS]=function(t){return{A:500,B:1.5,type:e.EXPONENTIAL}},vn),getGainMultiplier:{},getCapacityMultiplier:(Sn={},Sn[a.WATER]=function(t){return{A:1,B:1.25,type:e.EXPONENTIAL}},Sn[a.OXYGEN]=function(t){return{A:1,B:1.25,type:e.EXPONENTIAL}},Sn),maxLevel:3},{id:n.EFFICIENT_COLLIDERS,name:"Efficient Colliders",description:"Use your particle physic knowledge to reduce magnetic field required for particles acceleration. Reduce hadron collider power consumption by 20%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.PARTICLE_PHYSICS)>0},getCost:(Pn={},Pn[a.RESEARCH]=function(t){return{A:49500,B:1.5,type:e.EXPONENTIAL}},Pn[a.GRAPHENE]=function(t){return{A:400,B:1.5,type:e.EXPONENTIAL}},Pn[a.FUEL]=function(t){return{A:1200,B:1.5,type:e.EXPONENTIAL}},Pn),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.NEUTRON_CANON,name:"Neutron Canon",description:"Use neutrons bombarding to eliminate excess water from materials more efficiently. Increase solid non-metal materials output (such as brick, beam, semiconductor) by 10%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.PARTICLE_PHYSICS)>0},getCost:(Bn={},Bn[a.RESEARCH]=function(t){return{A:29500,B:1.5,type:e.EXPONENTIAL}},Bn[a.GRAPHENE]=function(t){return{A:600,B:1.5,type:e.EXPONENTIAL}},Bn[a.PLATINUM]=function(t){return{A:1200,B:1.5,type:e.EXPONENTIAL}},Bn),getGain:{},getGainMultiplier:(_n={},_n[a.STONE]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},_n[a.BEAM]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},_n[a.BRICK]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},_n[a.SEMICONDUCTOR]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},_n),getCapacityMultiplier:{},maxLevel:5},{id:n.CONTROLLABLE_THERMONUCLEAR_REACTIONS,name:"Controlled Thermonuclear Reactions",description:"Increase thermonuclear power plant output by 10%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ADVANCED_THERMODYNAMICS)>0},getCost:(Mn={},Mn[a.RESEARCH]=function(t){return{A:52500,B:1.5,type:e.EXPONENTIAL}},Mn[a.SEMICONDUCTOR]=function(t){return{A:1200,B:1.5,type:e.EXPONENTIAL}},Mn[a.WIRE]=function(t){return{A:1200,B:1.5,type:e.EXPONENTIAL}},Mn),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.ADVANCED_EVAPORATORS,name:"Advanced Evaporators",description:"Increase water output by 10%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ADVANCED_THERMODYNAMICS)>0},getCost:(Un={},Un[a.RESEARCH]=function(t){return{A:31500,B:1.5,type:e.EXPONENTIAL}},Un[a.GRAPHENE]=function(t){return{A:400,B:1.5,type:e.EXPONENTIAL}},Un[a.FUEL]=function(t){return{A:1200,B:1.5,type:e.EXPONENTIAL}},Un),getGain:{},getGainMultiplier:(Gn={},Gn[a.WATER]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Gn),getCapacityMultiplier:{},maxLevel:5},{id:n.MAGNETIC_FIELD_GENERATOR,name:"Magnetic Field Generators",description:"Unlocks crafting Magnetos - portable magnetic field generators that can be used to generate magnetic field to protect your colonists from radiation",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ADVANCED_SPACE_CONSTRUCTION)>0},getCost:(bn={},bn[a.RESEARCH]=function(t){return{A:54500,B:1.5,type:e.EXPONENTIAL}},bn[a.SEMICONDUCTOR]=function(t){return{A:1800,B:1.5,type:e.EXPONENTIAL}},bn[a.WIRE]=function(t){return{A:1800,B:1.5,type:e.EXPONENTIAL}},bn),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.NEUTRINO_DETECTORS,name:"Neutrino Detectors",description:"Construct compact neutrino detectors and use them to investigate universe. Increase Space telescope efficiency by 25%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.NEUTRINO_PHYSICS)>0},getCost:(Dn={},Dn[a.RESEARCH]=function(t){return{A:68500,B:1.5,type:e.EXPONENTIAL}},Dn[a.SEMICONDUCTOR]=function(t){return{A:2500,B:1.5,type:e.EXPONENTIAL}},Dn[a.GRAPHENE]=function(t){return{A:525,B:1.5,type:e.EXPONENTIAL}},Dn),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.NEUTRINO_COOLERS,name:"Neutrino Coolers",description:"Using neutrino as efficient mechanism of getting rid of excess heat allows you maintaining higher temperatures in thermonuclear power plants. Each level increase thermonuclear power plants efficiency by 5%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.NEUTRINO_PHYSICS)>0},getCost:(wn={},wn[a.RESEARCH]=function(t){return{A:58500,B:1.5,type:e.EXPONENTIAL}},wn[a.WIRE]=function(t){return{A:2500,B:1.5,type:e.EXPONENTIAL}},wn[a.GRAPHENE]=function(t){return{A:525,B:1.5,type:e.EXPONENTIAL}},wn),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:3},{id:n.QUARK_CANON,name:"Quark Canon",description:"Even better technology to cut metal. Boosts plate, wire and rocket production by 10% each level",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.QUARK_PHYSICS)>0},getCost:(Xn={},Xn[a.RESEARCH]=function(t){return{A:48500,B:1.5,type:e.EXPONENTIAL}},Xn[a.WIRE]=function(t){return{A:1e3,B:1.5,type:e.EXPONENTIAL}},Xn[a.POWER]=function(t){return{A:5e4,B:1.5,type:e.EXPONENTIAL}},Xn),getGain:{},getGainMultiplier:(Hn={},Hn[a.PLATE]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Hn[a.WIRE]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Hn[a.ROCKET_ENGINE]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Hn),getCapacityMultiplier:{},maxLevel:5},{id:n.FUEL_COOLERS,name:"Fuel Coolers",description:"Increase fuel output by 10%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.LOW_TEMP_PHYSICS)>0},getCost:(xn={},xn[a.RESEARCH]=function(t){return{A:51500,B:1.5,type:e.EXPONENTIAL}},xn[a.PLASTICS]=function(t){return{A:2500,B:1.5,type:e.EXPONENTIAL}},xn),getGain:{},getGainMultiplier:(kn={},kn[a.FUEL]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},kn),getCapacityMultiplier:{},maxLevel:5},{id:n.MAGNETO_COOLING,name:"Magneto Cooling",description:"Increase magneto crafting efficiency by 10%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.LOW_TEMP_PHYSICS)>0&&e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.MAGNETIC_FIELD_GENERATOR)>0},getCost:(Yn={},Yn[a.RESEARCH]=function(t){return{A:51500,B:1.5,type:e.EXPONENTIAL}},Yn[a.SEMICONDUCTOR]=function(t){return{A:4e3,B:1.5,type:e.EXPONENTIAL}},Yn),getGain:{},getGainMultiplier:(Wn={},Wn[a.MAGNETO]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Wn),getCapacityMultiplier:{},maxLevel:5},{id:n.IMPROVED_REFRIGERATION,name:"Improved Refrigeration",description:"Improved refrigeration technology allows you now storing 10% more nutrition and biomass",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.CRYOGENICS)>0},getCost:(Zn={},Zn[a.RESEARCH]=function(t){return{A:64800,B:1.5,type:e.EXPONENTIAL}},Zn[a.SEMICONDUCTOR]=function(t){return{A:8e3,B:1.5,type:e.EXPONENTIAL}},Zn),getGain:{},getCapacityMultiplier:(Fn={},Fn[a.NUTRITION]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Fn[a.BIOMASS]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Fn),maxLevel:5},{id:n.BATTERIES_COOLERS,name:"Batteries Coolers",description:"Improved batteries cooling allows you increase their capacity by 10%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.CRYOGENICS)>0},getCost:(Vn={},Vn[a.RESEARCH]=function(t){return{A:74200,B:1.5,type:e.EXPONENTIAL}},Vn[a.WIRE]=function(t){return{A:8e3,B:1.5,type:e.EXPONENTIAL}},Vn),getGain:{},getCapacityMultiplier:(jn={},jn[a.POWER]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},jn),maxLevel:3},{id:n.FROZEN_BIOMASS,name:"Biomass Freezing",description:"Use frozen biomass in your investigations. Reduce Biolabs Biomass consumption by 75%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.CRYOGENICS)>0},getCost:(Kn={},Kn[a.RESEARCH]=function(t){return{A:88500,B:1.5,type:e.EXPONENTIAL}},Kn[a.SEMICONDUCTOR]=function(t){return{A:2500,B:1.5,type:e.EXPONENTIAL}},Kn[a.BIOMASS]=function(t){return{A:12e4,B:1.5,type:e.EXPONENTIAL}},Kn),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.ORBITAL_BIORESEARCH,name:"Orbital Bio-research",description:"Biolabs can perform some research in space now (togglable in laws and order)",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.SPACE_ORGANICS)>0},getCost:(qn={},qn[a.RESEARCH]=function(t){return{A:88500,B:1.5,type:e.EXPONENTIAL}},qn[a.BIOMASS]=function(t){return{A:15e4,B:1.5,type:e.EXPONENTIAL}},qn),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.ORBITAL_CLINIC,name:"Orbital Clinic",description:"Orbital Supply Module will now also provide healthcare boost",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.SPACE_ORGANICS)>0},getCost:(zn={},zn[a.RESEARCH]=function(t){return{A:98500,B:1.5,type:e.EXPONENTIAL}},zn[a.SEMICONDUCTOR]=function(t){return{A:2500,B:1.5,type:e.EXPONENTIAL}},zn[a.BIOMASS]=function(t){return{A:12e4,B:1.5,type:e.EXPONENTIAL}},zn),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.NANO_BIOBOTS,name:"Nano Biobots",description:"Using biobots can help curing a lot of diseases. Gain +10% to clinic efficiency ",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.NANO_BIOLOGY)>0},getCost:(Qn={},Qn[a.RESEARCH]=function(t){return{A:118500,B:1.5,type:e.EXPONENTIAL}},Qn[a.GRAPHENE]=function(t){return{A:2500,B:1.5,type:e.EXPONENTIAL}},Qn[a.COMPUTER]=function(t){return{A:2500,B:1.5,type:e.EXPONENTIAL}},Qn),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.HIGH_ENERGY_PLASMA_KNIFE,name:"High Energy Plasma Knife",description:"Better control over nuclei decay allows you create more high-energy plasma knifes, further boosting plate and wire production",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ADVANCED_NUCLEAR_RESEARCH)>0},getCost:(Jn={},Jn[a.RESEARCH]=function(t){return{A:72e3,B:1.5,type:e.EXPONENTIAL}},Jn[a.FUEL]=function(t){return{A:4e3,B:1.5,type:e.EXPONENTIAL}},Jn[a.GRAPHENE]=function(t){return{A:600,B:1.5,type:e.EXPONENTIAL}},Jn),getGainMultiplier:($n={},$n[a.PLATE]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},$n[a.WIRE]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},$n),getCapacityMultiplier:{},maxLevel:5},{id:n.NUCLEAR_SYNTHESIS_CONTROL,name:"Nuclear Synthesis Control",description:"Good knowledge about thermonuclear reactions allows you better localize your reactions centers, reducing load on the reactor walls. Allows you cheapen thermonuclear reactors by 50%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ADVANCED_NUCLEAR_RESEARCH)>0},getCost:(ei={},ei[a.RESEARCH]=function(t){return{A:124500,B:1.5,type:e.EXPONENTIAL}},ei[a.GRAPHENE]=function(t){return{A:2500,B:1.5,type:e.EXPONENTIAL}},ei[a.POWER]=function(t){return{A:15e4,B:1.5,type:e.EXPONENTIAL}},ei),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.PORTABLE_MAGNETOS,name:"Portable Magnetos",description:"Invent compact magnetic field generators that can be mount on your space ships",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ADVANCED_SUPERCONDUCTIVITY)>0},getCost:(ti={},ti[a.RESEARCH]=function(t){return{A:13e4,B:1.5,type:e.EXPONENTIAL}},ti[a.WIRE]=function(t){return{A:12500,B:1.5,type:e.EXPONENTIAL}},ti[a.COMPUTER]=function(t){return{A:2e3,B:1.5,type:e.EXPONENTIAL}},ti),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.ADVANCED_MAGNETO_CONSTRUCTION,name:"Advanced Magnetos Construction",description:"Improve magneto construction technology to increase their output",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ADVANCED_SUPERCONDUCTIVITY)>0},getCost:(ni={},ni[a.RESEARCH]=function(t){return{A:8e4,B:1.5,type:e.EXPONENTIAL}},ni[a.WIRE]=function(t){return{A:7500,B:1.5,type:e.EXPONENTIAL}},ni[a.COMPUTER]=function(t){return{A:750,B:1.5,type:e.EXPONENTIAL}},ni),getGain:{},getGainMultiplier:(ii={},ii[a.MAGNETO]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},ii),getCapacityMultiplier:{},maxLevel:5},{id:n.GORMONE_DELIVERY_NANOBOTS,name:"Hormone Delivery Nanobots",description:"Learn to construct new kind of nano-bots that can safely be embedded to your human body and deliver dopamine hormones. Decrease services usage by 10%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ORGANIC_NANOCONSTRUCTION)>0},getCost:(oi={},oi[a.RESEARCH]=function(t){return{A:14e4,B:1.5,type:e.EXPONENTIAL}},oi[a.BIOMASS]=function(t){return{A:175e3,B:1.5,type:e.EXPONENTIAL}},oi[a.COMPUTER]=function(t){return{A:2e3,B:1.5,type:e.EXPONENTIAL}},oi),getGain:{},getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.FERMENTS_DELIVERY_NANOBOTS,name:"Ferment Delivery Nanobots",description:"Learn to construct nano-bots that can delivery ferments necessary for living organisms. Each level increase biomass and wood production 20%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ORGANIC_NANOCONSTRUCTION)>0},getCost:(ri={},ri[a.RESEARCH]=function(t){return{A:8e4,B:1.5,type:e.EXPONENTIAL}},ri[a.RUBBER]=function(t){return{A:1e3,B:1.5,type:e.EXPONENTIAL}},ri[a.COMPUTER]=function(t){return{A:2e3,B:1.5,type:e.EXPONENTIAL}},ri),getGain:{},getGainMultiplier:(ai={},ai[a.BIOMASS]=function(t){return{A:1,B:1.2,type:e.EXPONENTIAL}},ai[a.WOOD]=function(t){return{A:1,B:1.2,type:e.EXPONENTIAL}},ai),getCapacityMultiplier:{},maxLevel:5},{id:n.FUEL_PROCESSING_NANOBOTS,name:"Fuel Processing Nanobots",description:"Construct nanobots catalyzing chemical reactions required for fuel generation. Each level increase fuel production 20%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ORGANIC_NANOCONSTRUCTION)>0},getCost:(ci={},ci[a.RESEARCH]=function(t){return{A:8e4,B:1.5,type:e.EXPONENTIAL}},ci[a.RUBBER]=function(t){return{A:1e3,B:1.5,type:e.EXPONENTIAL}},ci[a.GRAPHENE]=function(t){return{A:300,B:1.5,type:e.EXPONENTIAL}},ci),getGain:{},getGainMultiplier:(si={},si[a.FUEL]=function(t){return{A:1,B:1.2,type:e.EXPONENTIAL}},si),getCapacityMultiplier:{},maxLevel:5},{id:n.QUARK_GLUON_KNIFE,name:"Quark-Gluon Knife",description:"Use quark-gluon stream to cut metal. Improves plates, wires and rockets output by 20%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.QUARK_GLUON_PLASMA_STUDY)>0},getCost:(ui={},ui[a.RESEARCH]=function(t){return{A:6e4,B:1.5,type:e.EXPONENTIAL}},ui[a.FUEL]=function(t){return{A:3200,B:1.5,type:e.EXPONENTIAL}},ui[a.GRAPHENE]=function(t){return{A:600,B:1.5,type:e.EXPONENTIAL}},ui),getGainMultiplier:(li={},li[a.PLATE]=function(t){return{A:1,B:1.2,type:e.EXPONENTIAL}},li[a.WIRE]=function(t){return{A:1,B:1.2,type:e.EXPONENTIAL}},li[a.ROCKET_ENGINE]=function(t){return{A:1,B:1.2,type:e.EXPONENTIAL}},li),getCapacityMultiplier:{},maxLevel:5},{id:n.QUARK_GLUON_CANON,name:"Quark-Gluon Canon",description:"Learn how to create well-focused quark-gluon stream to destroy your enemies. Unlocks new weapons",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.QUARK_GLUON_PLASMA_STUDY)>0},getCost:(pi={},pi[a.RESEARCH]=function(t){return{A:15e4,B:1.5,type:e.EXPONENTIAL}},pi[a.FUEL]=function(t){return{A:600,B:1.5,type:e.EXPONENTIAL}},pi[a.PLATE]=function(t){return{A:1500,B:1.5,type:e.EXPONENTIAL}},pi),getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.QUANTUM_HALLS_EFFECT,name:"Quantum Halls Effect",description:"Learn how to use quantum halls effect to handle fractional charges. Improves power generation by 5%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.QUANTUM_MAGNETICS)>0},getCost:(Ei={},Ei[a.RESEARCH]=function(t){return{A:1e5,B:1.5,type:e.EXPONENTIAL}},Ei[a.COMPUTER]=function(t){return{A:6400,B:1.5,type:e.EXPONENTIAL}},Ei[a.WIRE]=function(t){return{A:12800,B:1.5,type:e.EXPONENTIAL}},Ei),getGainMultiplier:(di={},di[a.POWER]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},di),getCapacityMultiplier:{},maxLevel:3},{id:n.MAGNETIC_SPECTROGRAPHY,name:"Magnetic Spectrograph",description:"Implement new tools for radiation investigation in order to further boost your science advances. Improves science caps by 10% per level",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.QUANTUM_MAGNETICS)>0},getCost:(gi={},gi[a.RESEARCH]=function(t){return{A:1e5,B:1.5,type:e.EXPONENTIAL}},gi[a.COMPUTER]=function(t){return{A:6400,B:1.5,type:e.EXPONENTIAL}},gi[a.GRAPHENE]=function(t){return{A:1600,B:1.5,type:e.EXPONENTIAL}},gi),getGainMultiplier:{},getCapacityMultiplier:(Ai={},Ai[a.RESEARCH]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Ai),maxLevel:3},{id:n.ADVANCED_GRAPHENE_SYNTHESIS,name:"Advanced Graphene Synthesis",description:"Invent new technology to generate graphene from organics. Improves graphene production by 30% per level",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ORGANIC_BASED_COMPUTATION)>0},getCost:(fi={},fi[a.RESEARCH]=function(t){return{A:1e5,B:1.5,type:e.EXPONENTIAL}},fi[a.COMPUTER]=function(t){return{A:6400,B:1.5,type:e.EXPONENTIAL}},fi[a.BIOMASS]=function(t){return{A:2e5,B:1.5,type:e.EXPONENTIAL}},fi),getGainMultiplier:(Ni={},Ni[a.GRAPHENE]=function(t){return{A:1,B:1.3,type:e.EXPONENTIAL}},Ni),getCapacityMultiplier:{},maxLevel:3},{id:n.NANOBOTS_MAGNETO_CONSTRUCTION,name:"Nanobots Magneto Construction",description:"Use magnetic field - sensitive nanobots to control quality of magneto produced. Improves magneto production by 20% per level",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.QUANTUM_MAGNETICS_DETECTION)>0},getCost:(Ri={},Ri[a.RESEARCH]=function(t){return{A:12e4,B:1.5,type:e.EXPONENTIAL}},Ri[a.COMPUTER]=function(t){return{A:12800,B:1.5,type:e.EXPONENTIAL}},Ri[a.WIRE]=function(t){return{A:2e4,B:1.5,type:e.EXPONENTIAL}},Ri),getGainMultiplier:(Ii={},Ii[a.MAGNETO]=function(t){return{A:1,B:1.2,type:e.EXPONENTIAL}},Ii),getCapacityMultiplier:{},maxLevel:3},{id:n.MAGNETIC_DEFECT_DETECTORS,name:"Magnetic Defect Detection",description:"Use magnetic field - sensitive nanobots to control quality of your constructions. Reduces prices scaling for all buildings by another 5%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.QUANTUM_MAGNETICS_DETECTION)>0},getCost:(Oi={},Oi[a.RESEARCH]=function(t){return{A:14e4,B:1.5,type:e.EXPONENTIAL}},Oi[a.COMPUTER]=function(t){return{A:25e3,B:1.5,type:e.EXPONENTIAL}},Oi[a.MAGNETO]=function(t){return{A:100,B:1.5,type:e.EXPONENTIAL}},Oi),getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:1},{id:n.HIGH_DENSITY_PRESSING,name:"High Density Pressing",description:"Use your knowledge to implement new pressing technology for some of your building materials. Reduces bricks and plates prices by 30% per level",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.HIGH_DENSITY_STUDY)>0},getCost:(yi={},yi[a.RESEARCH]=function(t){return{A:14e4,B:1.5,type:e.EXPONENTIAL}},yi[a.PLATE]=function(t){return{A:4e4,B:1.5,type:e.EXPONENTIAL}},yi[a.GRAPHENE]=function(t){return{A:800,B:1.5,type:e.EXPONENTIAL}},yi),getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:3},{id:n.PRESSED_ARMOR,name:"Pressed Armor",description:"Use your knowledge about pressing materials without provoking cracks to increase your ships corpus durability. Each level increase ships durability by 25%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.HIGH_DENSITY_STUDY)>0},getCost:(mi={},mi[a.RESEARCH]=function(t){return{A:1e5,B:1.5,type:e.EXPONENTIAL}},mi[a.PLATE]=function(t){return{A:2e4,B:1.5,type:e.EXPONENTIAL}},mi[a.GRAPHENE]=function(t){return{A:500,B:1.5,type:e.EXPONENTIAL}},mi),getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:5},{id:n.MAGNETIC_PRESS,name:"High Energy Press",description:"Learn how to use high energy press to boost your overall crafting activities. Increase all craftables production by 5% per level",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.HIGH_DENSITY_STUDY)>0},getCost:(hi={},hi[a.RESEARCH]=function(t){return{A:135e3,B:1.5,type:e.EXPONENTIAL}},hi[a.COMPUTER]=function(t){return{A:15e3,B:1.5,type:e.EXPONENTIAL}},hi[a.GRAPHENE]=function(t){return{A:4800,B:1.5,type:e.EXPONENTIAL}},hi),getGainMultiplier:{},getCapacityMultiplier:{},maxLevel:3},{id:n.CONDUCTING_BACTERIA,name:"Conducting Bacteria",description:"Unlock new way to improve your working with power by using bacterias to keep and slowly transfer electrical charge. Increase electricity production and caps by 10% per level",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.SYNTHETIC_ORGANISMS)>0},getCost:(Ti={},Ti[a.RESEARCH]=function(t){return{A:1e5,B:1.5,type:e.EXPONENTIAL}},Ti[a.BIOMASS]=function(t){return{A:1e5,B:1.5,type:e.EXPONENTIAL}},Ti[a.MAGNETO]=function(t){return{A:100,B:1.5,type:e.EXPONENTIAL}},Ti),getGainMultiplier:(Li={},Li[a.POWER]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Li),getCapacityMultiplier:(Ci={},Ci[a.POWER]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Ci),maxLevel:5},{id:n.ORGANICS_PROCESSING_BACTERIA,name:"Organic Processing Bacteria",description:"Generate bacteria that helps to process organics. Increase all crafted organics production by 10% per level",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.SYNTHETIC_ORGANISMS)>0},getCost:(vi={},vi[a.RESEARCH]=function(t){return{A:1e5,B:1.5,type:e.EXPONENTIAL}},vi[a.BIOMASS]=function(t){return{A:1e5,B:1.5,type:e.EXPONENTIAL}},vi[a.MAGNETO]=function(t){return{A:100,B:1.5,type:e.EXPONENTIAL}},vi),getGainMultiplier:(Si={},Si[a.RUBBER]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Si[a.PLASTICS]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Si[a.GRAPHENE]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Si),getCapacityMultiplier:{},maxLevel:5}],Ua,!0),ba=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Da=function(){return Da=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Da.apply(this,arguments)},wa=function(e){function t(){var t=e.call(this)||this;return t.upgrades=[],t.workDispatcher.on("[landing-zone] do upgrade",(function(e){console.log("do upgrade",e),t.doUpgrade(e.id)})),t}return ba(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.upgrades=e},t.prototype.exportData=function(){return this.upgrades},t.prototype.dataToUI=function(){var e=this;return{list:Ga.map((function(t){return e.processToUI(t)}))}},t.prototype.getUpgradeLevel=function(e){var t;return(null===(t=this.upgrades.find((function(t){return t.id===e})))||void 0===t?void 0:t.level)||0},t.prototype.processToUI=function(e){var t=this.upgrades.find((function(t){return t.id===e.id}));t||(t={id:e.id,level:0},this.upgrades.push(t));var n=P.calcBatchAll(e.getCost,WE.getInstance(),t.level,WE.getInstance().resources.getBatchObject()),i=n.reduce((function(e,t){return e&&!t.isBlocked}),!0),o=n.reduce((function(e,t){return Math.max(e,t.eta)}),0),r=e.getCapacityEffect?P.calcBatch(e.getCapacityEffect,WE.getInstance(),0):[],a=e.getCapacityMultiplier?P.calcBatch(e.getCapacityMultiplier,WE.getInstance(),t.level+1):[],c=e.getGain?P.calcBatch(e.getGain,WE.getInstance(),0):[],s=e.getGainMultiplier?P.calcBatch(e.getGainMultiplier,WE.getInstance(),t.level+1):[],u=n.reduce((function(e,t){return Math.min(e,t.max)}),1e300),l=e.unlockCondition(ZE);return l&&t.level<=0&&ZE.newNotifications.registerNotification("planet:landing-zone:upgrades:".concat(e.id)),{id:e.id,name:e.name,description:e.description,isUnlocked:l,isAvailable:u>=1,cost:WE.getInstance().resources.assertEnought(n,WE.getInstance().resources.getBatchObject(),WE.getInstance().resources.getBatchBalanceObject()),max:r.map((function(e){return Da(Da({},e),{amountValue:e.amount,amount:_(e.amount)})})),maxMult:a.map((function(e){return Da(Da({},e),{amountValue:e.amount,amount:"x".concat(_(e.amount))})})),consume:[],gain:c.map((function(e){return Da(Da({},e),{amountValue:e.amount,amount:_(e.amount)})})),gainMult:s.map((function(e){return Da(Da({},e),{amountValue:e.amount,amount:"x".concat(_(e.amount))})})),progress:u<1?(100*u).toPrecision(3):"100",isMaxedOut:!!e.maxLevel&&e.maxLevel<=t.level,maxLevel:e.maxLevel,level:t.level,isBlocked:!i,etaNum:o}},t.prototype.doUpgrade=function(e){var t=Ga.find((function(t){return t.id===e}));if(t){var n=this.upgrades.findIndex((function(t){return t.id===e}));if(n<0)n=this.upgrades.length,this.upgrades.push({id:e,level:0});else if(t.maxLevel&&this.upgrades[n].level>=t.maxLevel)return;var i=P.calcBatchAll(t.getCost,WE.getInstance(),this.upgrades[n].level,WE.getInstance().resources.getBatchObject());i.reduce((function(e,t){return Math.min(e,Math.floor(t.max))}),1e300)<1||(this.upgrades[n].level++,console.log("costs: ",i),WE.getInstance().resources.subtractResourceBatch(i),ZE.resources.reassertBalances())}},t.prototype.getGain=function(e){var t=Ga.filter((function(t){var n;return!!(null===(n=t.getGain)||void 0===n?void 0:n[e])})),n=[];return this.upgrades.forEach((function(i){var o=t.find((function(e){return e.id===i.id}));if(o&&o.getGain){var r=P.calculate(ZE,o.getGain[e],0,i.level);n.push({label:"Upgrade: ".concat(o.name),value:r,id:"upgrade-".concat(o.id),category:"Upgrades"})}}),0),n},t.prototype.getGainMultiplier=function(e){var t=Ga.filter((function(t){var n;return!!(null===(n=t.getGainMultiplier)||void 0===n?void 0:n[e])})),n=[];return this.upgrades.forEach((function(i){var o=t.find((function(e){return e.id===i.id}));if(o&&o.getGainMultiplier){var r=P.calculate(ZE,o.getGainMultiplier[e],i.level,1);r&&n.push({label:"Upgrade: ".concat(o.name),value:r,id:"upgrade-".concat(o.id),category:"Upgrades"})}}),0),n},t.prototype.getCapacity=function(e){var t=Ga.filter((function(t){var n;return!!(null===(n=t.getCapacityEffect)||void 0===n?void 0:n[e])})),n=[];return this.upgrades.forEach((function(i){var o=t.find((function(e){return e.id===i.id}));if(o&&o.getCapacityEffect){var r=P.calculate(ZE,o.getCapacityEffect[e],0,i.level);n.push({label:"Upgrade: ".concat(o.name),value:r,id:"upgrade-".concat(o.id),category:"Upgrades"})}}),0),n},t.prototype.getCapacityMult=function(e){var t=Ga.filter((function(t){var n;return!!(null===(n=t.getCapacityMultiplier)||void 0===n?void 0:n[e])})),n=[];return this.upgrades.forEach((function(i){var o=t.find((function(e){return e.id===i.id}));if(o&&o.getCapacityMultiplier){var r=P.calculate(ZE,o.getCapacityMultiplier[e],i.level,1);r&&n.push({label:"Upgrade: ".concat(o.name),value:r,id:"upgrade-".concat(o.id),category:"Upgrades"})}}),0),n},t.prototype.process=function(e){},t.prototype.reset=function(){this.upgrades=[]},t}(O),Xa=wa.getInstance();!function(e){e.SCIENCE="Science",e.ECONOMY="Economy",e.SOCIAL="Social"}(Pi||(Pi={})),function(e){e.EXPERIMENTAL_MEDICINE="experimental_medicine",e.WATER_FILTERING="water_filtering",e.RESEARCH_GRANTS="research_grants",e.INDUSTRIALIZATION="industrialization",e.FOREST_BEHAVOUR="forest_behavour",e.SECURITY_DOTATIONS="security_dotations",e.ARTIFICIAL_ORGANS="artificial_organs",e.COAL_BURNING="coal_burning",e.CLEAR_CUTTING="clear_cutting",e.FOOD_CHEMICAL_PROCESSING="food_chemical_processing",e.ELECTROTHERMAL_SMELTING="electrothermal_smelting",e.ORBITAL_BIOEXPERIMENT="orbital_bioexperiment"}(Bi||(Bi={}));var Ha,xa,ka,Ya,Wa,Za,Fa,Va,ja,Ka,qa,za,Qa,Ja,$a,ec,tc,nc,ic,oc,rc,ac,cc,sc,uc,lc,pc,Ec,dc,gc,Ac,fc,Nc,Rc,Ic,Oc,yc,mc,hc,Tc,Lc,Cc,vc,Sc,Pc,Bc,_c,Mc,Uc,Gc,bc,Dc,wc,Xc,Hc,xc,kc,Yc,Wc,Zc,Fc,Vc,jc,Kc,qc,zc,Qc,Jc,$c,es,ts,ns,is,os,rs,as,cs,ss,us,ls,ps,Es,ds,gs,As,fs,Ns,Rs,Is,Os,ys,ms,hs,Ts,Ls,Cs,vs,Ss,Ps,Bs,_s,Ms,Us,Gs,bs,Ds=function(e){return Math.pow(.9,e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.CRANES))*Math.pow(.9,e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.RUBBER_DETAILS))*Math.pow(.9,e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.BUILDING_PRINTING))*Math.pow(.95,e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.MAGNETIC_DEFECT_DETECTORS))},ws=function(e){return Math.pow(.95,e.prestige.colonizePlanet.getUpgradeLevel(p.BUILDING_PRICES))*Math.pow(.8,e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.OPTIMIZED_MATERIALS_PROCESSING))},Xs=function(e){return Math.pow(.8,e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.ENERGY_SAVING))},Hs=function(e){return Math.pow(.8,e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.FLIGHT_TECHNOLOGY))*Math.pow(.8,e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.IMPULSE_ENGINE))*Math.pow(.97,e.landingZone.landingZoneBuildings.getBuildingActiveLevel(i.SPACESHIP_STATION))},xs=function(e){return Math.pow(.5,e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.BULLETPROOF_POLYMERS))},ks=function(e){return Math.pow(.8,e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.EFFICIENT_CONDUCTION))},Ys=function(e){return Math.pow(.7,e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.COMPOSITE_BUILDING_MATERIALS))*Math.pow(.7,e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.HIGH_DENSITY_PRESSING))},Ws=function(e){return Math.pow(.7,e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.PLATINUM_ALLOYS))},Zs=function(e){return Math.pow(.7,e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.HIGH_DENSITY_PRESSING))},Fs=function(e){switch(e.laws.getLawSelected(Bi.RESEARCH_GRANTS)){case 0:return 1;case 1:return 1.05;case 2:return 1.1}return 1},Vs=function(e){switch(e.laws.getLawSelected(Bi.RESEARCH_GRANTS)){case 0:return 1;case 1:return 1.25;case 2:return 1.75}return 1},js=function(e){switch(e.laws.getLawSelected(Bi.COAL_BURNING)){case 0:return 1;case 1:return 1.1;case 2:return 1.25}return 1},Ks=function(e){switch(e.laws.getLawSelected(Bi.COAL_BURNING)){case 0:return 0;case 1:return.01;case 2:return.03}return 0},qs=[{id:i.QUARRY,name:"Quarry",category:o.INDUSTRIAL,description:"Automatically collects stone",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.AUTO_QUARRYING)>0},getCost:(_i={},_i[a.ORE]=function(t){return{A:1*ws(t),B:1+.3*Ds(t),type:e.EXPONENTIAL}},_i[a.STONE]=function(t){return{A:2.5*ws(t),B:1+.3*Ds(t),type:e.EXPONENTIAL}},_i),getConsumption:(Mi={},Mi[a.POWER]=function(t){return{A:.06,B:0,type:e.LINEAR}},Mi),getGain:(Ui={},Ui[a.STONE]=function(t){return{A:(.06+.03*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.REPAIR_MACHINERY))*(1+.25*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.QUARRY_TECH)),B:0,type:e.LINEAR}},Ui),getStorage:{}},{id:i.MINE,name:"Mine",category:o.INDUSTRIAL,description:"Automatically collects ore",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.AUTO_MINERS)>0},getCost:(Gi={},Gi[a.ORE]=function(t){return{A:5*ws(t),B:1+.3*Ds(t),type:e.EXPONENTIAL}},Gi[a.STONE]=function(t){return{A:4.5*ws(t),B:1+.3*Ds(t),type:e.EXPONENTIAL}},Gi),getConsumption:(bi={},bi[a.POWER]=function(t){return{A:.06,B:0,type:e.LINEAR}},bi),getGain:(Di={},Di[a.ORE]=function(t){return{A:(.06+.03*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.REPAIR_MACHINERY))*(1+.25*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.MINE_TECH)),B:0,type:e.LINEAR}},Di),getStorage:{}},{id:i.BACTERIA_INCUBATOR,category:o.INDUSTRIAL,name:"Bacteria Incubator",description:"Automatically produces biomass",unlockCondition:function(e){return e.landingZone.landingZoneActions.getActionPerformed(t.COLLECT_BIOMASS)>0},getCost:(wi={},wi[a.BIOMASS]=function(t){return{A:3*ws(t),B:1+.3*Ds(t),type:e.EXPONENTIAL}},wi[a.STONE]=function(t){return{A:4.5*ws(t),B:1+.3*Ds(t),type:e.EXPONENTIAL}},wi),getConsumption:(Xi={},Xi[a.POWER]=function(t){return{A:.06*(1+.25*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.BACTERIA_SELECTION)),B:0,type:e.LINEAR}},Xi),getGain:(Hi={},Hi[a.BIOMASS]=function(t){return{A:(.04+.02*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.REPAIR_MACHINERY))*(1+.25*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.BIO_TECH))*(1+.5*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.FLORA)),B:0,type:e.LINEAR}},Hi[a.OXYGEN]=function(t){return{A:.01*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.BACTERIA_SELECTION)*(1+.5*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.FLORA)),B:0,type:e.LINEAR}},Hi),getStorage:{}},{id:i.THERMOELECTRIC_STATION,category:o.POWER,name:"Thermoelectric Power plant",description:"Burns biomass to generate power",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.COMBUSTION)>0},getCost:(xi={},xi[a.ORE]=function(t){return{A:6*ws(t),B:1+.3*Ds(t),type:e.EXPONENTIAL}},xi[a.STONE]=function(t){return{A:7*ws(t),B:1+.3*Ds(t),type:e.EXPONENTIAL}},xi),getConsumption:(ki={},ki[a.BIOMASS]=function(t){return{A:.03*Math.pow(.75,t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.COMBUSTION_CAMERA)),B:0,type:e.LINEAR}},ki[a.OXYGEN]=function(t){return{A:.006*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.OXYGEN_CAMERAS),B:0,type:e.LINEAR}},ki[a.WOOD]=function(t){return{A:Ks(t),B:0,type:e.LINEAR}},ki),getGain:(Yi={},Yi[a.POWER]=function(t){return{A:.09*(1+.25*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.THERMAL_TECH))*(1+.25*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.THERMAL_TECH2))*(1+.75*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.OXYGEN_CAMERAS))*(1+.5*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.FLAMMABILITY))*(1+.2*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.HEAT_INSULATING_CAMERAS))*js(t),B:0,type:e.LINEAR}},Yi),getStorage:(Wi={},Wi[a.POWER]=function(t){return{A:4*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.RESERVE_BATTERIES),B:0,type:e.LINEAR}},Wi)},{id:i.THERMONUCLEAR_PLANT,category:o.POWER,name:"Thermonuclear plant",description:"Uses nuclear reactions to generate power",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.THERMONUCLEAR_SYNTHESIS)>0},getCost:(Zi={},Zi[a.PLATE]=function(t){return{A:3e3*Math.pow(.5,t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.NUCLEAR_SYNTHESIS_CONTROL))*Zs(t)*ws(t),B:1+.3*Ds(t),type:e.EXPONENTIAL}},Zi[a.BRICK]=function(t){return{A:15e3*Ys(t)*Math.pow(.5,t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.NUCLEAR_SYNTHESIS_CONTROL))*ws(t),B:1+.3*Ds(t),type:e.EXPONENTIAL}},Zi),getConsumption:(Fi={},Fi[a.WATER]=function(t){return{A:.5,B:0,type:e.LINEAR}},Fi[a.FUEL]=function(t){return{A:.3*Math.pow(.75,t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.COLD_SYNTHESIS)),B:0,type:e.LINEAR}},Fi),getGain:(Vi={},Vi[a.POWER]=function(t){return{A:15*Math.pow(1.1,ZE.landingZone.landingZoneUpgrades.getUpgradeLevel(n.CONTROLLABLE_THERMONUCLEAR_REACTIONS))*Math.pow(1.05,ZE.landingZone.landingZoneUpgrades.getUpgradeLevel(n.NEUTRINO_COOLERS)),B:0,type:e.LINEAR}},Vi),getStorage:{}},{id:i.STORAGE,name:"Storage Section",category:o.STORAGE,description:"Provides additional storage space",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.REPAIR_STORAGE_MODULE)>0},getCost:(ji={},ji[a.ORE]=function(t){return{A:10*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},ji[a.STONE]=function(t){return{A:10*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},ji),getConsumption:{},getGain:{},getStorage:(Ki={},Ki[a.STONE]=function(t){return{A:10,B:0,type:e.LINEAR}},Ki[a.ORE]=function(t){return{A:10,B:0,type:e.LINEAR}},Ki[a.BIOMASS]=function(t){return{A:10,B:0,type:e.LINEAR}},Ki[a.IRON]=function(t){return{A:3,B:0,type:e.LINEAR}},Ki[a.WOOD]=function(t){return{A:10,B:0,type:e.LINEAR}},Ki)},{id:i.STORAGE_HUB,name:"Storage Hub",category:o.STORAGE,description:"Provides more storage space, but consumes power",unlockCondition:function(e){return e.landingZone.landingZoneBuildings.getBuildingLevel(i.STORAGE)>3},getCost:(qi={},qi[a.POWER]=function(t){return{A:30*ws(t),B:1+.75*Ds(t)*Xs(t),type:e.EXPONENTIAL}},qi[a.ORE]=function(t){return{A:50*ws(t),B:1+.75*Ds(t),type:e.EXPONENTIAL}},qi[a.STONE]=function(t){return{A:50*ws(t),B:1+.75*Ds(t),type:e.EXPONENTIAL}},qi),getConsumption:(zi={},zi[a.POWER]=function(t){return{A:.15,B:0,type:e.LINEAR}},zi),getGain:{},getStorage:(Qi={},Qi[a.STONE]=function(t){return{A:50,B:0,type:e.LINEAR}},Qi[a.ORE]=function(t){return{A:50,B:0,type:e.LINEAR}},Qi[a.BIOMASS]=function(t){return{A:50,B:0,type:e.LINEAR}},Qi[a.IRON]=function(t){return{A:15,B:0,type:e.LINEAR}},Qi[a.WOOD]=function(t){return{A:50,B:0,type:e.LINEAR}},Qi)},{id:i.OXYGEN_COLLECTOR,name:"Oxygen Compressor",category:o.STORAGE,description:"Compresses oxygen for easier storage",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.OXYGEN_COMPRESSORS)>0},getCost:(Ji={},Ji[a.POWER]=function(t){return{A:50*ws(t),B:1+.5*Ds(t)*Xs(t),type:e.EXPONENTIAL}},Ji[a.ORE]=function(t){return{A:150*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Ji[a.STONE]=function(t){return{A:150*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Ji),getConsumption:($i={},$i[a.POWER]=function(t){return{A:.4,B:0,type:e.LINEAR}},$i),getGain:{},getStorage:(eo={},eo[a.OXYGEN]=function(t){return{A:20,B:0,type:e.LINEAR}},eo)},{id:i.WATER_PUMP,name:"Water Pump",category:o.INDUSTRIAL,description:"Pumps water from underground to provide a steady supply",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.WATER_PUMPING)>0},getCost:(to={},to[a.POWER]=function(t){return{A:75*ws(t),B:1+.5*Ds(t)*Xs(t),type:e.EXPONENTIAL}},to[a.OXYGEN]=function(t){return{A:12*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},to[a.STONE]=function(t){return{A:120*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},to[a.ORE]=function(t){return{A:85*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},to),getConsumption:(no={},no[a.POWER]=function(t){return{A:.3+(1===t.laws.getLawSelected(Bi.WATER_FILTERING)?.3:0),B:0,type:e.LINEAR}},no),getGain:(io={},io[a.WATER]=function(t){return{A:.03,B:0,type:e.LINEAR}},io),getStorage:(oo={},oo[a.WATER]=function(t){return{A:1,B:0,type:e.LINEAR}},oo),getEffectGain:(ro={},ro[T.HEALTHCARE]=function(t){return{A:1===t.laws.getLawSelected(Bi.WATER_FILTERING)?3:0,B:0,type:e.LINEAR}},ro)},{id:i.WATER_STORAGE,name:"Water Storage",category:o.STORAGE,description:"Provides water storage",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.WATER_PUMPING)>0},getCost:(ao={},ao[a.POWER]=function(t){return{A:70*ws(t),B:1+.5*Ds(t)*Xs(t),type:e.EXPONENTIAL}},ao[a.ORE]=function(t){return{A:180*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},ao[a.STONE]=function(t){return{A:180*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},ao),getConsumption:(co={},co[a.POWER]=function(t){return{A:.1,B:0,type:e.LINEAR}},co),getGain:{},getStorage:(so={},so[a.WATER]=function(t){return{A:15,B:0,type:e.LINEAR}},so)},{id:i.BATTERY,name:"Battery",category:o.POWER,description:"Provides power storage",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.ELECTROLITES)>0},getCost:(uo={},uo[a.POWER]=function(t){return{A:20*ws(t),B:1+.5*Ds(t)*Xs(t),type:e.EXPONENTIAL}},uo[a.ORE]=function(t){return{A:180*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},uo[a.WATER]=function(t){return{A:5*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},uo),getConsumption:{},getGain:{},getStorage:(lo={},lo[a.POWER]=function(t){return{A:80,B:0,type:e.LINEAR}},lo)},{id:i.LIVING_CABIN,name:"Residential Module",category:o.RESIDENTAL,description:"Provides living space for 2 colonists",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.DOCKING_MODULE)>0},getCost:(po={},po[a.POWER]=function(t){return{A:120*ws(t),B:1+.5*Ds(t)*Xs(t),type:e.EXPONENTIAL}},po[a.STONE]=function(t){return{A:180*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},po[a.ORE]=function(t){return{A:80*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},po),getConsumption:{},getGain:{},getStorage:{},getMaxColonists:function(t){return{A:2+t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.WOODEN_FURNITURE),B:0,type:e.LINEAR}}},{id:i.METEO_STATION,name:"Meteorology Station",category:o.SCIENCE,description:"Provides research storage and boosts science output by 2% multiplicatively",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.METEOROLOGY)>0},getCost:(Eo={},Eo[a.POWER]=function(t){return{A:80*ws(t),B:1+.5*Ds(t)*Xs(t),type:e.EXPONENTIAL}},Eo[a.STONE]=function(t){return{A:180*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Eo[a.ORE]=function(t){return{A:125*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Eo),getConsumption:(go={},go[a.POWER]=function(t){return{A:10*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.PARTICLE_SCATTERERS)*Vs(t),B:0,type:e.LINEAR}},go),getGain:{},getStorage:(Ao={},Ao[a.RESEARCH]=function(t){return{A:25*(1+39*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.PARTICLE_SCATTERERS)*Fs(t)),B:0,type:e.LINEAR}},Ao),getGainMultiplier:(fo={},fo[a.RESEARCH]=function(t){return{A:1,B:1.02,type:e.EXPONENTIAL}},fo)},{id:i.MONUMENT,name:"Monument",category:o.PUBLIC,description:"Provides some aesthetics",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.CIVIL_SERVICE)>0},getCost:(No={},No[a.STONE]=function(t){return{A:820*ws(t),B:1+.4*Ds(t),type:e.EXPONENTIAL}},No[a.ORE]=function(t){return{A:480*ws(t),B:1+.4*Ds(t),type:e.EXPONENTIAL}},No),getConsumption:{},getGain:{},getStorage:{},getEffectGain:(Ro={},Ro[T.AESTHETICS]=function(t){return{A:2,B:0,type:e.LINEAR}},Ro)},{id:i.CLINIC,name:"Clinic",category:o.PUBLIC,description:"Provides basic healthcare service",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.CIVIL_SERVICE)>0&&e.science.scienceResearches.getResearchLevel(y.EXOBIOLOGY)>0},getCost:(Io={},Io[a.POWER]=function(t){return{A:250*ws(t),B:1+.5*Ds(t)*Xs(t),type:e.EXPONENTIAL}},Io[a.STONE]=function(t){return{A:820*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Io[a.ORE]=function(t){return{A:680*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Io),getConsumption:(Oo={},Oo[a.POWER]=function(t){return{A:.3,B:0,type:e.LINEAR}},Oo),getGain:{},getStorage:(yo={},yo[a.RESEARCH]=function(t){return{A:1===t.laws.getLawSelected(Bi.EXPERIMENTAL_MEDICINE)?50:0,B:0,type:e.LINEAR}},yo),getEffectGain:(mo={},mo[T.HEALTHCARE]=function(t){return{A:10*(1===t.laws.getLawSelected(Bi.EXPERIMENTAL_MEDICINE)?.5:1)*Math.pow(1.05,t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.BETTER_DIAGNOSTICS))*Math.pow(1.1,t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.NANO_BIOBOTS)),B:0,type:e.LINEAR}},mo)},{id:i.PARK,name:"Park Zone",category:o.PUBLIC,description:"A zone with rich greenery provides a way to relax for your people",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.CIVIL_SERVICE)>0&&e.science.scienceResearches.getResearchLevel(y.EXOFORESTRY)>0},getCost:(ho={},ho[a.POWER]=function(t){return{A:150*ws(t),B:1+.5*Ds(t)*Xs(t),type:e.EXPONENTIAL}},ho[a.STONE]=function(t){return{A:120*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},ho[a.WOOD]=function(t){return{A:80*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},ho),getConsumption:{},getGain:{},getStorage:{},getEffectGain:(To={},To[T.AESTHETICS]=function(t){return{A:5,B:0,type:e.LINEAR}},To[T.ENTERTAINMENT]=function(t){return{A:2,B:0,type:e.LINEAR}},To)},{id:i.BIO_LAB,category:o.SCIENCE,name:"Bio Laboratory",description:"Provides even more research storage and boost research output by 5% multiplicatively",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.EXOBIOLOGY)>0},getCost:(Lo={},Lo[a.POWER]=function(t){return{A:120*ws(t),B:1+.5*Ds(t)*Xs(t),type:e.EXPONENTIAL}},Lo[a.STONE]=function(t){return{A:1275*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Lo[a.ORE]=function(t){return{A:725*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Lo),getConsumption:(Co={},Co[a.POWER]=function(t){return{A:.75*Vs(t),B:0,type:e.LINEAR}},Co[a.BIOMASS]=function(t){return{A:.4*Math.pow(.25,t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.FROZEN_BIOMASS)),B:0,type:e.LINEAR}},Co[a.FUEL]=function(t){return{A:1===t.laws.getLawSelected(Bi.ORBITAL_BIOEXPERIMENT)?.03:0,B:0,type:e.LINEAR}},Co),getGain:{},getStorage:(vo={},vo[a.RESEARCH]=function(t){return{A:(50+(1===t.laws.getLawSelected(Bi.ORBITAL_BIOEXPERIMENT)?450:0))*Fs(t),B:0,type:e.LINEAR}},vo),getGainMultiplier:(So={},So[a.RESEARCH]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},So)},{id:i.FOREST_PLANT,name:"Forest Plant",category:o.INDUSTRIAL,description:"Rich forest area that generates oxygen",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.BROADLEAVED)>0},getCost:(Po={},Po[a.WOOD]=function(t){return{A:20*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Po[a.STONE]=function(t){return{A:2.5*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Po),getConsumption:(Bo={},Bo[a.WATER]=function(t){return{A:.01,B:0,type:e.LINEAR}},Bo),getGain:(_o={},_o[a.OXYGEN]=function(t){return{A:.06*(0===t.laws.getLawSelected(Bi.FOREST_BEHAVOUR)?1:.5),B:0,type:e.LINEAR}},_o[a.NUTRITION]=function(t){return{A:.1*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.FRUIT_TREES),B:0,type:e.LINEAR}},_o),getGainMultiplier:(Mo={},Mo[a.BIOMASS]=function(t){return{A:t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.NATURAL_ENVIRONMENT),B:1.02,type:e.EXPONENTIAL}},Mo),getStorage:{},getEffectGain:(Uo={},Uo[T.AESTHETICS]=function(t){return{A:1===t.laws.getLawSelected(Bi.FOREST_BEHAVOUR)?2:0,B:0,type:e.LINEAR}},Uo[T.ENTERTAINMENT]=function(t){return{A:2===t.laws.getLawSelected(Bi.FOREST_BEHAVOUR)?2:0,B:0,type:e.LINEAR}},Uo)},{id:i.SMELTER,name:"Smelter",category:o.INDUSTRIAL,description:"Burns wood to smelt ore into metal",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.METALLURGY)>0},getCost:(Go={},Go[a.ORE]=function(t){return{A:600*ws(t),B:1+.4*Ds(t),type:e.EXPONENTIAL}},Go[a.STONE]=function(t){return{A:1250*ws(t),B:1+.4*Ds(t),type:e.EXPONENTIAL}},Go),getConsumption:(bo={},bo[a.WOOD]=function(t){return{A:.3,B:0,type:e.LINEAR}},bo[a.ORE]=function(t){return{A:.8,B:0,type:e.LINEAR}},bo[a.POWER]=function(t){return{A:1===t.laws.getLawSelected(Bi.ELECTROTHERMAL_SMELTING)?.3:0,B:0,type:e.LINEAR}},bo),getGain:(Do={},Do[a.IRON]=function(t){return{A:.02*(1===t.laws.getLawSelected(Bi.ELECTROTHERMAL_SMELTING)?1.3:1),B:0,type:e.LINEAR}},Do),getStorage:{}},{id:i.EXPEDITION_CENTER,name:"Expedition Center",category:o.INDUSTRIAL,description:"Dedicated center of exploration provides a 5% multiplicative bonus to your expeditions outcome. Requires power and oxygen",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.METALLURGY)>0&&e.science.scienceResearches.getResearchLevel(y.GEOGRAPHY)>0},getCost:(wo={},wo[a.BEAM]=function(t){return{A:2*ws(t),B:1+.25*Ds(t),type:e.EXPONENTIAL}},wo[a.BRICK]=function(t){return{A:4*Ys(t)*ws(t),B:1+.25*Ds(t),type:e.EXPONENTIAL}},wo[a.PLATE]=function(t){return{A:1*Zs(t)*ws(t),B:1+.25*Ds(t),type:e.EXPONENTIAL}},wo),getConsumption:(Xo={},Xo[a.POWER]=function(t){return{A:.06,B:0,type:e.LINEAR}},Xo[a.OXYGEN]=function(t){return{A:.03,B:0,type:e.LINEAR}},Xo),getGain:{},getStorage:{}},{id:i.WAREHOUSE,name:"Warehouse",category:o.STORAGE,description:"Provides more raw materials storage",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.METALLURGY)>0},getCost:(Ho={},Ho[a.BEAM]=function(t){return{A:2*ws(t),B:1+.25*Ds(t),type:e.EXPONENTIAL}},Ho[a.BRICK]=function(t){return{A:4*Ys(t)*ws(t),B:1+.25*Ds(t),type:e.EXPONENTIAL}},Ho),getConsumption:{},getGain:{},getStorage:(xo={},xo[a.STONE]=function(t){return{A:25*(1+.05*t.landingZone.landingZoneBuildings.getBuildingLevel(i.STORAGE_CONTAINER))*(1+1*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.MULTISTORE_WAREHOUSES)),B:0,type:e.LINEAR}},xo[a.ORE]=function(t){return{A:25*(1+.05*t.landingZone.landingZoneBuildings.getBuildingLevel(i.STORAGE_CONTAINER))*(1+1*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.MULTISTORE_WAREHOUSES)),B:0,type:e.LINEAR}},xo[a.BIOMASS]=function(t){return{A:25*(1+.05*t.landingZone.landingZoneBuildings.getBuildingLevel(i.STORAGE_CONTAINER))*(1+1*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.MULTISTORE_WAREHOUSES)),B:0,type:e.LINEAR}},xo[a.IRON]=function(t){return{A:10*(1+.05*t.landingZone.landingZoneBuildings.getBuildingLevel(i.STORAGE_CONTAINER))*(1+1*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.MULTISTORE_WAREHOUSES)),B:0,type:e.LINEAR}},xo[a.WOOD]=function(t){return{A:25*(1+.05*t.landingZone.landingZoneBuildings.getBuildingLevel(i.STORAGE_CONTAINER))*(1+1*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.MULTISTORE_WAREHOUSES)),B:0,type:e.LINEAR}},xo[a.PLATINUM]=function(t){return{A:5*(1+.05*t.landingZone.landingZoneBuildings.getBuildingLevel(i.STORAGE_CONTAINER))*(1+1*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.MULTISTORE_WAREHOUSES)),B:0,type:e.LINEAR}},xo[a.NUTRITION]=function(t){return{A:3*(1+.05*t.landingZone.landingZoneBuildings.getBuildingLevel(i.STORAGE_CONTAINER))*(1+1*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.MULTISTORE_WAREHOUSES)),B:0,type:e.LINEAR}},xo)},{id:i.TANK,name:"Cistern",category:o.STORAGE,description:"Provides oxygen and water storage",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.METALLURGY)>0},getCost:(ko={},ko[a.POWER]=function(t){return{A:30*ws(t),B:1+.25*Ds(t)*Xs(t),type:e.EXPONENTIAL}},ko[a.PLATE]=function(t){return{A:2*Zs(t)*ws(t),B:1+.25*Ds(t),type:e.EXPONENTIAL}},ko[a.BRICK]=function(t){return{A:5*Ys(t)*ws(t),B:1+.25*Ds(t),type:e.EXPONENTIAL}},ko),getConsumption:{},getGain:{},getStorage:(Yo={},Yo[a.OXYGEN]=function(t){return{A:25,B:0,type:e.LINEAR}},Yo[a.WATER]=function(t){return{A:25,B:0,type:e.LINEAR}},Yo)},{id:i.COTTAGE,name:"Cottage",category:o.RESIDENTAL,description:"Provides additional living space for 2 colonists",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.COTTAGES)>0},getCost:(Wo={},Wo[a.POWER]=function(t){return{A:80*ws(t),B:1+.5*Ds(t)*Xs(t),type:e.EXPONENTIAL}},Wo[a.BRICK]=function(t){return{A:10*Ys(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Wo[a.BEAM]=function(t){return{A:8*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Wo),getConsumption:(Zo={},Zo[a.POWER]=function(t){return{A:.05,B:0,type:e.LINEAR}},Zo),getGain:{},getStorage:{},getMaxColonists:function(t){return{A:2,B:0,type:e.LINEAR}}},{id:i.CINEMA,name:"Cinema",category:o.PUBLIC,description:"Provides additional entertainment for your people",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.ENTERTAINMENT)>0},getCost:(Fo={},Fo[a.POWER]=function(t){return{A:380*ws(t),B:1+.5*Ds(t)*Xs(t),type:e.EXPONENTIAL}},Fo[a.BRICK]=function(t){return{A:10*Ys(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Fo[a.BEAM]=function(t){return{A:8*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Fo[a.PLATE]=function(t){return{A:5*Zs(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Fo),getConsumption:(Vo={},Vo[a.POWER]=function(t){return{A:.5,B:0,type:e.LINEAR}},Vo),getGain:{},getStorage:{},getEffectGain:(jo={},jo[T.ENTERTAINMENT]=function(t){return{A:10,B:0,type:e.LINEAR}},jo)},{id:i.SOCIAL_RESEARCH_CENTER,name:"Social Research Center",category:o.SCIENCE,description:"Provides additional research capacity and generation",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.SOCIAL_RESEARCH_CENTER)>0},getCost:(Ko={},Ko[a.POWER]=function(t){return{A:1200*ws(t),B:1+.5*Ds(t)*Xs(t),type:e.EXPONENTIAL}},Ko[a.BRICK]=function(t){return{A:125*Ys(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Ko[a.BEAM]=function(t){return{A:100*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Ko[a.PLATE]=function(t){return{A:25*Zs(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Ko),getConsumption:(qo={},qo[a.POWER]=function(t){return{A:1*Vs(t),B:0,type:e.LINEAR}},qo),getGain:{},getStorage:(zo={},zo[a.RESEARCH]=function(t){return{A:225*Fs(t),B:0,type:e.LINEAR}},zo),getGainMultiplier:(Qo={},Qo[a.RESEARCH]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Qo)},{id:i.METALLURGY_COMPLEX,name:"Metallurgy Complex",category:o.INDUSTRIAL,description:"Provides bonus to metal output",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.ADVANCED_METALLURGY)>0},getCost:(Jo={},Jo[a.PLATINUM]=function(t){return{A:20*Ws(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Jo[a.BRICK]=function(t){return{A:100*Ys(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Jo[a.BEAM]=function(t){return{A:25*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Jo[a.PLATE]=function(t){return{A:5*Zs(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Jo),getConsumption:($o={},$o[a.POWER]=function(t){return{A:1,B:0,type:e.LINEAR}},$o),getGain:{},getStorage:{},getGainMultiplier:(er={},er[a.IRON]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},er)},{id:i.BUILDING_FACTORY,name:"Building Materials Factory",category:o.INDUSTRIAL,description:"Provides bonus to bricks, beams and plates production",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.ADVANCED_METALLURGY)>0},getCost:(tr={},tr[a.BRICK]=function(t){return{A:30*Ys(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},tr[a.BEAM]=function(t){return{A:75*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},tr[a.PLATE]=function(t){return{A:5*Zs(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},tr),getConsumption:(nr={},nr[a.POWER]=function(t){return{A:1,B:0,type:e.LINEAR}},nr),getGain:{},getStorage:{},getGainMultiplier:(ir={},ir[a.BEAM]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},ir[a.BRICK]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},ir[a.PLATE]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},ir)},{id:i.STORAGE_CONTAINER,name:"Storage Container",category:o.STORAGE,description:"Provides 5% bonus to your materials storage in warehouses",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.GERMETISATION)>0},getCost:(or={},or[a.POWER]=function(t){return{A:5*ws(t),B:1+.1*Ds(t)*Xs(t),type:e.EXPONENTIAL}},or[a.PLATE]=function(t){return{A:5*Zs(t)*ws(t),B:1+.1*Ds(t),type:e.EXPONENTIAL}},or[a.RUBBER]=function(t){return{A:5*xs(t)*ws(t),B:1+.1*Ds(t),type:e.EXPONENTIAL}},or),getConsumption:{},getGain:{},getStorage:{}},{id:i.SOLAR_PANEL,category:o.POWER,name:"Solar Panel",description:"Provides power from solar radiation",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ELECTRICITY_STUDY)>0},getCost:(rr={},rr[a.PLATE]=function(t){return{A:6*Zs(t)*ws(t),B:1+.3*Ds(t),type:e.EXPONENTIAL}},rr[a.WIRE]=function(t){return{A:10*ks(t)*ws(t),B:1+.3*Ds(t),type:e.EXPONENTIAL}},rr[a.SEMICONDUCTOR]=function(t){return{A:10*ws(t),B:1+.3*Ds(t),type:e.EXPONENTIAL}},rr),getConsumption:{},getGain:(ar={},ar[a.POWER]=function(t){return{A:.4*Math.pow(1.1,t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.BETTER_PHOTOELEMENTS)),B:0,type:e.LINEAR}},ar),getStorage:{}},{id:i.SHRINE,category:o.PUBLIC,name:"Shrine",description:"Provides some religious service",unlockCondition:function(e){var t;return e.science.scienceResearches.getResearchLevel(y.PUBLIC_SERVICE)>0&&((null===(t=C.find((function(e){return e.id===T.RELIGION})))||void 0===t?void 0:t.unlockCondition(e))||!1)},getCost:(cr={},cr[a.BEAM]=function(t){return{A:50*ws(t),B:1+.3*Ds(t),type:e.EXPONENTIAL}},cr[a.STONE]=function(t){return{A:1e3*ws(t),B:1+.3*Ds(t),type:e.EXPONENTIAL}},cr),getConsumption:{},getGain:{},getStorage:{},getEffectGain:(sr={},sr[T.RELIGION]=function(t){return{A:3,B:0,type:e.LINEAR}},sr)},{id:i.DATA_CENTER,name:"Data Center",category:o.SCIENCE,description:"Provides additional research capacity and generation",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.COMPUTERS)>0},getCost:(ur={},ur[a.POWER]=function(t){return{A:1500*ws(t),B:1+.5*Ds(t)*Xs(t),type:e.EXPONENTIAL}},ur[a.BRICK]=function(t){return{A:125*Ys(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},ur[a.COMPUTER]=function(t){return{A:20*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},ur[a.WIRE]=function(t){return{A:75*ks(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},ur),getConsumption:(lr={},lr[a.POWER]=function(t){return{A:2*Vs(t),B:0,type:e.LINEAR}},lr),getGain:{},getStorage:(pr={},pr[a.RESEARCH]=function(t){return{A:675*Fs(t),B:0,type:e.LINEAR}},pr),getGainMultiplier:(Er={},Er[a.RESEARCH]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Er)},{id:i.APARTMENT,name:"Apartment",category:o.RESIDENTAL,description:"Provides additional living space for 5 colonists",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.HIGH_GRAVITY_PHYSICS)>0},getCost:(dr={},dr[a.POWER]=function(t){return{A:1280*ws(t),B:1+.5*Ds(t)*Xs(t),type:e.EXPONENTIAL}},dr[a.BRICK]=function(t){return{A:180*Ys(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},dr[a.WIRE]=function(t){return{A:50*ks(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},dr),getConsumption:(gr={},gr[a.POWER]=function(t){return{A:.05,B:0,type:e.LINEAR}},gr),getGain:{},getStorage:{},getMaxColonists:function(t){return{A:5,B:0,type:e.LINEAR}}},{id:i.TEMPLE,category:o.PUBLIC,name:"Temple",description:"Great building devoted to the Gods. Significantly boosts your religion service",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.HIGH_GRAVITY_PHYSICS)>0},getCost:(Ar={},Ar[a.BRICK]=function(t){return{A:750*Ys(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Ar[a.BEAM]=function(t){return{A:500*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Ar[a.PLATINUM]=function(t){return{A:500*Ws(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Ar),getConsumption:{},getGain:{},getStorage:{},getEffectGain:(fr={},fr[T.RELIGION]=function(t){return{A:10,B:0,type:e.LINEAR}},fr)},{id:i.PANDEMIC_RESEARCH_CENTER,name:"Pandemic Research Center",category:o.PUBLIC,description:"Researches viruses and other diseases. Each level decrease colony healthcare requirements by 5%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ADVANCED_ANATOMY)>0},getCost:(Nr={},Nr[a.POWER]=function(t){return{A:3280*ws(t),B:1+.5*Ds(t)*Xs(t),type:e.EXPONENTIAL}},Nr[a.BRICK]=function(t){return{A:180*Ys(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Nr[a.PLASTICS]=function(t){return{A:150*xs(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Nr[a.RUBBER]=function(t){return{A:150*xs(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Nr),getConsumption:(Rr={},Rr[a.POWER]=function(t){return{A:2,B:0,type:e.LINEAR}},Rr),getGain:{},getStorage:{}},{id:i.ADMINISTRATIVE_CENTER,name:"Administrative Service Center",category:o.PUBLIC,description:"Bureaucratic center of your colony. Each level decrease public services requirements of your people by 2%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.PUBLIC_SERVICE)>0},getCost:(Ir={},Ir[a.POWER]=function(t){return{A:3280*ws(t),B:1+.5*Ds(t)*Xs(t),type:e.EXPONENTIAL}},Ir[a.BRICK]=function(t){return{A:180*Ys(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Ir[a.BEAM]=function(t){return{A:150*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Ir[a.PLASTICS]=function(t){return{A:150*xs(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Ir),getConsumption:(Or={},Or[a.POWER]=function(t){return{A:2,B:0,type:e.LINEAR}},Or),getGain:{},getStorage:{}},{id:i.ELECTRONICS_FACTORY,name:"Electronics Factory",category:o.INDUSTRIAL,description:"Provides bonus to wires, semiconductors and computers production",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ELECTRONICS)>0},getCost:(yr={},yr[a.BRICK]=function(t){return{A:30*Ys(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},yr[a.SEMICONDUCTOR]=function(t){return{A:15*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},yr[a.WIRE]=function(t){return{A:5*ks(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},yr),getConsumption:(mr={},mr[a.POWER]=function(t){return{A:1,B:0,type:e.LINEAR}},mr),getGain:{},getStorage:{},getGainMultiplier:(hr={},hr[a.WIRE]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},hr[a.COMPUTER]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},hr[a.SEMICONDUCTOR]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},hr)},{id:i.SOLAR_SATELLITE,category:r.ORBIT,name:"Satellite Solar Panel",description:"Provides power from solar radiation. More efficient comparing to planet surface analog",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ROCKET_SCIENCE)>0},getCost:(Tr={},Tr[a.ROCKET_ENGINE]=function(t){return{A:1*Hs(t)*ws(t),B:1+.3*Ds(t),type:e.EXPONENTIAL}},Tr[a.WIRE]=function(t){return{A:5*ks(t)*ws(t),B:1+.3*Ds(t),type:e.EXPONENTIAL}},Tr[a.SEMICONDUCTOR]=function(t){return{A:5*ws(t),B:1+.3*Ds(t),type:e.EXPONENTIAL}},Tr),getConsumption:{},getGain:(Lr={},Lr[a.POWER]=function(t){return{A:1.5*Math.pow(1.1,t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.BETTER_PHOTOELEMENTS)),B:0,type:e.LINEAR}},Lr),getStorage:(Cr={},Cr[a.POWER]=function(t){return{A:25,B:0,type:e.LINEAR}},Cr)},{id:i.ORBITAL_TOURISM_CENTER,category:r.ORBIT,name:"Orbital Tourism Center",description:"Small space station that provides some entertainment and aesthetics to your people",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.RADIATION_STUDY)>0},getCost:(vr={},vr[a.ROCKET_ENGINE]=function(t){return{A:5*Hs(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},vr[a.COMPUTER]=function(t){return{A:25*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},vr[a.RUBBER]=function(t){return{A:150*xs(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},vr),getConsumption:(Sr={},Sr[a.POWER]=function(t){return{A:5,B:0,type:e.LINEAR}},Sr),getGain:{},getStorage:{},getEffectGain:(Pr={},Pr[T.AESTHETICS]=function(t){return{A:8*(1+.5*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.FASTER_ROCKETS)),B:0,type:e.LINEAR}},Pr[T.ENTERTAINMENT]=function(t){return{A:8*(1+.5*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.FASTER_ROCKETS)),B:0,type:e.LINEAR}},Pr)},{id:i.SPACE_TELESCOPE,category:r.ORBIT,name:"Space Telescope",description:"Provides research capacity bonus",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.ASTROPHYSICS)>0},getCost:(Br={},Br[a.ROCKET_ENGINE]=function(t){return{A:1*Hs(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Br[a.PLASTICS]=function(t){return{A:25*xs(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Br[a.RUBBER]=function(t){return{A:50*xs(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Br),getConsumption:(_r={},_r[a.POWER]=function(t){return{A:2,B:0,type:e.LINEAR}},_r),getGain:{},getStorage:(Mr={},Mr[a.RESEARCH]=function(t){return{A:200*Math.pow(1.4,t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.GRAVITATIONAL_LENSING))*Math.pow(1.5,t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.GRAPHENE_SENSORS))*Math.pow(1.25,t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.NEUTRINO_DETECTORS))*Math.pow(2,t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.GRAVITONE_DETECTORS))*Math.pow(1.5,t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.POLISHING_BACTERIA)),B:0,type:e.LINEAR}},Mr),getEffectGain:{}},{id:i.ICE_MELTING_STATION,category:r.MOON,name:"Ice Melting Station",description:"Melts ice on your cold satellite to obtain water",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.GRAVITY_THEORY)>0},getCost:(Ur={},Ur[a.ROCKET_ENGINE]=function(t){return{A:15*Hs(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Ur[a.COMPUTER]=function(t){return{A:25*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Ur[a.RUBBER]=function(t){return{A:150*xs(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Ur[a.BRICK]=function(t){return{A:250*Ys(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Ur),getConsumption:(Gr={},Gr[a.POWER]=function(t){return{A:5,B:0,type:e.LINEAR}},Gr),getGain:(br={},br[a.WATER]=function(t){return{A:.3,B:0,type:e.LINEAR}},br),getStorage:{},getEffectGain:{}},{id:i.FUEL_FACTORY,category:r.MOON,name:"Fuel Factory",description:"Move toxic fuel production outside of your planet to avoid ecology restrictions and enlarge your fuel production capabilities",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.GRAVITY_THEORY)>0},getCost:(Dr={},Dr[a.ROCKET_ENGINE]=function(t){return{A:25*Hs(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Dr[a.SEMICONDUCTOR]=function(t){return{A:125*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Dr[a.PLASTICS]=function(t){return{A:150*xs(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Dr[a.PLATINUM]=function(t){return{A:250*Ws(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Dr),getConsumption:(wr={},wr[a.POWER]=function(t){return{A:2,B:0,type:e.LINEAR}},wr),getGain:{},getGainMultiplier:(Xr={},Xr[a.FUEL]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},Xr),getStorage:{},getEffectGain:{}},{id:i.NANOBOTS_FACTORY,name:"Nanobots Factory",category:r.MOON,description:"Each level provides 3% bonus to all your crafting productions",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.NANO_BOTS)>0&&e.science.scienceResearches.getResearchLevel(y.GRAVITY_THEORY)>0},getCost:(Hr={},Hr[a.ROCKET_ENGINE]=function(t){return{A:20*Hs(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Hr[a.COMPUTER]=function(t){return{A:50*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Hr[a.PLATINUM]=function(t){return{A:225*Ws(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Hr[a.WIRE]=function(t){return{A:75*ks(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Hr),getConsumption:(xr={},xr[a.POWER]=function(t){return{A:3,B:0,type:e.LINEAR}},xr),getGain:{},getStorage:{},getGainMultiplier:{}},{id:i.ZOO,name:"Zoo",category:o.PUBLIC,description:"Place where people can enjoy watching animals similar to ones they saw before on Earth",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.GENES_MODIFICATION)>0},getCost:(kr={},kr[a.BRICK]=function(t){return{A:1e3*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},kr[a.RUBBER]=function(t){return{A:400*xs(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},kr[a.PLATE]=function(t){return{A:500*Zs(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},kr),getConsumption:(Yr={},Yr[a.POWER]=function(t){return{A:.5,B:0,type:e.LINEAR}},Yr[a.WATER]=function(t){return{A:.2,B:0,type:e.LINEAR}},Yr[a.NUTRITION]=function(t){return{A:.2,B:0,type:e.LINEAR}},Yr),getGain:{},getStorage:{},getEffectGain:(Wr={},Wr[T.ENTERTAINMENT]=function(t){return{A:10,B:0,type:e.LINEAR}},Wr)},{id:i.SMELTING_FACTORY,name:"Smelting Complex",category:r.AID,description:"Uses ore and power to produce big amount of metal. Produces a lot pollution, so placing it on uninhabited place is preferred",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.RELATIVITY_PHYSICS)>0},getCost:(Zr={},Zr[a.ROCKET_ENGINE]=function(t){return{A:40*Hs(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Zr[a.STONE]=function(t){return{A:1250*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Zr),getConsumption:(Fr={},Fr[a.POWER]=function(t){return{A:5,B:0,type:e.LINEAR}},Fr[a.ORE]=function(t){return{A:10,B:0,type:e.LINEAR}},Fr),getGain:(Vr={},Vr[a.IRON]=function(t){return{A:.05,B:0,type:e.LINEAR}},Vr),getStorage:{}},{id:i.PLATINUM_MINE,name:"Platinum Mine",category:r.AID,description:"Provides stable platinum source, but requires a lot power to operate",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.RELATIVITY_PHYSICS)>0},getCost:(jr={},jr[a.ROCKET_ENGINE]=function(t){return{A:50*Hs(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},jr[a.PLATE]=function(t){return{A:3250*Zs(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},jr),getConsumption:(Kr={},Kr[a.POWER]=function(t){return{A:8,B:0,type:e.LINEAR}},Kr),getGain:(qr={},qr[a.PLATINUM]=function(t){return{A:.1,B:0,type:e.LINEAR}},qr),getStorage:{}},{id:i.SPACE_STORAGE_HUB,name:"Space Warehouse",category:r.AID,description:"What could be better than warehouse? Yes, only warehouse in space! Also affected by storage containers.",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.RELATIVITY_PHYSICS)>0},getCost:(zr={},zr[a.ROCKET_ENGINE]=function(t){return{A:30*Hs(t)*ws(t),B:1+.25*Ds(t),type:e.EXPONENTIAL}},zr[a.PLATE]=function(t){return{A:200*Zs(t)*ws(t),B:1+.25*Ds(t),type:e.EXPONENTIAL}},zr[a.WIRE]=function(t){return{A:200*ks(t)*ws(t),B:1+.25*Ds(t),type:e.EXPONENTIAL}},zr),getConsumption:{},getGain:{},getStorage:(Qr={},Qr[a.STONE]=function(t){return{A:125*(1+.05*t.landingZone.landingZoneBuildings.getBuildingLevel(i.STORAGE_CONTAINER))*(1+1*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.MULTISTORE_WAREHOUSES)),B:0,type:e.LINEAR}},Qr[a.ORE]=function(t){return{A:125*(1+.05*t.landingZone.landingZoneBuildings.getBuildingLevel(i.STORAGE_CONTAINER))*(1+1*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.MULTISTORE_WAREHOUSES)),B:0,type:e.LINEAR}},Qr[a.BIOMASS]=function(t){return{A:125*(1+.05*t.landingZone.landingZoneBuildings.getBuildingLevel(i.STORAGE_CONTAINER))*(1+1*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.MULTISTORE_WAREHOUSES)),B:0,type:e.LINEAR}},Qr[a.IRON]=function(t){return{A:50*(1+.05*t.landingZone.landingZoneBuildings.getBuildingLevel(i.STORAGE_CONTAINER))*(1+1*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.MULTISTORE_WAREHOUSES)),B:0,type:e.LINEAR}},Qr[a.WOOD]=function(t){return{A:125*(1+.05*t.landingZone.landingZoneBuildings.getBuildingLevel(i.STORAGE_CONTAINER))*(1+1*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.MULTISTORE_WAREHOUSES)),B:0,type:e.LINEAR}},Qr[a.PLATINUM]=function(t){return{A:25*(1+.05*t.landingZone.landingZoneBuildings.getBuildingLevel(i.STORAGE_CONTAINER))*(1+1*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.MULTISTORE_WAREHOUSES)),B:0,type:e.LINEAR}},Qr)},{id:i.PLUTO_MONUMENT,name:"Pluto Monument",category:r.AID,description:"This hostile and hot planet, literally made of iron will remind your people of the god of the Underground. Requires a lot resources, but provides significant motivation to religious people",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.RELATIVITY_PHYSICS)>0},getCost:(Jr={},Jr[a.ROCKET_ENGINE]=function(t){return{A:40*Hs(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Jr[a.PLATE]=function(t){return{A:800*Zs(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Jr[a.PLATINUM]=function(t){return{A:1200*Ws(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Jr),getConsumption:{},getGain:{},getStorage:{},getEffectGain:($r={},$r[T.RELIGION]=function(t){return{A:15,B:0,type:e.LINEAR}},$r)},{id:i.FLORA_PLANT,name:"Flora Plant",category:r.VENUS,description:"Hot and wet climate allows you to produce more biomass here. Requires power however to operate",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.HIGH_ENERGY_PHYSICS)>0},getCost:(ea={},ea[a.ROCKET_ENGINE]=function(t){return{A:100*Hs(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},ea[a.PLATE]=function(t){return{A:1250*Zs(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},ea[a.BEAM]=function(t){return{A:1250*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},ea),getConsumption:(ta={},ta[a.POWER]=function(t){return{A:5,B:0,type:e.LINEAR}},ta),getGain:(na={},na[a.BIOMASS]=function(t){return{A:.6,B:0,type:e.LINEAR}},na),getStorage:{}},{id:i.TROPIC_FOREST_PLANT,name:"Tropic Forest Plant",category:r.VENUS,description:"Plant large forest plantations to boost your foresters. Each level provides 3% bonus to wood output, but consumes biomass and water",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.HIGH_ENERGY_PHYSICS)>0},getCost:(ia={},ia[a.ROCKET_ENGINE]=function(t){return{A:90*Hs(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},ia[a.BIOMASS]=function(t){return{A:5e3*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},ia),getConsumption:(oa={},oa[a.BIOMASS]=function(t){return{A:.5,B:0,type:e.LINEAR}},oa[a.WATER]=function(t){return{A:.3,B:0,type:e.LINEAR}},oa),getGainMultiplier:(ra={},ra[a.WOOD]=function(t){return{A:1,B:1.03,type:e.EXPONENTIAL}},ra),getGain:{},getStorage:{}},{id:i.ORGANIC_PROCESSING_FACTORY,name:"Organics Processing Factory",category:r.VENUS,description:"Uses suitable climate to decrease cost of organic materials synthesis. Each level increase rubber and plastic output by 5%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.HIGH_ENERGY_PHYSICS)>0},getCost:(aa={},aa[a.ROCKET_ENGINE]=function(t){return{A:100*Hs(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},aa[a.FUEL]=function(t){return{A:500*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},aa),getConsumption:(ca={},ca[a.POWER]=function(t){return{A:2,B:0,type:e.LINEAR}},ca),getGainMultiplier:(sa={},sa[a.PLASTICS]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},sa[a.RUBBER]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},sa),getGain:{},getStorage:{}},{id:i.ADRONIC_COLLIDER,category:r.VENUS,name:"Hadron Collider",description:"Consumes huge amount of power, but provides significant research capacity",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.MAGNETODYNAMICS)>0},getCost:(ua={},ua[a.ROCKET_ENGINE]=function(t){return{A:100*Hs(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},ua[a.PLATE]=function(t){return{A:2500*Zs(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},ua[a.WIRE]=function(t){return{A:2500*ks(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},ua),getConsumption:(la={},la[a.POWER]=function(t){return{A:25*Math.pow(.8,ZE.landingZone.landingZoneUpgrades.getUpgradeLevel(n.EFFICIENT_COLLIDERS)),B:0,type:e.LINEAR}},la),getGainMultiplier:(pa={},pa[a.RESEARCH]=function(t){return{A:1,B:1.15,type:e.EXPONENTIAL}},pa),getGain:{},getStorage:(Ea={},Ea[a.RESEARCH]=function(t){return{A:2250,B:0,type:e.LINEAR}},Ea),getEffectGain:{}},{id:i.SPACESHIP_STATION,category:r.OUTER,name:"Spaceship Station",description:"Unlocks building ships. Each level reduce rocket consumption for all buildings by 3%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.SPACESHIP_BUILDINGS)>0},getCost:(da={},da[a.ROCKET_ENGINE]=function(t){return{A:120*Hs(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},da[a.PLATE]=function(t){return{A:2500*Zs(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},da[a.WIRE]=function(t){return{A:2500*ks(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},da),getConsumption:(ga={},ga[a.POWER]=function(t){return{A:10,B:0,type:e.LINEAR}},ga),getGain:{},getStorage:{},getEffectGain:{}},{id:i.SPACESHIP_FACTORY,category:r.OUTER,name:"Spaceship Factory",description:"Each level increase rocket output by 5%",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.SPACESHIP_BUILDINGS)>0},getCost:(Aa={},Aa[a.ROCKET_ENGINE]=function(t){return{A:240*Hs(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Aa[a.PLATE]=function(t){return{A:5500*Zs(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Aa[a.WIRE]=function(t){return{A:4500*ks(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Aa),getConsumption:(fa={},fa[a.POWER]=function(t){return{A:10,B:0,type:e.LINEAR}},fa),getGainMultiplier:(Na={},Na[a.ROCKET_ENGINE]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},Na),getGain:{},getStorage:{},getEffectGain:{}},{id:i.ORBITAL_LIVING_MODULE,category:r.OUTER,name:"Orbital Living Module",description:"Each level provides additional space for 4 colonists",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.MAGNETIC_FIELD_GENERATOR)>0},getCost:(Ra={},Ra[a.ROCKET_ENGINE]=function(t){return{A:240*Hs(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Ra[a.MAGNETO]=function(t){return{A:1*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Ra[a.RUBBER]=function(t){return{A:200*xs(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Ra),getConsumption:(Ia={},Ia[a.POWER]=function(t){return{A:4,B:0,type:e.LINEAR}},Ia),getMaxColonists:function(t){return{A:4,B:0,type:e.LINEAR}},getGain:{},getStorage:{},getEffectGain:{}},{id:i.ORBITAL_SUPPLY_MODULE,category:r.OUTER,name:"Orbital Supply Module",description:"Provides general service to your colonists",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.MAGNETIC_FIELD_GENERATOR)>0},getCost:(Oa={},Oa[a.ROCKET_ENGINE]=function(t){return{A:420*Hs(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Oa[a.MAGNETO]=function(t){return{A:4*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Oa[a.PLASTICS]=function(t){return{A:2400*xs(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Oa),getConsumption:(ya={},ya[a.POWER]=function(t){return{A:5,B:0,type:e.LINEAR}},ya),getGain:{},getStorage:{},getEffectGain:(ma={},ma[T.HEALTHCARE]=function(t){return{A:t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.ORBITAL_CLINIC)?5:0,B:0,type:e.LINEAR}},ma[T.RELIGION]=function(t){return{A:5,B:0,type:e.LINEAR}},ma[T.ENTERTAINMENT]=function(t){return{A:5,B:0,type:e.LINEAR}},ma[T.SECURITY]=function(t){return{A:5,B:0,type:e.LINEAR}},ma[T.AESTHETICS]=function(t){return{A:5,B:0,type:e.LINEAR}},ma)},{id:i.DARK_MATTER_COLLECTOR,category:r.OUTER,name:"Dark Matter Collector",description:"Uses a lot of stone and power to generate high enough gravity to capture dark matter.",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.DARK_MATTER_STUDY)>0},getCost:(ha={},ha[a.ROCKET_ENGINE]=function(t){return{A:2420*Hs(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},ha[a.MAGNETO]=function(t){return{A:400*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},ha[a.BRICK]=function(t){return{A:32400*xs(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},ha),getConsumption:(Ta={},Ta[a.POWER]=function(t){return{A:50,B:0,type:e.LINEAR}},Ta[a.STONE]=function(t){return{A:20,B:0,type:e.LINEAR}},Ta),getGain:(La={},La[a.DARK_MATTER]=function(t){return{A:.01,B:0,type:e.LINEAR}},La),getStorage:{},getEffectGain:{}},{id:i.DARK_MATTER_STORAGE,category:r.OUTER,name:"Dark Matter Storage",description:"Isolated containers for dark-matter",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.DARK_MATTER_STUDY)>0},getCost:(Ca={},Ca[a.ROCKET_ENGINE]=function(t){return{A:1420*Hs(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Ca[a.BRICK]=function(t){return{A:2e4*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Ca[a.PLATE]=function(t){return{A:12400*xs(t)*ws(t),B:1+.5*Ds(t),type:e.EXPONENTIAL}},Ca),getConsumption:(va={},va[a.POWER]=function(t){return{A:20,B:0,type:e.LINEAR}},va),getGain:{},getStorage:(Sa={},Sa[a.DARK_MATTER]=function(t){return{A:100,B:0,type:e.LINEAR}},Sa),getEffectGain:{}}],zs=function(e){var t,n,i,o,r,c,s,u,l,p,E,d,g,A,f,N,R,I,O,y,m,h,T,L,C,v,S=((t={})[a.POWER]={income:{linear:[],multiplier:[],consumption:[]},max:{linear:[{id:"base",label:"Base battery",value:20,category:"Buildings"}],multiplier:[]}},t[a.STONE]={max:{linear:[{id:"base",label:"Ship hold",value:20,category:"Buildings"}],multiplier:[]},income:{linear:[],multiplier:[],consumption:[]}},t[a.ORE]={max:{linear:[{id:"base",label:"Ship hold",value:20,category:"Buildings"}],multiplier:[]},income:{linear:[],multiplier:[],consumption:[]}},t[a.BIOMASS]={max:{linear:[{id:"base",label:"Ship hold",value:20,category:"Buildings"}],multiplier:[]},income:{linear:[],multiplier:[],consumption:[]}},t[a.OXYGEN]={income:{linear:[],multiplier:[],consumption:[]},max:{linear:[{id:"base",label:"Base",value:10,category:"Buildings"}],multiplier:[]}},t[a.WATER]={income:{linear:[],multiplier:[],consumption:[{id:"population",label:"Population",value:.005*ZE.colony.colonists,category:"Buildings"}]},max:{linear:[{id:"base",label:"Base",value:10,category:"Buildings"}],multiplier:[]}},t[a.NUTRITION]={income:{linear:[],multiplier:[],consumption:[{id:"population",label:"Population",value:.1*ZE.colony.colonists,category:"Buildings"}]},max:{linear:[{id:"base",label:"Base",value:10,category:"Buildings"}],multiplier:[]}},t[a.RESEARCH]={income:{linear:[],multiplier:[],consumption:[]},max:{linear:[],multiplier:[]}},t[a.IRON]={income:{linear:[],multiplier:[],consumption:[]},max:{linear:[],multiplier:[]}},t[a.PLATINUM]={income:{linear:[],multiplier:[],consumption:[]},max:{linear:[],multiplier:[]}},t[a.WOOD]={income:{linear:[],multiplier:[],consumption:[]},max:{linear:[{id:"base",label:"Base",value:10,category:"Buildings"}],multiplier:[]}},t[a.DARK_MATTER]={income:{linear:[],multiplier:[],consumption:[]},max:{linear:[{id:"base",label:"Base",value:100,category:"Buildings"}],multiplier:[]}},t[a.BEAM]={income:{linear:[],multiplier:[],consumption:[]},max:{linear:[],multiplier:[]}},t[a.BRICK]={income:{linear:[],multiplier:[],consumption:[]},max:{linear:[],multiplier:[]}},t[a.PLATE]={income:{linear:[],multiplier:[],consumption:[]},max:{linear:[],multiplier:[]}},t[a.WIRE]={income:{linear:[],multiplier:[],consumption:[]},max:{linear:[],multiplier:[]}},t[a.RUBBER]={income:{linear:[],multiplier:[],consumption:[]},max:{linear:[],multiplier:[]}},t[a.PLASTICS]={income:{linear:[],multiplier:[],consumption:[]},max:{linear:[],multiplier:[]}},t[a.FUEL]={income:{linear:[],multiplier:[],consumption:[]},max:{linear:[],multiplier:[]}},t[a.SEMICONDUCTOR]={income:{linear:[],multiplier:[],consumption:[]},max:{linear:[],multiplier:[]}},t[a.COMPUTER]={income:{linear:[],multiplier:[],consumption:[]},max:{linear:[],multiplier:[]}},t[a.ROCKET_ENGINE]={income:{linear:[],multiplier:[],consumption:[]},max:{linear:[],multiplier:[]}},t[a.GRAPHENE]={income:{linear:[],multiplier:[],consumption:[]},max:{linear:[],multiplier:[]}},t[a.MAGNETO]={income:{linear:[],multiplier:[],consumption:[]},max:{linear:[],multiplier:[]}},t[a.KNOWLEDGE_POINT]={income:{linear:[],multiplier:[],consumption:[]},max:{linear:[],multiplier:[]}},t[a.COLONIZE_XP]={income:{linear:[],multiplier:[],consumption:[]},max:{linear:[],multiplier:[]}},t);for(var P in S)(n=S[P].income.linear).push.apply(n,ZE.landingZone.landingZoneBuildings.getResourceBeingProduced(P)),(i=S[P].income.multiplier).push.apply(i,ZE.landingZone.landingZoneBuildings.getResourceMultiplier(P)),null===(d=S[P].income.consumption)||void 0===d||d.push.apply(d,ZE.landingZone.landingZoneBuildings.getResourceBeingConsumed(P)),null===(g=S[P].max.linear)||void 0===g||g.push.apply(g,ZE.landingZone.landingZoneBuildings.getResourceBeingStored(P)),(o=S[P].income.linear).push.apply(o,ZE.landingZone.landingZoneUpgrades.getGain(P)),(r=S[P].income.multiplier).push.apply(r,ZE.landingZone.landingZoneUpgrades.getGainMultiplier(P)),null===(A=S[P].max.linear)||void 0===A||A.push.apply(A,ZE.landingZone.landingZoneUpgrades.getCapacity(P)),null===(f=S[P].max.multiplier)||void 0===f||f.push.apply(f,ZE.landingZone.landingZoneUpgrades.getCapacityMult(P)),(c=S[P].income.linear).push.apply(c,ZE.colony.colonyJobs.getResourceBeingProduced(P)),null===(N=S[P].income.consumption)||void 0===N||N.push.apply(N,ZE.colony.colonyJobs.getResourceBeingConsumed(P)),null===(R=S[P].income.multiplier)||void 0===R||R.push.apply(R,ZE.colony.colonyJobs.getResourceBeingMultiplied(P)),(s=S[P].income.linear).push.apply(s,ZE.crafting.craftingJobs.getResourceBeingProduced(P)),null===(I=S[P].income.consumption)||void 0===I||I.push.apply(I,ZE.crafting.craftingJobs.getResourceBeingConsumed(P)),(u=S[P].income.linear).push.apply(u,ZE.laws.getResourceBeingProduced(P)),(l=S[P].income.multiplier).push.apply(l,ZE.laws.getResourceMultiplier(P)),null===(O=S[P].income.consumption)||void 0===O||O.push.apply(O,ZE.laws.getResourceBeingConsumed(P)),null===(y=S[P].max.linear)||void 0===y||y.push.apply(y,ZE.laws.getResourceBeingStored(P)),(p=S[P].income.linear).push.apply(p,ZE.prestige.transmitKnowledge.getResourceBeingProduced(P)),(E=S[P].income.multiplier).push.apply(E,ZE.prestige.transmitKnowledge.getResourceMultiplier(P)),null===(m=S[P].max.linear)||void 0===m||m.push.apply(m,ZE.prestige.transmitKnowledge.getResourceBeingStored(P)),null===(h=S[P].max.multiplier)||void 0===h||h.push.apply(h,ZE.prestige.transmitKnowledge.getCapacityMult(P)),null===(T=S[P].income.multiplier)||void 0===T||T.push.apply(T,ZE.prestige.colonizePlanet.getResourceMultiplier(P)),null===(L=S[P].max.multiplier)||void 0===L||L.push.apply(L,ZE.prestige.colonizePlanet.getCapacityMultiplier(P)),null===(C=S[P].income.multiplier)||void 0===C||C.push.apply(C,ZE.environment.climate.getResourceMultiplier(P)),null===(v=S[P].income.multiplier)||void 0===v||v.push.apply(v,ZE.prestige.colonizePlanet.getResourceUpgradeMultiplier(P));return S},Qs=function(){return Qs=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Qs.apply(this,arguments)},Js=function(){function e(){this.cachedBreakdown={},this.cachedShortenedBreakdown={},this.resourcesStatus=L.map((function(e){return{id:e.id,amount:0,balance:0,max:1,hasCapacityLimit:!0,potentialEfficiency:1}}))}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.collapseEffects=function(e){var t,n=e.linear.reduce((function(e,t){return e[t.category]?e[t.category].value+=t.value:e[t.category]=Qs({},t),e}),{}),i=e.multiplier.reduce((function(e,t){return e[t.category]?e[t.category].value*=t.value:e[t.category]=Qs({},t),e}),{}),o=null===(t=e.consumption)||void 0===t?void 0:t.reduce((function(e,t){return e[t.category]?e[t.category].value+=t.value:e[t.category]=Qs({},t),e}),{});return{linear:Object.values(n).map((function(e){return Qs(Qs({},e),{label:e.category})})),multiplier:Object.values(i).map((function(e){return Qs(Qs({},e),{label:e.category})})),consumption:o?Object.values(o).map((function(e){return Qs(Qs({},e),{label:e.category})})):void 0}},e.prototype.getResourceEfficiency=function(t){return t in e.lackEfficiencyResources?null==e.lackEfficiencyResources[t]?1:e.lackEfficiencyResources[t]:1},e.prototype.addResource=function(e,t){var n=this.resourcesStatus.findIndex((function(t){return t.id===e}));if(n<0){n=this.resourcesStatus.length;var i=L.find((function(t){return t.id===e}));if(!i)return;this.resourcesStatus.push({id:e,amount:0,balance:0,hasCapacityLimit:i.hasCapacityLimit,max:i.hasCapacityLimit?0:-1,potentialEfficiency:1})}this.resourcesStatus[n].amount=this.resourcesStatus[n].amount+t,this.resourcesStatus[n].max>=0&&this.resourcesStatus[n].hasCapacityLimit&&(this.resourcesStatus[n].amount=Math.min(this.resourcesStatus[n].amount,this.resourcesStatus[n].max)),this.resourcesStatus[n].amount<0&&(this.resourcesStatus[n].amount=0)},e.prototype.setResource=function(e,t){var n=this.resourcesStatus.findIndex((function(t){return t.id===e}));if(n<0){n=this.resourcesStatus.length;var i=L.find((function(t){return t.id===e}));if(!i)return;this.resourcesStatus.push({id:e,amount:0,balance:0,hasCapacityLimit:i.hasCapacityLimit,max:i.hasCapacityLimit?0:-1,potentialEfficiency:1})}this.resourcesStatus[n].amount=t},e.prototype.subtractResource=function(e,t){var n=this.resourcesStatus.findIndex((function(t){return t.id===e}));n<0||(this.resourcesStatus[n].amount=this.resourcesStatus[n].amount-t)},e.prototype.subtractResourceBatch=function(e){var t=this;e.forEach((function(e){t.subtractResource(e.id,e.amount)}))},e.prototype.setBalance=function(e,t){var n=this.resourcesStatus.findIndex((function(t){return t.id===e}));if(n<0){n=this.resourcesStatus.length;var i=L.find((function(t){return t.id===e}));if(!i)return;this.resourcesStatus.push({id:e,amount:0,balance:0,hasCapacityLimit:i.hasCapacityLimit,max:i.hasCapacityLimit?0:-1,potentialEfficiency:1})}this.resourcesStatus[n].balance=t},e.prototype.setCapacity=function(e,t){var n=this.resourcesStatus.findIndex((function(t){return t.id===e}));if(n<0){n=this.resourcesStatus.length;var i=L.find((function(t){return t.id===e}));if(!i)return;this.resourcesStatus.push({id:e,amount:0,balance:0,hasCapacityLimit:i.hasCapacityLimit,max:i.hasCapacityLimit?0:-1,potentialEfficiency:1})}this.resourcesStatus[n].max=t},e.prototype.saveBalances=function(){var t=this;ZE.colony.colonyEffects.getBreakdowns();var n=zs(),i={},o={};L.forEach((function(r){var c,s,u,l,p,E,d,g;if(r.unlockCondition(ZE)){i[r.id]={max:{income:[],multiplier:[],consumption:[]},income:{income:[],multiplier:[],consumption:[]}},o[r.id]={max:{income:[],multiplier:[],consumption:[]},income:{income:[],multiplier:[],consumption:[]}};var A=n[r.id].max.linear.reduce((function(e,t){return e+t.value}),0),f=n[r.id].max.multiplier.reduce((function(e,t){return e*t.value}),1);t.setCapacity(r.id,A*f);var N=e.collapseEffects(n[r.id].max);i[r.id].max.income=n[r.id].max.linear.filter((function(e){return e.value})).map((function(e){return Qs(Qs({},e),{value:"+".concat(_(e.value,4))})})),o[r.id].max.income=N.linear.filter((function(e){return e.value})).map((function(e){return Qs(Qs({},e),{value:"+".concat(_(e.value,4))})})),r.id===a.NUTRITION&&console.log("NUTRITION: ",N,o[r.id],n[r.id].max),i[r.id].max.multiplier=n[r.id].max.multiplier.filter((function(e){return 1!==e.value})).map((function(e){return Qs(Qs({},e),{value:"x".concat(_(e.value,4))})})),o[r.id].max.multiplier=N.multiplier.filter((function(e){return 1!==e.value})).map((function(e){return Qs(Qs({},e),{value:"x".concat(_(e.value,4))})}));var R=e.collapseEffects(n[r.id].income),I=n[r.id].income.linear.reduce((function(e,t){return e+t.value}),0),O=n[r.id].income.multiplier.reduce((function(e,t){return e*t.value}),1),y=(null===(c=n[r.id].income.consumption)||void 0===c?void 0:c.reduce((function(e,t){return e+t.value}),0))||0;if(t.setBalance(r.id,I*O-y),null===(s=i[r.id])||void 0===s||(s.income.income=n[r.id].income.linear.filter((function(e){return e.value})).map((function(e){return Qs(Qs({},e),{value:"+".concat(_(e.value,4))})}))),null===(u=o[r.id])||void 0===u||(u.income.income=R.linear.filter((function(e){return e.value})).map((function(e){return Qs(Qs({},e),{value:"+".concat(_(e.value,4))})}))),null===(l=i[r.id])||void 0===l||(l.income.multiplier=n[r.id].income.multiplier.filter((function(e){return 1!==e.value})).map((function(e){return Qs(Qs({},e),{value:"x".concat(_(e.value,4))})}))),null===(p=o[r.id])||void 0===p||(p.income.multiplier=R.multiplier.filter((function(e){return 1!==e.value})).map((function(e){return Qs(Qs({},e),{value:"x".concat(_(e.value,4))})}))),null===(E=i[r.id])||void 0===E||(E.income.consumption=n[r.id].income.consumption.filter((function(e){return e.value})).map((function(e){return Qs(Qs({},e),{value:"-".concat(_(e.value,4))})}))),null===(d=o[r.id])||void 0===d||(d.income.consumption=null===(g=R.consumption)||void 0===g?void 0:g.filter((function(e){return e.value})).map((function(e){return Qs(Qs({},e),{value:"-".concat(_(e.value,4))})}))),r.hasCapacityLimit){var m=n[r.id].max.linear.reduce((function(e,t){return e+t.value}),0),h=n[r.id].max.multiplier.reduce((function(e,t){return e*t.value}),1);t.setCapacity(r.id,m*h)}}})),console.log("asserts: ",n[a.NUTRITION],o[a.NUTRITION]),this.cachedBreakdown=i,this.cachedShortenedBreakdown=o},e.prototype.resetEfficiency=function(){e.lackEfficiencyResources={},ZE.landingZone.landingZoneBuildings.resetEfficiency(),ZE.crafting.craftingJobs.resetEfficiency()},e.prototype.assertBalances=function(t){var n;void 0===t&&(t=!1),ZE.colony.colonyEffects.getBreakdowns();var i=zs(),o={};for(var r in i){var c=i[r].income.linear.reduce((function(e,t){return e+t.value}),0),s=i[r].income.multiplier.reduce((function(e,t){return e*t.value}),1),u=(null===(n=i[r].income.consumption)||void 0===n?void 0:n.reduce((function(e,t){return e+t.value}),0))||0,l=this.getPotentialEfficiency(Math.max(0,this.getResource(r))+c*s,-u);r===a.POWER&&console.log("power: ",c*s,u,l,e.lackEfficiencyResources[r]),o[r]=l<1&&t?0:l}return o},e.prototype.shouldChangeBalances=function(e){return Object.values(e).findIndex((function(e){return e<1}))>-1},e.prototype.applyBalances=function(t){for(var n in t){var i=n;i in e.lackEfficiencyResources&&null!=e.lackEfficiencyResources[i]?e.lackEfficiencyResources[i]*=t[i]:e.lackEfficiencyResources[i]=t[i]}},e.prototype.applyEfficiencies=function(){ZE.landingZone.landingZoneBuildings.adaptEfficiency(),ZE.crafting.craftingJobs.adaptEfficiency()},e.prototype.assertAndApplyBalances=function(){var t=this.assertBalances(),n=0;for(console.log("balancesCalculated: ",t);this.shouldChangeBalances(t)&&n<15;)this.applyBalances(t),this.applyEfficiencies(),t=this.assertBalances(n>10),console.log("iter: ",n,t,e.lackEfficiencyResources[a.POWER]),n++},e.prototype.reassertBalances=function(){this.resetEfficiency(),this.assertAndApplyBalances(),this.saveBalances()},e.prototype.process=function(t){var n=this,i=!1,o="";this.resourcesStatus.forEach((function(e){e.balance<0&&e.balance<-e.amount&&(i=!0,o=e.id)})),i&&(console.log("should re-assert: ",i,o,e.lackEfficiencyResources),this.reassertBalances()),this.resourcesStatus.forEach((function(e){n.addResource(e.id,e.balance*t)}))},e.prototype.getResource=function(e){var t=this.resourcesStatus.findIndex((function(t){return t.id===e}));return t<0?0:this.resourcesStatus[t].amount},e.prototype.getBalance=function(e){var t=this.resourcesStatus.findIndex((function(t){return t.id===e}));return t<0?0:this.resourcesStatus[t].balance},e.prototype.getPotentialEfficiency=function(e,t){return t>=0?1:Math.min(1,-Math.max(0,e)/t)},e.prototype.getBatchObject=function(){return this.resourcesStatus.reduce((function(e,t){return e[t.id]=t.amount,e}),{})},e.prototype.getBatchBalanceObject=function(){return this.resourcesStatus.reduce((function(e,t){return e[t.id]=t.balance,e}),{})},e.prototype.getResourceBalance=function(e){var t=this.resourcesStatus.findIndex((function(t){return t.id===e}));return t<0?0:this.resourcesStatus[t].balance},e.prototype.getResourceCap=function(e){var t=this.resourcesStatus.findIndex((function(t){return t.id===e}));return t<0?0:this.resourcesStatus[t].max},e.prototype.assertEnought=function(e,t,n){var i=[];return e.forEach((function(e){var n="0";if(t[e.id]||(t[e.id]=0),e.amount&&e.amount>0&&t[e.id]>0){var o=100*t[e.id]/e.amount;o>100&&(o=100),n=o.toPrecision(3)}e.amount>0&&i.push({id:e.id,name:e.name,amount:_(e.amount),percentage:n,maxAmount:_(e.max),isAvailable:e.max>=1,eta:B(e.eta)})})),i},e.prototype.exportData=function(){return this.resourcesStatus.map((function(e){return{id:e.id,amount:e.amount}}))},e.prototype.importData=function(e){this.resourcesStatus=e.map((function(e){var t=L.find((function(t){return t.id===e.id}));if(!t)throw new Error("Invalid resource");return{id:e.id,amount:e.amount,balance:0,hasCapacityLimit:t.hasCapacityLimit,max:0,potentialEfficiency:1}}))},e.prototype.dataToUI=function(){var e=this;return{resources:L.map((function(t){var n,i,o=e.resourcesStatus.find((function(e){return e.id===t.id}));return{id:t.id,name:t.name,amount:_((null==o?void 0:o.amount)||0),balance:_((null==o?void 0:o.balance)||0),isUnlocked:t.unlockCondition(ZE),max:_((null==o?void 0:o.max)||0),toFullPercentage:(o&&o.max>0?o.amount/o.max:0).toPrecision(3),hasMaxLimit:t.hasCapacityLimit,breakdown:e.cachedBreakdown[t.id],breakdownCollapsed:e.cachedShortenedBreakdown[t.id],toFullTime:(null==o?void 0:o.max)&&(null==o?void 0:o.balance)>0?B((o.max-o.amount)/o.balance):"",toEmptyTime:o&&(null==o?void 0:o.balance)<0?B(-(null==o?void 0:o.amount)/(null==o?void 0:o.balance)):"",isSecondary:null!==(n=t.isCraftable)&&void 0!==n&&n,isHidden:null!==(i=t.isHidden)&&void 0!==i&&i,isNegative:((null==o?void 0:o.balance)||0)<0||(e.getResourceEfficiency(t.id)||0)<1,isCapped:!!o&&o.max>0&&o.max<=o.amount+2*ZE.dT*o.balance}}))}},e.prototype.reset=function(){this.resourcesStatus=[]},e.lackEfficiencyResources={},e}(),$s=Js.getInstance(),eu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),tu=function(){return tu=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},tu.apply(this,arguments)},nu=function(e){function t(){var t=e.call(this)||this;return t.buildings=[],t.workDispatcher.on("[landing-zone] do build",(function(e){console.log("do upgrade",e),t.doBuild(e.id)})),t.workDispatcher.on("[landing-zone] set building amount",(function(e){console.log("set amount",e),t.setActiveAmount(e.id,e.amount)})),t}return eu(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.buildings=e},t.prototype.exportData=function(){return this.buildings},t.prototype.dataToUI=function(){var e=this;return{list:qs.map((function(t){return e.processToUI(t)}))}},t.prototype.getBuildingLevel=function(e){var t;return(null===(t=this.buildings.find((function(t){return t.id===e})))||void 0===t?void 0:t.level)||0},t.prototype.getBuildingActiveLevel=function(e){var t;return(null===(t=this.buildings.find((function(t){return t.id===e})))||void 0===t?void 0:t.activeAmount)||0},t.prototype.getPreffix=function(e){return Object.values(o).includes(e.category)?"planet:landing-zone":Object.values(r).includes(e.category)?"space":""},t.prototype.getAllCostReduction=function(){return Math.pow(.95,WE.getInstance().prestige.colonizePlanet.getUpgradeLevel(p.BUILDING_PRICES))},t.prototype.processToUI=function(e){var t=this.buildings.find((function(t){return t.id===e.id}));t||(t={id:e.id,level:0,efficiency:1,activeAmount:0,efficiencyToUI:1},this.buildings.push(t));var n=P.calcBatchAll(e.getCost,WE.getInstance(),t.level,WE.getInstance().resources.getBatchObject()),i=n.reduce((function(e,t){return Math.min(e,t.max)}),1e300),o=n.reduce((function(e,t){return e&&!t.isBlocked}),!0),r=n.reduce((function(e,t){return Math.max(e,t.eta)}),0),a=P.calcBatchAll(e.getConsumption,WE.getInstance(),0,WE.getInstance().resources.getBatchObject()),c=P.calcBatch(e.getGain,WE.getInstance(),0),s=e.getStorage?P.calcBatch(e.getStorage,WE.getInstance(),0):[],u=e.getGainMultiplier?P.calcBatch(e.getGainMultiplier,WE.getInstance(),1):[],l=e.getEffectConsumption?P.calcBatchAll(e.getEffectConsumption,WE.getInstance(),0,WE.getInstance().resources.getBatchObject()):[],p=e.getEffectGain?P.calcBatch(e.getEffectGain,WE.getInstance(),0):[],E=e.unlockCondition(ZE);return E&&t.level<=0&&ZE.newNotifications.registerNotification("".concat(this.getPreffix(e),":building:").concat(e.category,":").concat(e.id)),{id:e.id,name:e.name,description:e.description,isUnlocked:E,isAvailable:i>=1,cost:WE.getInstance().resources.assertEnought(n,WE.getInstance().resources.getBatchObject(),WE.getInstance().resources.getBatchBalanceObject()),progress:i<1?(100*i).toPrecision(3):"100",consume:a.filter((function(e){return e.amount})).map((function(e){return tu(tu({},e),{amountValue:e.amount,amount:_(e.amount)})})),gain:c.filter((function(e){return e.amount})).map((function(e){return tu(tu({},e),{amountValue:e.amount,amount:_(e.amount)})})),gainMult:u.filter((function(e){return e.amount})).map((function(e){return tu(tu({},e),{amountValue:e.amount,amount:"x".concat(_(e.amount))})})),consumeEffect:l.filter((function(e){return e.amount})).map((function(e){return tu(tu({},e),{amountValue:e.amount,amount:_(e.amount)})})),gainEffect:p.filter((function(e){return e.amount})).map((function(e){return tu(tu({},e),{amountValue:e.amount,amount:_(e.amount)})})),max:s.filter((function(e){return e.amount})).map((function(e){return tu(tu({},e),{amountValue:e.amount,amount:_(e.amount)})})),level:t.level,activeAmount:t.activeAmount,category:e.category,isBlocked:!o,etaNum:r,efficiency:{isDropped:t.efficiencyToUI<1,efficiency:t.efficiencyToUI,missingResource:t.efficiencyReason?{id:t.efficiencyReason,name:v(t.efficiencyReason)}:void 0}}},t.prototype.setActiveAmount=function(e,t){var n=this.buildings.findIndex((function(t){return t.id===e}));n<0||(this.buildings[n].activeAmount=Math.min(t,this.buildings[n].level),ZE.resources.reassertBalances())},t.prototype.doBuild=function(e){var t=qs.find((function(t){return t.id===e}));if(t){var n=this.buildings.findIndex((function(t){return t.id===e}));n<0&&(n=this.buildings.length,this.buildings.push({id:e,level:0,efficiency:1,activeAmount:0,efficiencyToUI:1}));var i=P.calcBatchAll(t.getCost,WE.getInstance(),this.buildings[n].level,WE.getInstance().resources.getBatchObject());i.reduce((function(e,t){return Math.min(e,Math.floor(t.max))}),1e300)<1||(this.buildings[n].level++,this.buildings[n].activeAmount++,console.log("costs: ",i),WE.getInstance().resources.subtractResourceBatch(i),ZE.resources.reassertBalances())}},t.prototype.getEffectGain=function(e){var t=qs.filter((function(t){var n;return!!(null===(n=t.getEffectGain)||void 0===n?void 0:n[e])})),n=[];return this.buildings.forEach((function(i){var o,r=t.find((function(e){return e.id===i.id}));if(r&&(null===(o=r.getEffectGain)||void 0===o?void 0:o[e])){var a=P.calculate(ZE,r.getEffectGain[e],0,i.activeAmount)*i.efficiency;n.push({label:"Building: ".concat(r.name),value:a,id:"building-".concat(r.id),category:"Buildings"})}}),0),n},t.prototype.getEffectMultiplier=function(e){var t=qs.filter((function(t){var n;return!!(null===(n=t.getEffectMultiplier)||void 0===n?void 0:n[e])})),n=[];return this.buildings.forEach((function(i){var o,r=t.find((function(e){return e.id===i.id}));if(r&&(null===(o=r.getEffectMultiplier)||void 0===o?void 0:o[e])){var a=P.calculate(ZE,r.getEffectMultiplier[e],i.activeAmount,1)*i.efficiency;a&&n.push({label:"Building: ".concat(r.name),value:a,id:"building-".concat(r.id),category:"Buildings"})}}),0),n},t.prototype.getEffectBeingConsumed=function(e){var t=qs.filter((function(t){var n;return!!(null===(n=t.getEffectConsumption)||void 0===n?void 0:n[e])})),n=[];return this.buildings.forEach((function(i){var o,r=t.find((function(e){return e.id===i.id}));if(r&&(null===(o=r.getEffectConsumption)||void 0===o?void 0:o[e])){var a=P.calculate(ZE,r.getEffectConsumption[e],0,i.activeAmount)*i.efficiency;n.push({label:"Building: ".concat(r.name),value:a,id:"building-".concat(r.id),category:"Buildings"})}}),0),n},t.prototype.getResourceBeingProduced=function(e){var t=qs.filter((function(t){return!!t.getGain[e]})),n=[];return this.buildings.forEach((function(i){var o=t.find((function(e){return e.id===i.id}));if(o){var r=P.calculate(ZE,o.getGain[e],0,i.activeAmount)*i.efficiency;n.push({label:"Building: ".concat(o.name),value:r,id:"building-".concat(o.id),category:"Buildings"})}}),0),n},t.prototype.getResourceMultiplier=function(e){var t=qs.filter((function(t){var n;return!!(null===(n=t.getGainMultiplier)||void 0===n?void 0:n[e])})),n=[];return this.buildings.forEach((function(i){var o,r=t.find((function(e){return e.id===i.id}));if(r&&(null===(o=r.getGainMultiplier)||void 0===o?void 0:o[e])){var a=P.calculate(ZE,r.getGainMultiplier[e],i.activeAmount,1)*i.efficiency;console.log("0--0",e,r.id,a),a&&n.push({label:"Building: ".concat(r.name),value:a,id:"building-".concat(r.id),category:"Buildings"})}}),0),n},t.prototype.getResourceBeingConsumed=function(e){var t=qs.filter((function(t){return!!t.getConsumption[e]})),n=[];return this.buildings.forEach((function(i){var o=t.find((function(e){return e.id===i.id}));if(o){var r=P.calculate(ZE,o.getConsumption[e],0,i.activeAmount)*i.efficiency;n.push({label:"Building: ".concat(o.name),value:r,id:"building-".concat(o.id),category:"Buildings"})}}),0),n},t.prototype.getResourceBeingStored=function(e){var t=qs.filter((function(t){return!!t.getStorage[e]})),n=[];return this.buildings.forEach((function(i){var o=t.find((function(e){return e.id===i.id}));if(o){var r=P.calculate(ZE,o.getStorage[e],0,i.activeAmount)*i.efficiency;n.push({label:"Building: ".concat(o.name),value:r,id:"building-".concat(o.id),category:"Buildings"})}}),0),n},t.prototype.getColonistsCap=function(){var e=qs.filter((function(e){return!!e.getMaxColonists})),t=[];return this.buildings.forEach((function(n){var i=e.find((function(e){return e.id===n.id}));if(i&&i.getMaxColonists){var o=P.calculate(ZE,i.getMaxColonists,0,n.activeAmount)*n.efficiency;t.push({label:"Building: ".concat(i.name),value:o,id:"building-".concat(i.id),category:"Buildings"})}}),0),t},t.prototype.getHappinessBonus=function(){var e=qs.filter((function(e){return!!e.getHappinessBonus})),t=[];return this.buildings.forEach((function(n){var i=e.find((function(e){return e.id===n.id}));if(i&&i.getHappinessBonus){var o=P.calculate(ZE,i.getHappinessBonus,0,n.activeAmount)*n.efficiency;t.push({label:"Building: ".concat(i.name),value:o,id:"building-".concat(i.id),category:"Buildings"})}}),0),t},t.prototype.preProcess=function(e){var t=this;this.buildings.forEach((function(e,n){t.buildings[n].efficiency=1}))},t.prototype.resetEfficiency=function(){var e=this;this.buildings.forEach((function(t,n){e.buildings[n].efficiency=1,e.buildings[n].efficiencyToUI=1,e.buildings[n].efficiencyReason=void 0}))},t.prototype.adaptEfficiency=function(){var e=this,t=Js.lackEfficiencyResources,n=Object.keys(t);this.buildings.forEach((function(i,o){var r=qs.find((function(e){return e.id===i.id}));if(r){var a=Object.keys(r.getConsumption),c=n.filter((function(e){return a.includes(e)}));e.buildings[o].efficiencyToUI=1,c.forEach((function(n){P.calculate(ZE,r.getConsumption[n],0,i.activeAmount)>0&&((t[n]||0)<e.buildings[o].efficiency&&(e.buildings[o].efficiencyReason=n),e.buildings[o].efficiency=Math.min(e.buildings[o].efficiency,t[n]||0),e.buildings[o].efficiencyToUI=e.buildings[o].efficiency)}))}}))},t.prototype.process=function(e){},t.prototype.reset=function(){this.buildings=[]},t}(O),iu=nu.getInstance(),ou=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ru=function(e){function t(){var t=e.call(this)||this;return t.landingZoneActions=Ma,t.landingZoneUpgrades=Xa,t.landingZoneBuildings=iu,t}return ou(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.landingZoneActions.importData(e.actions),this.landingZoneUpgrades.importData(e.upgrades),this.landingZoneBuildings.importData(e.buildings)},t.prototype.exportData=function(){return{actions:this.landingZoneActions.exportData(),upgrades:this.landingZoneUpgrades.exportData(),buildings:this.landingZoneBuildings.exportData()}},t.prototype.dataToUI=function(){return{actions:this.landingZoneActions.dataToUI(),upgrades:this.landingZoneUpgrades.dataToUI(),buildings:this.landingZoneBuildings.dataToUI()}},t.prototype.preProcess=function(e){this.landingZoneBuildings.preProcess(e)},t.prototype.process=function(e){this.landingZoneActions.process(e),this.landingZoneBuildings.process(e)},t.prototype.reset=function(){this.landingZoneActions.reset(),this.landingZoneUpgrades.reset(),this.landingZoneBuildings.reset()},t}(O).getInstance(),au=[],cu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),su=function(e){function t(){var t=e.call(this)||this;return t.milestonesState=[],t}return cu(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.milestonesState=e},t.prototype.exportData=function(){return this.milestonesState},t.prototype.dataToUI=function(){return this.milestonesState},t.prototype.milestoneUnlocked=function(e){return!!this.milestonesState.find((function(t){return t.id===e&&t.isReached}))},t.prototype.process=function(e){var t=this;au.filter((function(e){return!t.milestonesState.find((function(t){return t.id===e.id&&t.isReached}))})).forEach((function(e){e.unlockCondition(ZE)&&t.milestonesState.push({id:e.id,isReached:!0})}))},t}(O).getInstance(),uu=function(e){return e.colony.getColonistsHappiness()},lu=function(e){var t=e.laws.getLawSelected(Bi.CLEAR_CUTTING),n=1;return 1===t&&(n*=1.2),2===t&&(n*=.8),n},pu=[{id:h.QUARRYMAN,unlockCondition:function(e){return!0},name:"Quarrymen",description:"Works at the quarry to mine stone",getGain:(Ha={},Ha[a.STONE]=function(t){return{A:.5*uu(t),B:0,type:e.LINEAR}},Ha)},{id:h.MINER,unlockCondition:function(e){return!0},name:"Miner",description:"Works at the mine to gather ore",getGain:(xa={},xa[a.ORE]=function(t){return{A:.5*uu(t),B:0,type:e.LINEAR}},xa[a.PLATINUM]=function(t){return{A:(t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.PLATINUM_MINING)?.01:0)*uu(t),B:0,type:e.LINEAR}},xa)},{id:h.SCIENTIST,unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.RESEARCH_MODULE)>0},name:"Researcher",description:"Works at the lab to generate research",getGain:(ka={},ka[a.RESEARCH]=function(t){return{A:.04*uu(t),B:0,type:e.LINEAR}},ka)},{id:h.FARMER,unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.EXOFARMING)>0},name:"Farmer",description:"Tills the soil and plants crops to generate nutrition",getGain:(Ya={},Ya[a.NUTRITION]=function(t){return{A:(.15+.05*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.FERTILIZING))*uu(t),B:0,type:e.LINEAR}},Ya),getConsumption:(Wa={},Wa[a.BIOMASS]=function(t){return{A:.1*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.FERTILIZING),B:0,type:e.LINEAR}},Wa)},{id:h.FORESTER,unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.EXOFORESTRY)>0},name:"Forester",description:"Maintains forests, plants and cuts wood",getGain:(Za={},Za[a.WOOD]=function(t){return{A:.05*uu(t)*lu(t),B:0,type:e.LINEAR}},Za),getConsumption:(Fa={},Fa[a.BIOMASS]=function(t){return{A:.1*t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.FERTILIZING),B:0,type:e.LINEAR}},Fa),getEffectGain:(Va={},Va[T.AESTHETICS]=function(t){return{A:1*(2===t.laws.getLawSelected(Bi.CLEAR_CUTTING)?1:0),B:0,type:e.LINEAR}},Va),getEffectConsumption:(ja={},ja[T.AESTHETICS]=function(t){return{A:1.5*(1===t.laws.getLawSelected(Bi.CLEAR_CUTTING)?1:0),B:0,type:e.LINEAR}},ja)},{id:h.ARTISAN,unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.METALLURGY)>0},name:"Artisan",description:"Crafts complex goods out of raw materials or other goods",getGain:{},getConsumption:{}},{id:h.POLICEMAN,unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.PUBLIC_SERVICE)>0},name:"Policeman",description:"Patrols the colony and provides security",getGain:{},getConsumption:(Ka={},Ka[a.NUTRITION]=function(t){return{A:1===t.laws.getLawSelected(Bi.SECURITY_DOTATIONS)?.5:0,B:0,type:e.LINEAR}},Ka[a.WATER]=function(t){return{A:1===t.laws.getLawSelected(Bi.SECURITY_DOTATIONS)?.1:0,B:0,type:e.LINEAR}},Ka),getEffectGain:(qa={},qa[T.SECURITY]=function(t){return{A:4*Math.pow(1.25,t.landingZone.landingZoneUpgrades.getUpgradeLevel(n.SURVEILLANCE_CAMERAS))*(1+.75*(1===t.laws.getLawSelected(Bi.SECURITY_DOTATIONS)?1:0)),B:0,type:e.LINEAR}},qa)}],Eu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),du=function(){return du=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},du.apply(this,arguments)},gu=function(e){function t(){var t=e.call(this)||this;return t.jobs=[],t.freeWorkers=0,t.workDispatcher.on("[colony] assign colonists",(function(e){console.log("set amount",e),t.setAmount(e.id,e.amount)})),t}return Eu(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.jobs=e},t.prototype.exportData=function(){return this.jobs},t.prototype.dataToUI=function(){var e=this;return{list:pu.map((function(t){return e.processToUI(t)})),freeWorkers:this.freeWorkers}},t.prototype.getBusyWorkers=function(){return this.jobs.reduce((function(e,t){return e+t.amount}),0)},t.prototype.getWorkersAmount=function(e){var t;return(null===(t=this.jobs.find((function(t){return t.id===e})))||void 0===t?void 0:t.amount)||0},t.prototype.processToUI=function(e){var t=this.jobs.find((function(t){return t.id===e.id}));t||(t={id:e.id,amount:0,efficiency:1},this.jobs.push(t));var i=e.getConsumption?P.calcBatchAll(e.getConsumption,WE.getInstance(),0,WE.getInstance().resources.getBatchObject()):[],o=e.getGain?P.calcBatch(e.getGain,WE.getInstance(),0):[],r=e.getMultiplier?P.calcBatch(e.getMultiplier,WE.getInstance(),0):[],a=e.unlockCondition(ZE);return a&&ZE.landingZone.landingZoneUpgrades.getUpgradeLevel(n.DOCKING_MODULE)>0&&(t.amount>0&&ZE.newNotifications.setViewed("planet:colony:jobs:".concat(e.id)),ZE.newNotifications.registerNotification("planet:colony:jobs:".concat(e.id))),{id:e.id,name:e.name,description:e.description,isUnlocked:a,consume:i.filter((function(e){return e.amount})).map((function(e){return du(du({},e),{amountValue:e.amount,amount:_(e.amount)})})),gain:o.filter((function(e){return e.amount})).map((function(e){return du(du({},e),{amountValue:e.amount,amount:_(e.amount)})})),multiplier:r.filter((function(e){return e.amount})).map((function(e){return du(du({},e),{amountValue:e.amount,amount:"x".concat(_(e.amount))})})),amount:t.amount,isAvailable:this.freeWorkers>0,max:this.freeWorkers+t.amount}},t.prototype.setAmount=function(e,t){t=Math.floor(t);var n=this.jobs.findIndex((function(t){return t.id===e}));n<0&&(n=this.jobs.length,this.jobs.push({id:e,amount:0,efficiency:1})),this.jobs[n].amount=Math.min(Math.max(t,0),this.jobs[n].amount+this.freeWorkers),ZE.resources.reassertBalances()},t.prototype.getEffectGain=function(e){var t=pu.filter((function(t){var n;return!!(null===(n=t.getEffectGain)||void 0===n?void 0:n[e])})),n=[];return this.jobs.forEach((function(i){var o,r=t.find((function(e){return e.id===i.id}));if(r&&(null===(o=r.getEffectGain)||void 0===o?void 0:o[e])){var a=P.calculate(ZE,r.getEffectGain[e],0,i.amount)*i.efficiency;n.push({label:"Job: ".concat(r.name),value:a,id:"job-".concat(r.id),category:"Jobs"})}}),0),n},t.prototype.getEffectMultiplier=function(e){var t=pu.filter((function(t){var n;return!!(null===(n=t.getEffectMultiplier)||void 0===n?void 0:n[e])})),n=[];return this.jobs.forEach((function(i){var o,r=t.find((function(e){return e.id===i.id}));if(r&&(null===(o=r.getEffectMultiplier)||void 0===o?void 0:o[e])){var a=P.calculate(ZE,r.getEffectMultiplier[e],i.amount,1)*i.efficiency;a&&n.push({label:"Job: ".concat(r.name),value:a,id:"job-".concat(r.id),category:"Jobs"})}}),0),n},t.prototype.getEffectBeingConsumed=function(e){var t=pu.filter((function(t){var n;return!!(null===(n=t.getEffectConsumption)||void 0===n?void 0:n[e])})),n=[];return this.jobs.forEach((function(i){var o,r=t.find((function(e){return e.id===i.id}));if(r&&(null===(o=r.getEffectConsumption)||void 0===o?void 0:o[e])){var a=P.calculate(ZE,r.getEffectConsumption[e],0,i.amount)*i.efficiency;n.push({label:"Job: ".concat(r.name),value:a,id:"job-".concat(r.id),category:"Jobs"})}}),0),n},t.prototype.getResourceBeingProduced=function(e){var t=pu.filter((function(t){return t.getGain&&!!t.getGain[e]})),n=[],i=ZE.colony.getColonistsHappiness();return console.log("happ: ",i),this.jobs.forEach((function(o){var r,a=t.find((function(e){return e.id===o.id}));if(a&&(null===(r=a.getGain)||void 0===r?void 0:r[e])){var c=P.calculate(ZE,a.getGain[e],0,o.amount)*o.efficiency*i;n.push({label:"Job: ".concat(a.name),value:c,id:"job-".concat(a.id),category:"Jobs"})}}),0),n},t.prototype.getResourceBeingConsumed=function(e){var t=pu.filter((function(t){return t.getConsumption&&!!t.getConsumption[e]})),n=[];return this.jobs.forEach((function(i){var o,r=t.find((function(e){return e.id===i.id}));if(r&&(null===(o=r.getConsumption)||void 0===o?void 0:o[e])){var a=P.calculate(ZE,r.getConsumption[e],0,i.amount)*i.efficiency;n.push({label:"Job: ".concat(r.name),value:a,id:"job-".concat(r.id),category:"Jobs"})}}),0),n},t.prototype.getResourceBeingMultiplied=function(e){var t=pu.filter((function(t){return t.getMultiplier&&!!t.getMultiplier[e]})),n=[];return this.jobs.forEach((function(i){var o,r=t.find((function(e){return e.id===i.id}));if(r&&(null===(o=r.getMultiplier)||void 0===o?void 0:o[e])){var a=P.calculate(ZE,r.getMultiplier[e],0,i.amount)*i.efficiency;n.push({label:"Job: ".concat(r.name),value:a,id:"job-".concat(r.id),category:"Jobs"})}}),0),n},t.prototype.resetEfficiency=function(){var e=this;this.jobs.forEach((function(t,n){e.jobs[n].efficiency=1}))},t.prototype.adaptEfficiency=function(){var e=this,t=Js.lackEfficiencyResources,n=Object.keys(t);this.jobs.forEach((function(i,o){var r=pu.find((function(e){return e.id===i.id}));if(r&&r.getConsumption){var a=Object.keys(r.getConsumption);n.filter((function(e){return a.includes(e)})).forEach((function(n){e.jobs[o].efficiency=Math.min(e.jobs[o].efficiency,t[n]||0)}))}}))},t.prototype.process=function(e){var t=ZE.colony.colonists-this.getBusyWorkers();if(t<0){for(var n=this.jobs.length-1;n>=0;n--){var i=Math.min(this.jobs[n].amount,-t);if(this.jobs[n].amount-=i,(t+=i)>=0)break}ZE.resources.reassertBalances()}this.freeWorkers=t},t.prototype.reset=function(){this.jobs=[]},t}(O),Au=gu.getInstance(),fu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Nu=function(){return Nu=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Nu.apply(this,arguments)},Ru=function(e){function t(){var t=e.call(this)||this;return t.happinessEffects={},t.happinessEffectsExcess={},t.happinessBreakdowns={},t}return fu(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){},t.prototype.exportData=function(){return[]},t.prototype.dataToUI=function(){var e=this;return{effects:C.map((function(t){return e.processToUI(t)})),happiness:this.assertHappiness()}},t.prototype.assertHappiness=function(){return Math.pow(Object.values(this.happinessEffects).reduce((function(e,t){return e*(t/100)}),1),.25)},t.prototype.assertConsumptionMitigation=function(){return Math.pow(.98,ZE.landingZone.landingZoneBuildings.getBuildingActiveLevel(i.ADMINISTRATIVE_CENTER))*Math.pow(.9,ZE.landingZone.landingZoneUpgrades.getUpgradeLevel(n.GORMONE_DELIVERY_NANOBOTS))},t.prototype.getEffectBeingConsumed=function(e){var t=[],n=C.find((function(t){return t.id===e}));if(null==n?void 0:n.getConsumption){var i=n.getConsumption(ZE)*this.assertConsumptionMitigation();t.push({label:"Population",value:i,id:"population",category:"Population"})}return t},t.prototype.getBreakdowns=function(){var e=this,t=function(e){var t,n,i,o,r,a,c,s,u,l,p,E=((t={})[T.SECURITY]={linear:[{id:"basic",label:"Basic",value:100,category:"Base"}],multiplier:[],consumption:[]},t[T.AESTHETICS]={linear:[{id:"basic",label:"Basic",value:100,category:"Base"}],multiplier:[],consumption:[]},t[T.ENTERTAINMENT]={linear:[{id:"basic",label:"Basic",value:100,category:"Base"}],multiplier:[],consumption:[]},t[T.HEALTHCARE]={linear:[{id:"basic",label:"Basic",value:100,category:"Base"}],multiplier:[],consumption:[]},t[T.RELIGION]={linear:[{id:"basic",label:"Basic",value:100,category:"Base"}],multiplier:[],consumption:[]},t[T.WORK_CONDITIONS]={linear:[{id:"basic",label:"Basic",value:100,category:"Base"}],multiplier:[],consumption:[]},t);for(var d in E)(n=E[d].linear).push.apply(n,ZE.landingZone.landingZoneBuildings.getEffectGain(d)),(i=E[d].multiplier).push.apply(i,ZE.landingZone.landingZoneBuildings.getEffectMultiplier(d)),null===(s=E[d].consumption)||void 0===s||s.push.apply(s,ZE.landingZone.landingZoneBuildings.getEffectBeingConsumed(d)),(o=E[d].linear).push.apply(o,ZE.colony.colonyJobs.getEffectGain(d)),(r=E[d].multiplier).push.apply(r,ZE.colony.colonyJobs.getEffectMultiplier(d)),null===(u=E[d].consumption)||void 0===u||u.push.apply(u,ZE.colony.colonyJobs.getEffectBeingConsumed(d)),null===(l=E[d].consumption)||void 0===l||l.push.apply(l,ZE.colony.colonyEffects.getEffectBeingConsumed(d)),(a=E[d].linear).push.apply(a,ZE.laws.getEffectGain(d)),(c=E[d].multiplier).push.apply(c,ZE.laws.getEffectMultiplier(d)),null===(p=E[d].consumption)||void 0===p||p.push.apply(p,ZE.laws.getEffectBeingConsumed(d));return E}(),n={};C.forEach((function(i){var o,r,a;if(i.unlockCondition(ZE)){n[i.id]={income:[],multiplier:[],consumption:[]};var c=null===(o=t[i.id].linear)||void 0===o?void 0:o.reduce((function(e,t){return e+t.value}),0),s=null===(r=t[i.id].multiplier)||void 0===r?void 0:r.reduce((function(e,t){return e*t.value}),1),u=(null===(a=t[i.id].consumption)||void 0===a?void 0:a.reduce((function(e,t){return e+t.value}),0))||0;e.happinessEffects[i.id]=Math.min(i.maximum,Math.max(i.minimum,c*s-u)),e.happinessEffectsExcess[i.id]=Math.max(0,c*s-u-i.maximum),n[i.id].income=t[i.id].linear.filter((function(e){return e.value})).map((function(e){return Nu(Nu({},e),{value:"+".concat(e.value.toPrecision(4))})})),n[i.id].multiplier=t[i.id].multiplier.filter((function(e){return 1!==e.value})).map((function(e){return Nu(Nu({},e),{value:"x".concat(e.value.toPrecision(4))})})),n[i.id].consumption=t[i.id].consumption.filter((function(e){return e.value})).map((function(e){return Nu(Nu({},e),{value:"-".concat(e.value.toPrecision(4))})}))}})),this.happinessBreakdowns=n},t.prototype.processToUI=function(e){e.getConsumption&&e.getConsumption(ZE);var t,n,i,o=e.unlockCondition(ZE);return o&&ZE.newNotifications.registerNotification("planet:colony:effects:".concat(e.id)),{id:e.id,name:e.name,isUnlocked:o,amount:_(null!==(t=this.happinessEffects[e.id])&&void 0!==t?t:0),excess:null!==(n=this.happinessEffectsExcess[e.id])&&void 0!==n?n:0,breakdown:null!==(i=this.happinessBreakdowns[e.id])&&void 0!==i?i:{income:[],multiplier:[],consumption:[]}}},t.prototype.process=function(e){this.getBreakdowns()},t.prototype.reset=function(){this.happinessBreakdowns={},this.happinessEffects={}},t}(O),Iu=Ru.getInstance(),Ou=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),yu=function(e){function t(){var t=e.call(this)||this;return t.colonists=0,t.maxColonists=0,t.colonyJobs=Au,t.colonyEffects=Iu,t}return Ou(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.colonists=e.colonists||0,this.colonyJobs.importData(e.jobs)},t.prototype.exportData=function(){return{jobs:this.colonyJobs.exportData(),colonists:this.colonists}},t.prototype.dataToUI=function(){return{colonists:this.colonists||0,maxColonists:this.maxColonists,isUnlocked:ZE.landingZone.landingZoneUpgrades.getUpgradeLevel(n.DOCKING_MODULE)>0,jobs:this.colonyJobs.dataToUI(),effects:this.colonyEffects.dataToUI()}},t.prototype.getMaxColonists=function(){return Math.round(ZE.landingZone.landingZoneBuildings.getColonistsCap().reduce((function(e,t){return e+t.value}),0))},t.prototype.getColonistsHappiness=function(){return this.colonyEffects.assertHappiness()},t.prototype.missingSupply=function(){return!!this.colonists&&(null!=Js.lackEfficiencyResources[a.NUTRITION]&&(Js.lackEfficiencyResources[a.NUTRITION]||0)<1||null!=Js.lackEfficiencyResources[a.WATER]&&(Js.lackEfficiencyResources[a.WATER]||0)<1)},t.prototype.process=function(e){this.maxColonists=this.getMaxColonists(),(this.missingSupply()||this.colonists>this.maxColonists)&&(console.log("missing supply. Colonist is leaving"),this.colonists--,ZE.resources.reassertBalances()),this.colonists<this.maxColonists&&Math.random()<.02&&(this.colonists++,ZE.resources.reassertBalances()),this.colonyEffects.process(e),this.colonyJobs.process(e)},t.prototype.reset=function(){this.colonists=0,this.maxColonists=0,this.colonyJobs.reset(),this.colonyEffects.reset()},t}(O).getInstance(),mu=[{id:y.EXOFARMING,name:"Exo Farming",description:"Learn how to work with soil on a foreign planet. Allows employing farmers",getCost:(za={},za[a.RESEARCH]=function(t){return{A:25,B:0,type:e.LINEAR}},za),unlockCondition:function(e){return!0}},{id:y.METEOROLOGY,name:"Meteorology",description:"Learn more about the atmosphere and its weather patterns. Unlocks new upgrades and buildings",getCost:(Qa={},Qa[a.RESEARCH]=function(t){return{A:75,B:0,type:e.LINEAR}},Qa),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.EXOFARMING)>0}},{id:y.MINERALOGY,name:"Mineralogy",description:"Learn more about minerals available at your new home",getCost:(Ja={},Ja[a.RESEARCH]=function(t){return{A:125,B:0,type:e.LINEAR}},Ja),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.EXOFARMING)>0}},{id:y.CIVIL_SERVICE,name:"Service Industry",description:"Unlock new ways of providing services to your growing colony",getCost:($a={},$a[a.RESEARCH]=function(t){return{A:225,B:0,type:e.LINEAR}},$a),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.EXOFARMING)>0}},{id:y.ENGINEERING,name:"High-Gravity Engineering",description:"Learn about engineering specific to high gravity conditions",getCost:(ec={},ec[a.RESEARCH]=function(t){return{A:200,B:0,type:e.LINEAR}},ec),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.MINERALOGY)>0}},{id:y.EXOBIOLOGY,name:"Exo Biology",description:"Learn more about local organisms",getCost:(tc={},tc[a.RESEARCH]=function(t){return{A:225,B:0,type:e.LINEAR}},tc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.METEOROLOGY)>0}},{id:y.EXOFORESTRY,name:"Exo Forestry",description:"Learn how to grow something bigger in this empty terrain",getCost:(nc={},nc[a.RESEARCH]=function(t){return{A:375,B:0,type:e.LINEAR}},nc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.EXOBIOLOGY)>0}},{id:y.METALLURGY,name:"Metallurgy",description:"Learn how to work with exotic ores. Unlocks crafting and artisan job",getCost:(ic={},ic[a.RESEARCH]=function(t){return{A:420,B:0,type:e.LINEAR}},ic),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.MINERALOGY)>0}},{id:y.FLORA_RESEARCH,name:"Exo Flora",description:"Advanced flora researches unlocks new tools to boost agriculture",getCost:(oc={},oc[a.RESEARCH]=function(t){return{A:425,B:0,type:e.LINEAR}},oc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.EXOFORESTRY)>0}},{id:y.CHEMISTRY,name:"Chemistry",description:"Study the material interactions of elements in this foreign environment. Unlocks new materials and upgrades",getCost:(rc={},rc[a.RESEARCH]=function(t){return{A:575,B:0,type:e.LINEAR}},rc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.FLORA_RESEARCH)>0}},{id:y.GEOLOGY,name:"Geology",description:"Further research precious minerals available at your new habitat",getCost:(ac={},ac[a.RESEARCH]=function(t){return{A:550,B:0,type:e.LINEAR}},ac),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.METALLURGY)>0}},{id:y.GEOGRAPHY,name:"Geography",description:"Geography knowledge unlocks expeditions",getCost:(cc={},cc[a.RESEARCH]=function(t){return{A:500,B:0,type:e.LINEAR}},cc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.METEOROLOGY)>0}},{id:y.SOCIOLOGY,name:"Sociology",description:"Unlocks new ways to make your little society happier and more efficient",getCost:(sc={},sc[a.RESEARCH]=function(t){return{A:550,B:0,type:e.LINEAR}},sc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.CIVIL_SERVICE)>0}},{id:y.MATERIAL_KNOWLEDGE,name:"Material Knowledge",description:"Further advances crafting and metal processing",getCost:(uc={},uc[a.RESEARCH]=function(t){return{A:825,B:0,type:e.LINEAR}},uc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.CHEMISTRY)>0}},{id:y.CODEX_OF_LAW,name:"Law",description:"Unlocks new aspects of your colony development",getCost:(lc={},lc[a.RESEARCH]=function(t){return{A:1050,B:0,type:e.LINEAR}},lc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.SOCIOLOGY)>0}},{id:y.ELECTRICITY_STUDY,name:"Electricity Study",description:"Improves knowledge about conductivity of various materials",getCost:(pc={},pc[a.RESEARCH]=function(t){return{A:1375,B:0,type:e.LINEAR}},pc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.MATERIAL_KNOWLEDGE)>0}},{id:y.ORGANIC_CHEMISTRY,name:"Organic Chemistry",description:"Learn about new uses for biomass",getCost:(Ec={},Ec[a.RESEARCH]=function(t){return{A:1025,B:0,type:e.LINEAR}},Ec),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.MATERIAL_KNOWLEDGE)>0}},{id:y.ELECTRONICS,name:"Electronics",description:"Learn how to produce electronics and incorporate it",getCost:(dc={},dc[a.RESEARCH]=function(t){return{A:2e3,B:0,type:e.LINEAR}},dc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.ELECTRICITY_STUDY)>0}},{id:y.PUBLIC_SERVICE,name:"Civil Service",description:"Unlock new civil service jobs and buildings",getCost:(gc={},gc[a.RESEARCH]=function(t){return{A:2e3,B:0,type:e.LINEAR}},gc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.CODEX_OF_LAW)>0}},{id:y.PRINTING_3D,name:"3D Printing",description:"Unlock new powerful tools that will help you boost your colony development",getCost:(Ac={},Ac[a.RESEARCH]=function(t){return{A:4e3,B:0,type:e.LINEAR}},Ac),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.ELECTRONICS)>0}},{id:y.HIGH_GRAVITY_PHYSICS,name:"Advanced Physics",description:"Learn more about surviving and creating in high gravity conditions",getCost:(fc={},fc[a.RESEARCH]=function(t){return{A:4e3,B:0,type:e.LINEAR}},fc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.ELECTRICITY_STUDY)>0}},{id:y.ADVANCED_ANATOMY,name:"Advanced Anatomy",description:"Further research human body can make maintaining larger colony much easier",getCost:(Nc={},Nc[a.RESEARCH]=function(t){return{A:2600,B:0,type:e.LINEAR}},Nc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.ORGANIC_CHEMISTRY)>0}},{id:y.ROCKET_SCIENCE,name:"Rocket Science",description:"Literally. There is too little space on our planet, isn't it?",getCost:(Rc={},Rc[a.RESEARCH]=function(t){return{A:5600,B:0,type:e.LINEAR}},Rc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.ORGANIC_CHEMISTRY)>0&&ZE.science.scienceResearches.getResearchLevel(y.HIGH_GRAVITY_PHYSICS)>0}},{id:y.ADVANCED_BIOLOGY,name:"Advanced Biology",description:"Further advance biology knowledge. Create new methods of boosting nutritional value and unlock new research",getCost:(Ic={},Ic[a.RESEARCH]=function(t){return{A:4250,B:0,type:e.LINEAR}},Ic),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.ADVANCED_ANATOMY)>0}},{id:y.RADIATION_STUDY,name:"Radiation Study",description:"Learn more about impact of radiation on living organisms. Unlocks piloted missions",getCost:(Oc={},Oc[a.RESEARCH]=function(t){return{A:5900,B:0,type:e.LINEAR}},Oc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.ADVANCED_BIOLOGY)>0}},{id:y.QUANTUM_PHYSICS,name:"Quantum Physics",description:"Better understanding of quantum physics can significantly boost the productivity of your civilization",getCost:(yc={},yc[a.RESEARCH]=function(t){return{A:6215,B:0,type:e.LINEAR}},yc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.HIGH_GRAVITY_PHYSICS)>0}},{id:y.GRAVITY_THEORY,name:"Gravity Theory",description:"Better understanding of gravitational forces on flying objects will help with rocket launches. Allows you to send missions to other planets",getCost:(mc={},mc[a.RESEARCH]=function(t){return{A:8750,B:0,type:e.LINEAR}},mc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.QUANTUM_PHYSICS)>0}},{id:y.NANO_PHYSICS,name:"Nano-Physics",description:"Further research into nanotechnology can increase your civilization productivity even more",getCost:(hc={},hc[a.RESEARCH]=function(t){return{A:8750,B:0,type:e.LINEAR}},hc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.QUANTUM_PHYSICS)>0}},{id:y.ASTROPHYSICS,name:"Astrophysics",description:"Allows to further advance your understanding of celestial bodies through new scientific telescopes",getCost:(Tc={},Tc[a.RESEARCH]=function(t){return{A:9500,B:0,type:e.LINEAR}},Tc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.GRAVITY_THEORY)>0}},{id:y.RELATIVITY_PHYSICS,name:"Relativity Physics",description:"Learn more about spacetime continuum. Unlocks new tech and further traveling",getCost:(Lc={},Lc[a.RESEARCH]=function(t){return{A:11500,B:0,type:e.LINEAR}},Lc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.GRAVITY_THEORY)>0}},{id:y.ADVANCED_GENETICS,name:"Advanced Genetics",description:"Push further your genetics knowledge to learn how species can be modified",getCost:(Cc={},Cc[a.RESEARCH]=function(t){return{A:13500,B:0,type:e.LINEAR}},Cc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.NANO_PHYSICS)>0&&ZE.science.scienceResearches.getResearchLevel(y.ADVANCED_BIOLOGY)>0}},{id:y.PHOTOCHEMISTRY,name:"Photochemistry",description:"Learn more about ionizing radiation impact on chemical reactions. Unlocks new upgrades",getCost:(vc={},vc[a.RESEARCH]=function(t){return{A:11e3,B:0,type:e.LINEAR}},vc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.QUANTUM_PHYSICS)>0}},{id:y.HIGH_ENERGY_PHYSICS,name:"High Energy Physics",description:"We are so miserable comparing to bright far stars and supernova explosions. Learn how to deal with more energy to expand your capabilities even more. Unlocks further flights and more important researches",getCost:(Sc={},Sc[a.RESEARCH]=function(t){return{A:17e3,B:0,type:e.LINEAR}},Sc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.RELATIVITY_PHYSICS)>0}},{id:y.PHOTO_LITHOGRAPHY,name:"Photo-Lithography",description:"Use your advances in quantum physics and material knowledge to boost production of tiny things. Unlocks new upgrades",getCost:(Pc={},Pc[a.RESEARCH]=function(t){return{A:17200,B:0,type:e.LINEAR}},Pc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.PHOTOCHEMISTRY)>0}},{id:y.THERMONUCLEAR_SYNTHESIS,name:"Thermonuclear synthesis",description:"Learn more about high temperature physics to unlock new source of power",getCost:(Bc={},Bc[a.RESEARCH]=function(t){return{A:23500,B:0,type:e.LINEAR}},Bc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.HIGH_ENERGY_PHYSICS)>0}},{id:y.ADVANCED_POLYMERIZATION,name:"Advanced Polymers",description:"Utilize a highly ionized environment to generate sophisticated, radiation- and temperature-hardened polymers. Unlocking new upgrades",getCost:(_c={},_c[a.RESEARCH]=function(t){return{A:24500,B:0,type:e.LINEAR}},_c),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.PHOTO_LITHOGRAPHY)>0}},{id:y.MOLECULAR_PHYSICS,name:"Advanced Molecular Physics",description:"Learn how to generate more sophisticated compounds to boost your development",getCost:(Mc={},Mc[a.RESEARCH]=function(t){return{A:25500,B:0,type:e.LINEAR}},Mc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.PHOTO_LITHOGRAPHY)>0}},{id:y.SUPER_CONDUCTIVITY,name:"Super-conductivity",description:"Low temperatures causes some materials become incredibly good conductors. Learn more about this phenomena and how you can use it.",getCost:(Uc={},Uc[a.RESEARCH]=function(t){return{A:31125,B:0,type:e.LINEAR}},Uc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.THERMONUCLEAR_SYNTHESIS)>0}},{id:y.ADVANCED_COMPOSITES,name:"Advanced Composites",description:"Learn how to combine metal with plastic to create extremely heat- and hit-hardened materials. Unlocking new upgrades and resources",getCost:(Gc={},Gc[a.RESEARCH]=function(t){return{A:33100,B:0,type:e.LINEAR}},Gc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.ADVANCED_POLYMERIZATION)>0}},{id:y.MAGNETODYNAMICS,name:"Magneto-Dynamics",description:"Running extremely strong current unlocks opportunity to generate huge magnetic field. Learn more about how to maintain and use it",getCost:(bc={},bc[a.RESEARCH]=function(t){return{A:36500,B:0,type:e.LINEAR}},bc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.SUPER_CONDUCTIVITY)>0}},{id:y.SPACESHIP_BUILDINGS,name:"Spaceship Construction",description:"Allows building spaceships for interstellar flights",getCost:(Dc={},Dc[a.RESEARCH]=function(t){return{A:47500,B:0,type:e.LINEAR}},Dc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.SUPER_CONDUCTIVITY)>0&&ZE.science.scienceResearches.getResearchLevel(y.MOLECULAR_PHYSICS)>0}},{id:y.PARTICLE_PHYSICS,name:"Particle Physics",description:"Learn more about elementary particles",getCost:(wc={},wc[a.RESEARCH]=function(t){return{A:54500,B:0,type:e.LINEAR}},wc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.MAGNETODYNAMICS)>0}},{id:y.ADVANCED_SPACE_CONSTRUCTION,name:"Advanced Space Construction",description:"Learn more about building in space",getCost:(Xc={},Xc[a.RESEARCH]=function(t){return{A:57500,B:0,type:e.LINEAR}},Xc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.SPACESHIP_BUILDINGS)>0}},{id:y.ADVANCED_THERMODYNAMICS,name:"Advanced Thermodynamics",description:"Advance your knowledge about high temperature environments",getCost:(Hc={},Hc[a.RESEARCH]=function(t){return{A:57500,B:0,type:e.LINEAR}},Hc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.ADVANCED_COMPOSITES)>0}},{id:y.EXOPLANET_SCIENCE,name:"Exoplanet Science",description:"Learn more about exoplanets. Unlocks new option to search planets.",getCost:(xc={},xc[a.RESEARCH]=function(t){return{A:59500,B:0,type:e.LINEAR}},xc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.SPACESHIP_BUILDINGS)>0}},{id:y.LOW_TEMP_PHYSICS,name:"Low Temperature Physics",description:"Low temperatures can significantly reduce molecule decay rates. Learn how to use it to generate more sophisticated organics",getCost:(kc={},kc[a.RESEARCH]=function(t){return{A:71500,B:0,type:e.LINEAR}},kc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.ADVANCED_THERMODYNAMICS)>0}},{id:y.NEUTRINO_PHYSICS,name:"Neutrino Physics",description:"Neutrinos are particles that interacts with other matter very weakly. Learn how to use it for your civilization development",getCost:(Yc={},Yc[a.RESEARCH]=function(t){return{A:73500,B:0,type:e.LINEAR}},Yc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.PARTICLE_PHYSICS)>0}},{id:y.QUARK_PHYSICS,name:"Quark Physics",description:"Learn more about what matter is made of",getCost:(Wc={},Wc[a.RESEARCH]=function(t){return{A:74500,B:0,type:e.LINEAR}},Wc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.PARTICLE_PHYSICS)>0}},{id:y.CRYOGENICS,name:"Cryogenics",description:"Learn more about properties of materials at extremely low temperatures",getCost:(Zc={},Zc[a.RESEARCH]=function(t){return{A:93500,B:0,type:e.LINEAR}},Zc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.LOW_TEMP_PHYSICS)>0}},{id:y.SPACE_ORGANICS,name:"Space Biology",description:"Learn more about specific of your colonists and other organisms living in space.",getCost:(Fc={},Fc[a.RESEARCH]=function(t){return{A:91500,B:0,type:e.LINEAR}},Fc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.ADVANCED_SPACE_CONSTRUCTION)>0}},{id:y.NANO_BIOLOGY,name:"Nano-Biology",description:"Use your previous researches in biology, nanophysics and photochemistry to investigate organisms and viruses creation",getCost:(Vc={},Vc[a.RESEARCH]=function(t){return{A:121500,B:0,type:e.LINEAR}},Vc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.SPACE_ORGANICS)>0}},{id:y.ADVANCED_NUCLEAR_RESEARCH,name:"Advanced Nuclear Research",description:"Using your knowledge about what protons and neutrons consists of you can learn more about nuclear manipulations",getCost:(jc={},jc[a.RESEARCH]=function(t){return{A:124500,B:0,type:e.LINEAR}},jc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.QUARK_PHYSICS)>0}},{id:y.ADVANCED_SUPERCONDUCTIVITY,name:"Advanced Super-conductivity",description:"Use your knowledge about material properties in extremely low temperatures to understand better super-conductivity phenomena",getCost:(Kc={},Kc[a.RESEARCH]=function(t){return{A:132500,B:0,type:e.LINEAR}},Kc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.CRYOGENICS)>0}},{id:y.QUANTUM_MAGNETICS,name:"Quantum Magnetics",description:"Run more experiments about quantum effects under very powerful magnetic fields",getCost:(qc={},qc[a.RESEARCH]=function(t){return{A:169e3,B:0,type:e.LINEAR}},qc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.ADVANCED_SUPERCONDUCTIVITY)>0}},{id:y.QUANTUM_MAGNETICS_DETECTION,name:"Quantum Magnetic Detection",description:"Learn how to use quantum magnetic effects to build more sensitive detectors",getCost:(zc={},zc[a.RESEARCH]=function(t){return{A:225e3,B:0,type:e.LINEAR}},zc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.QUANTUM_MAGNETICS)>0}},{id:y.QUANTUM_STATE_STUDY,name:"Quantum State Study",description:"Learn how to manipulate with quantum state of matter to use quantum mechanics on practise",getCost:(Qc={},Qc[a.RESEARCH]=function(t){return{A:265e3,B:0,type:e.LINEAR}},Qc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.QUANTUM_MAGNETICS_DETECTION)>0}},{id:y.QUARK_GLUON_PLASMA_STUDY,name:"Quark-gluon plasma study",description:"Learn more about quark-gluon plasma that appears under extreme high temperature/pressure conditions",getCost:(Jc={},Jc[a.RESEARCH]=function(t){return{A:146500,B:0,type:e.LINEAR}},Jc),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.ADVANCED_NUCLEAR_RESEARCH)>0}},{id:y.HIGH_DENSITY_STUDY,name:"High Density Study",description:"Run some experiments over extremely pressed matter to learn more about high density physics",getCost:($c={},$c[a.RESEARCH]=function(t){return{A:205500,B:0,type:e.LINEAR}},$c),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.QUARK_GLUON_PLASMA_STUDY)>0}},{id:y.GRAVITONE_STUDY,name:"Graviton Study",description:"Learn more about gravity waves and graviton particles",getCost:(es={},es[a.RESEARCH]=function(t){return{A:275500,B:0,type:e.LINEAR}},es),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.HIGH_DENSITY_STUDY)>0}},{id:y.ORGANIC_NANOCONSTRUCTION,name:"Organic Nano-construction",description:"Learn how to create organic-friendly nanobots that can be embedded into any living organism",getCost:(ts={},ts[a.RESEARCH]=function(t){return{A:147500,B:0,type:e.LINEAR}},ts),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.NANO_BIOLOGY)>0}},{id:y.ORGANIC_BASED_COMPUTATION,name:"Organic-based computation",description:"Improve your knowledge about organics synthesis to create synthetic neurons that can be more efficient than standard transistors in some cases",getCost:(ns={},ns[a.RESEARCH]=function(t){return{A:177500,B:0,type:e.LINEAR}},ns),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.ORGANIC_NANOCONSTRUCTION)>0}},{id:y.SYNTHETIC_ORGANISMS,name:"Synthetic Organisms",description:"Learn how to create exotic bacteria from scratch and make them working for you",getCost:(is={},is[a.RESEARCH]=function(t){return{A:215e3,B:0,type:e.LINEAR}},is),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.ORGANIC_BASED_COMPUTATION)>0}},{id:y.ANDROID_CONSTRUCTION,name:"Android Construction",description:"Allows you creating human-like androids",getCost:(os={},os[a.RESEARCH]=function(t){return{A:295e3,B:0,type:e.LINEAR}},os),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.SYNTHETIC_ORGANISMS)>0}},{id:y.DARK_MATTER_STUDY,name:"Dark Matter Study",description:"Learn more about dark matter. Provides you technologies to catch trace amount of dark matter by specific structure in the space and use it in your technological processes",getCost:(rs={},rs[a.RESEARCH]=function(t){return{A:325e3,B:0,type:e.LINEAR}},rs),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.GRAVITONE_STUDY)>0}},{id:y.ADVANCED_ORGANISMS_GENERATION,name:"Advanced Organisms Generation",description:"Improve your mastery in synthetic organisms creation",getCost:(as={},as[a.RESEARCH]=function(t){return{A:385e3,B:0,type:e.LINEAR}},as),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.ANDROID_CONSTRUCTION)>0}},{id:y.DEGENERATE_MATTER,name:"Degenerate Matter",description:"Learn more about degenerate matter state, and ways to use it in your production cycles",getCost:(cs={},cs[a.RESEARCH]=function(t){return{A:425e3,B:0,type:e.LINEAR}},cs),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.QUANTUM_STATE_STUDY)>0}},{id:y.EXPANDED_PARTICLE_THEORY,name:"Expanded Particle Theory",description:"Invest your research efforts into understanding more particle physics",getCost:(ss={},ss[a.RESEARCH]=function(t){return{A:485e3,B:0,type:e.LINEAR}},ss),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.DARK_MATTER_STUDY)>0}},{id:y.BOSE_EINSTEIN_CONDENSATE,name:"Bose Einstein Condensate",description:"Learn more about specific matter state under extremely low temperatures",getCost:(us={},us[a.RESEARCH]=function(t){return{A:545e3,B:0,type:e.LINEAR}},us),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.DEGENERATE_MATTER)>0}},{id:y.EXOTIC_BIOCHEMISTRY,name:"Exotic Biochemistry",description:"Embed artificial mitochondria into your bacteria cells to find new use for your micro-flora",getCost:(ls={},ls[a.RESEARCH]=function(t){return{A:645e3,B:0,type:e.LINEAR}},ls),unlockCondition:function(e){return ZE.science.scienceResearches.getResearchLevel(y.ADVANCED_ORGANISMS_GENERATION)>0}}],hu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Tu=function(e){function t(){var t=e.call(this)||this;return t.researches=[],t.freeWorkers=0,t.workDispatcher.on("[science] do research",(function(e){console.log("research",e),t.doResearch(e.id)})),t}return hu(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.researches=e},t.prototype.exportData=function(){return this.researches},t.prototype.dataToUI=function(){var e=this;return{list:mu.map((function(t){return e.processToUI(t)}))}},t.prototype.getResearchLevel=function(e){var t;return(null===(t=this.researches.find((function(t){return t.id===e})))||void 0===t?void 0:t.amount)||0},t.prototype.processToUI=function(e){var t=this.researches.find((function(t){return t.id===e.id}));t||(t={id:e.id,amount:0},this.researches.push(t));var i=P.calcBatchAll(e.getCost,WE.getInstance(),t.amount,WE.getInstance().resources.getBatchObject()),o=i.reduce((function(e,t){return Math.min(e,t.max)}),1e300),r=i.reduce((function(e,t){return e&&!t.isBlocked}),!0),a=i.reduce((function(e,t){return Math.max(e,t.eta)}),0),c=e.unlockCondition(ZE);return c&&0===t.amount&&ZE.landingZone.landingZoneUpgrades.getUpgradeLevel(n.RESEARCH_MODULE)>0&&ZE.newNotifications.registerNotification("science:researches:".concat(e.id)),{id:e.id,name:e.name,description:e.description,isUnlocked:c,isAvailable:o>=1,cost:WE.getInstance().resources.assertEnought(i,WE.getInstance().resources.getBatchObject(),WE.getInstance().resources.getBatchBalanceObject()),progress:o<1?(100*o).toPrecision(3):"100",isResearched:t.amount>0,isBlocked:!r,etaNum:a}},t.prototype.doResearch=function(e){var t=this.researches.findIndex((function(t){return t.id===e}));t<0&&(t=this.researches.length,this.researches.push({id:e,amount:0}));var n=mu.find((function(t){return t.id===e}));if(n){var i=P.calcBatchAll(n.getCost,WE.getInstance(),this.researches[t].amount,WE.getInstance().resources.getBatchObject());i.reduce((function(e,t){return Math.min(e,Math.floor(t.max))}),1e300)<1||(WE.getInstance().resources.subtractResourceBatch(i),this.researches[t].amount++,ZE.resources.reassertBalances())}},t.prototype.process=function(e){},t.prototype.reset=function(){this.researches=[]},t}(O),Lu=Tu.getInstance(),Cu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),vu=function(e){function t(){var t=e.call(this)||this;return t.scienceResearches=Lu,t}return Cu(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.scienceResearches.importData(e.research)},t.prototype.exportData=function(){return{research:this.scienceResearches.exportData()}},t.prototype.dataToUI=function(){return{research:this.scienceResearches.dataToUI(),isUnlocked:ZE.landingZone.landingZoneUpgrades.getUpgradeLevel(n.RESEARCH_MODULE)>0}},t.prototype.process=function(e){this.scienceResearches.process(e)},t.prototype.reset=function(){this.scienceResearches.reset()},t}(O).getInstance(),Su=[{id:a.BEAM,complexity:100,getConsumption:(ps={},ps[a.WOOD]=function(t){return{A:.25,B:0,type:e.LINEAR}},ps),getGain:(Es={},Es[a.BEAM]=function(t){return{A:.01*uu(t),B:0,type:e.LINEAR}},Es)},{id:a.BRICK,complexity:100,getConsumption:(ds={},ds[a.STONE]=function(t){return{A:.75,B:0,type:e.LINEAR}},ds),getGain:(gs={},gs[a.BRICK]=function(t){return{A:.01*uu(t),B:0,type:e.LINEAR}},gs)},{id:a.PLATE,complexity:100,getConsumption:(As={},As[a.IRON]=function(t){return{A:.1,B:0,type:e.LINEAR}},As),getGain:(fs={},fs[a.PLATE]=function(t){return{A:.002*uu(t),B:0,type:e.LINEAR}},fs)},{id:a.WIRE,complexity:100,getConsumption:(Ns={},Ns[a.IRON]=function(t){return{A:.1,B:0,type:e.LINEAR}},Ns),getGain:(Rs={},Rs[a.WIRE]=function(t){return{A:.002*uu(t),B:0,type:e.LINEAR}},Rs)},{id:a.FUEL,complexity:250,getConsumption:(Is={},Is[a.BIOMASS]=function(t){return{A:.5,B:0,type:e.LINEAR}},Is[a.WATER]=function(t){return{A:.1,B:0,type:e.LINEAR}},Is),getGain:(Os={},Os[a.FUEL]=function(t){return{A:.002*uu(t),B:0,type:e.LINEAR}},Os)},{id:a.RUBBER,complexity:100,getConsumption:(ys={},ys[a.BIOMASS]=function(t){return{A:1,B:0,type:e.LINEAR}},ys[a.POWER]=function(t){return{A:.1,B:0,type:e.LINEAR}},ys),getGain:(ms={},ms[a.RUBBER]=function(t){return{A:.008*uu(t),B:0,type:e.LINEAR}},ms)},{id:a.PLASTICS,complexity:100,getConsumption:(hs={},hs[a.BIOMASS]=function(t){return{A:1,B:0,type:e.LINEAR}},hs[a.POWER]=function(t){return{A:.1,B:0,type:e.LINEAR}},hs),getGain:(Ts={},Ts[a.PLASTICS]=function(t){return{A:.008*uu(t),B:0,type:e.LINEAR}},Ts)},{id:a.SEMICONDUCTOR,complexity:100,getConsumption:(Ls={},Ls[a.IRON]=function(t){return{A:.02,B:0,type:e.LINEAR}},Ls[a.STONE]=function(t){return{A:1,B:0,type:e.LINEAR}},Ls),getGain:(Cs={},Cs[a.SEMICONDUCTOR]=function(t){return{A:.004*uu(t),B:0,type:e.LINEAR}},Cs)},{id:a.COMPUTER,complexity:250,getConsumption:(vs={},vs[a.SEMICONDUCTOR]=function(t){return{A:.1,B:0,type:e.LINEAR}},vs[a.PLASTICS]=function(t){return{A:.1,B:0,type:e.LINEAR}},vs),getGain:(Ss={},Ss[a.COMPUTER]=function(t){return{A:.004*uu(t),B:0,type:e.LINEAR}},Ss)},{id:a.ROCKET_ENGINE,complexity:750,getConsumption:(Ps={},Ps[a.PLATE]=function(t){return{A:.1,B:0,type:e.LINEAR}},Ps[a.FUEL]=function(t){return{A:.1,B:0,type:e.LINEAR}},Ps),getGain:(Bs={},Bs[a.ROCKET_ENGINE]=function(t){return{A:.002*uu(t),B:0,type:e.LINEAR}},Bs)},{id:a.GRAPHENE,complexity:750,getConsumption:(_s={},_s[a.BIOMASS]=function(t){return{A:1.5,B:0,type:e.LINEAR}},_s[a.WATER]=function(t){return{A:.2,B:0,type:e.LINEAR}},_s),getGain:(Ms={},Ms[a.GRAPHENE]=function(t){return{A:.001*uu(t),B:0,type:e.LINEAR}},Ms)},{id:a.MAGNETO,complexity:2250,getConsumption:(Us={},Us[a.WIRE]=function(t){return{A:.5,B:0,type:e.LINEAR}},Us[a.SEMICONDUCTOR]=function(t){return{A:.5,B:0,type:e.LINEAR}},Us),getGain:(Gs={},Gs[a.MAGNETO]=function(t){return{A:4e-4*uu(t),B:0,type:e.LINEAR}},Gs)}],Pu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Bu=function(){return Bu=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Bu.apply(this,arguments)},_u=function(e){function t(){var t=e.call(this)||this;return t.crafters=[],t.craftingSlots=0,t.workDispatcher.on("[crafting] assign crafter",(function(e){console.log("set amount",e),t.setAmount(e.id,e.amount)})),t}return Pu(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.crafters=e},t.prototype.exportData=function(){return this.crafters},t.prototype.dataToUI=function(){var e=this;return{list:Su.map((function(t){return e.processToUI(t)})),craftingSlots:this.craftingSlots}},t.prototype.getTotalCraftingBonus=function(){return Math.pow(1.05,ZE.landingZone.landingZoneUpgrades.getUpgradeLevel(n.INDUSTRY_AUTOMATION))*Math.pow(1.03,ZE.landingZone.landingZoneBuildings.getBuildingActiveLevel(i.NANOBOTS_FACTORY))*Math.pow(1.05,ZE.landingZone.landingZoneUpgrades.getUpgradeLevel(n.MAGNETIC_PRESS))*Math.pow(1.1,ZE.landingZone.landingZoneUpgrades.getUpgradeLevel(n.HUMAN_LIKE_HELPERS))},t.prototype.getBusyWorkers=function(){return this.crafters.reduce((function(e,t){return e+t.amount}),0)},t.prototype.getWorkersAmount=function(e){var t;return(null===(t=this.crafters.find((function(t){return t.id===e})))||void 0===t?void 0:t.amount)||0},t.prototype.processToUI=function(e){var t=this.crafters.find((function(t){return t.id===e.id}));t||(t={id:e.id,amount:0,efficiency:1},this.crafters.push(t));var n=L.find((function(t){return t.id===e.id}));if(!n)throw new Error("Invalid recipe: ".concat(e.id));var i=e.getConsumption?P.calcBatchAll(e.getConsumption,WE.getInstance(),0,WE.getInstance().resources.getBatchObject()):[],o=e.getGain?P.calcBatch(e.getGain,WE.getInstance(),0):[],r=n.unlockCondition(ZE);return r&&(t.amount>0&&ZE.newNotifications.setViewed("planet:crafting:jobs:".concat(e.id)),ZE.newNotifications.registerNotification("planet:crafting:jobs:".concat(e.id))),{id:e.id,name:n.name,isUnlocked:r,consume:i.filter((function(e){return e.amount})).map((function(e){return Bu(Bu({},e),{amountValue:e.amount,amount:_(e.amount)})})),gain:o.filter((function(e){return e.amount})).map((function(e){return Bu(Bu({},e),{amountValue:e.amount,amount:_(e.amount)})})),amount:t.amount,isAvailable:this.craftingSlots>0,max:this.craftingSlots+t.amount}},t.prototype.setAmount=function(e,t){t=Math.floor(t);var n=this.crafters.findIndex((function(t){return t.id===e}));n<0&&(n=this.crafters.length,this.crafters.push({id:e,amount:0,efficiency:1}));var i=Math.min(Math.max(t,0),this.crafters[n].amount+this.craftingSlots);if(i<t){var o=t-i,r=Math.min(ZE.colony.colonyJobs.freeWorkers,o);ZE.colony.colonyJobs.setAmount(h.ARTISAN,ZE.colony.colonyJobs.getWorkersAmount(h.ARTISAN)+r),i+=r}this.crafters[n].amount=Math.min(Math.max(t,0),i),ZE.resources.reassertBalances()},t.prototype.getResourceBeingProduced=function(e){var t=this,n=Su.filter((function(t){return t.getGain&&!!t.getGain[e]})),i=[];return this.crafters.forEach((function(o){var r,a=n.find((function(e){return e.id===o.id}));if(a&&(null===(r=a.getGain)||void 0===r?void 0:r[e])){var c=P.calculate(ZE,a.getGain[e],0,o.amount)*o.efficiency*t.getTotalCraftingBonus();i.push({label:"Crafting",value:c,id:"job-".concat(a.id),category:"Crafting"})}}),0),i},t.prototype.getResourceBeingConsumed=function(e){if(!L.find((function(t){return t.id===e})))throw new Error("Invalid resource");var t=Su.filter((function(t){return t.getConsumption&&!!t.getConsumption[e]})),n=[];return this.crafters.forEach((function(i){var o,r=t.find((function(e){return e.id===i.id}));if(r&&(null===(o=r.getConsumption)||void 0===o?void 0:o[e])){var a=P.calculate(ZE,r.getConsumption[e],0,i.amount)*i.efficiency;n.push({label:"Crafting: ".concat(v(r.id)),value:a,id:"job-".concat(r.id),category:"Crafting"})}}),0),n},t.prototype.resetEfficiency=function(){var e=this;this.crafters.forEach((function(t,n){e.crafters[n].efficiency=1}))},t.prototype.adaptEfficiency=function(){var e=this,t=Js.lackEfficiencyResources,n=Object.keys(t);this.crafters.forEach((function(i,o){var r=Su.find((function(e){return e.id===i.id}));if(r&&r.getConsumption){var a=Object.keys(r.getConsumption);n.filter((function(e){return a.includes(e)})).forEach((function(n){e.crafters[o].efficiency=Math.min(e.crafters[o].efficiency,t[n]||0)}))}}))},t.prototype.process=function(e){var t=ZE.crafting.slots-this.getBusyWorkers();if(t<0){for(var n=this.crafters.length-1;n>=0;n--){var i=Math.min(this.crafters[n].amount,-t);if(this.crafters[n].amount-=i,(t+=i)>=0)break}ZE.resources.reassertBalances()}this.craftingSlots=t},t.prototype.reset=function(){this.craftingSlots=0,this.crafters=[]},t}(O),Mu=_u.getInstance(),Uu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Gu=function(e){function t(){var t=e.call(this)||this;return t.slots=-1,t.craftingJobs=Mu,t}return Uu(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.craftingJobs.importData(e.craftmen)},t.prototype.exportData=function(){return{craftmen:this.craftingJobs.exportData()}},t.prototype.dataToUI=function(){return{maxSlots:this.slots||0,isUnlocked:ZE.science.scienceResearches.getResearchLevel(y.METALLURGY)>0,jobs:this.craftingJobs.dataToUI()}},t.prototype.getCraftingSlots=function(){var e;return 0+((null===(e=ZE.colony.colonyJobs.jobs.find((function(e){return e.id===h.ARTISAN})))||void 0===e?void 0:e.amount)||0)},t.prototype.process=function(e){this.slots=this.getCraftingSlots(),this.craftingJobs.process(e)},t.prototype.reset=function(){this.slots=-1,this.craftingJobs.reset()},t}(O),bu=Gu.getInstance();!function(e){e.RESOURCE="resource",e.UPGRADE="upgrade",e.BUILDING="building",e.RESEARCH="research",e.POPULATION="population",e.KP_UPGRADE="kp_upgrade"}(bs||(bs={}));var Du,wu,Xu,Hu,xu,ku,Yu,Wu,Zu,Fu,Vu,ju,Ku,qu,zu,Qu,Ju,$u,el,tl,nl,il,ol,rl,al,cl,sl,ul,ll,pl,El,dl,gl,Al,fl,Nl,Rl,Il,Ol,yl=[{id:"start",description:"Power up",requirements:[{type:bs.RESOURCE,target:a.POWER,amount:10}]},{id:"start2",description:"Drill some stone",requirements:[{type:bs.RESOURCE,target:a.STONE,amount:1}]},{id:"repairFacilities",description:"Repair facilities",requirements:[{type:bs.UPGRADE,target:n.REPAIR_DRILL,amount:4}]},{id:"drillOre",description:"Drill ore",requirements:[{type:bs.RESOURCE,target:a.ORE,amount:1}]},{id:"furtherRepair",description:"Further facilities repair",requirements:[{type:bs.UPGRADE,target:n.REPAIR_DRILL,amount:5},{type:bs.UPGRADE,target:n.REPAIR_CABLE,amount:5}]},{id:"biomass",description:"Collect some organics",requirements:[{type:bs.UPGRADE,target:n.REPAIR_MANIPULATORS,amount:3},{type:bs.RESOURCE,target:a.BIOMASS,amount:6}]},{id:"autonomousPowerSupply",description:"Autonomous power supply",requirements:[{type:bs.UPGRADE,target:n.COMBUSTION,amount:1},{type:bs.BUILDING,target:i.THERMOELECTRIC_STATION,amount:1},{type:bs.BUILDING,target:i.BACTERIA_INCUBATOR,amount:1}]},{id:"storage",description:"Storage facilities",requirements:[{type:bs.UPGRADE,target:n.REPAIR_STORAGE_MODULE,amount:1},{type:bs.BUILDING,target:i.STORAGE,amount:1}]},{id:"powerUp2",description:"Boost power supply",requirements:[{type:bs.BUILDING,target:i.THERMOELECTRIC_STATION,amount:3},{type:bs.BUILDING,target:i.BACTERIA_INCUBATOR,amount:2}]},{id:"stoneProduction",description:"Stone production",requirements:[{type:bs.UPGRADE,target:n.AUTO_QUARRYING,amount:1},{type:bs.BUILDING,target:i.QUARRY,amount:1}]},{id:"oreProduction",description:"Ore production",requirements:[{type:bs.UPGRADE,target:n.REPAIR_MACHINERY,amount:1},{type:bs.UPGRADE,target:n.AUTO_MINERS,amount:1},{type:bs.BUILDING,target:i.MINE,amount:1}]},{id:"powerCaps",description:"Power capacity",requirements:[{type:bs.UPGRADE,target:n.REPAIR_MANIPULATORS,amount:5},{type:bs.UPGRADE,target:n.REPAIR_BATTERY,amount:2}]},{id:"organicsUtilization",description:"Organics utilization",requirements:[{type:bs.BUILDING,target:i.THERMOELECTRIC_STATION,amount:5},{type:bs.BUILDING,target:i.BACTERIA_INCUBATOR,amount:5}]},{id:"economyBoost",description:"Economy Boost",requirements:[{type:bs.BUILDING,target:i.QUARRY,amount:5},{type:bs.BUILDING,target:i.MINE,amount:5}]},{id:"moreStorage",description:"More Storage",requirements:[{type:bs.BUILDING,target:i.STORAGE,amount:4}]},{id:"breath-in",description:"Breath In",requirements:[{type:bs.BUILDING,target:i.THERMOELECTRIC_STATION,amount:10},{type:bs.UPGRADE,target:n.BIO_TECH,amount:1},{type:bs.UPGRADE,target:n.BACTERIA_SELECTION,amount:1}]},{id:"basicNeeds",description:"Basic habitability requirements",requirements:[{type:bs.BUILDING,target:i.OXYGEN_COLLECTOR,amount:1},{type:bs.BUILDING,target:i.WATER_PUMP,amount:1},{type:bs.BUILDING,target:i.WATER_STORAGE,amount:1}]},{id:"finalPreparation",description:"Final preparation",requirements:[{type:bs.UPGRADE,target:n.ELECTROLITES,amount:1},{type:bs.UPGRADE,target:n.SUPPLY_MODULE,amount:1}]},{id:"firstColonists",description:"First colonists",requirements:[{type:bs.UPGRADE,target:n.DOCKING_MODULE,amount:1},{type:bs.BUILDING,target:i.LIVING_CABIN,amount:1}]},{id:"research",description:"Scientific basics",requirements:[{type:bs.UPGRADE,target:n.RESEARCH_MODULE,amount:1},{type:bs.RESEARCH,target:y.EXOFARMING,amount:1}]},{id:"population",description:"Population",requirements:[{type:bs.POPULATION,target:y.METEOROLOGY,amount:10}]},{id:"healthcare",description:"Healthcare",requirements:[{type:bs.RESEARCH,target:y.CIVIL_SERVICE,amount:1},{type:bs.RESEARCH,target:y.EXOBIOLOGY,amount:1},{type:bs.BUILDING,target:i.CLINIC,amount:1}]},{id:"crafting",description:"Crafting",requirements:[{type:bs.RESEARCH,target:y.METALLURGY,amount:1},{type:bs.RESOURCE,target:a.BEAM,amount:20},{type:bs.RESOURCE,target:a.BRICK,amount:20}]},{id:"civilized",description:"Civilized life",requirements:[{type:bs.RESEARCH,target:y.SOCIOLOGY,amount:1},{type:bs.RESEARCH,target:y.CODEX_OF_LAW,amount:1}]},{id:"population",description:"Population",requirements:[{type:bs.POPULATION,target:y.METEOROLOGY,amount:70}]},{id:"advanced",description:"Advanced Science",requirements:[{type:bs.RESEARCH,target:y.ELECTRICITY_STUDY,amount:1},{type:bs.RESEARCH,target:y.HIGH_GRAVITY_PHYSICS,amount:1}]},{id:"infoera",description:"Knowledge",requirements:[{type:bs.RESEARCH,target:y.QUANTUM_PHYSICS,amount:1},{type:bs.UPGRADE,target:n.GREAT_RADIO_TRANSMITTER,amount:1}]},{id:"knowledge",description:"Knowledge of Ancestors",requirements:[{type:bs.RESOURCE,target:a.KNOWLEDGE_POINT,amount:20},{type:bs.KP_UPGRADE,target:c.RESEARCH_CAPACITY,amount:2}]},{id:"science2",description:"Advanced Science",requirements:[{type:bs.RESEARCH,target:y.HIGH_ENERGY_PHYSICS,amount:1},{type:bs.RESEARCH,target:y.PHOTO_LITHOGRAPHY,amount:1}]},{id:"expand",description:"Keep Expansion",requirements:[{type:bs.RESEARCH,target:y.THERMONUCLEAR_SYNTHESIS,amount:1},{type:bs.RESEARCH,target:y.MOLECULAR_PHYSICS,amount:1}],hint:'If you feel it\'s too difficult to reach this point - you can keep performing "Transmit Knowledge"'},{id:"superpower",description:"Energy Superpower",requirements:[{type:bs.RESEARCH,target:y.SUPER_CONDUCTIVITY,amount:1},{type:bs.UPGRADE,target:n.COLD_SYNTHESIS,amount:1}]},{id:"prepareColonize",description:"Prepare to leave",requirements:[{type:bs.RESEARCH,target:y.SPACESHIP_BUILDINGS,amount:1},{type:bs.BUILDING,target:i.SPACESHIP_STATION,amount:1}],hint:'Keep unlocking new researches until you unlock "Spaceship Building"'},{id:"colonize",description:"New Horizons",requirements:[{type:bs.RESOURCE,target:a.COLONIZE_XP,amount:1}],hint:"When you colonize new planet you get XP for finishing current one. XP provides some multiplicative bonus to your KP gain when transmit knowledge. Your KP and Transmit Knowledge upgrades persist"}],ml=[{id:c.DRONE_MASTERITY,name:"Drone Mastery",description:"Learn how to use your drone with more efficiency. Every point increases the output from drone actions by 20%",unlockCondition:function(e){return!0},getCost:(Du={},Du[a.KNOWLEDGE_POINT]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Du),category:s.START,maxLevel:10},{id:c.REPAIRED_SOLAR_PANEL,name:"Drone Solar Panel",description:"Add a solar panel to your starting drone that grants it small power generation",unlockCondition:function(e){return!0},getCost:(wu={},wu[a.KNOWLEDGE_POINT]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},wu),getGain:(Xu={},Xu[a.POWER]=function(t){return{A:.03,B:0,type:e.LINEAR}},Xu),category:s.START,maxLevel:10},{id:c.POWER_MASTERITY,name:"Power Mastery",description:"Your experience with electrical grids helps with power optimization. Every point boosts power production by 4%",unlockCondition:function(e){return!0},getCost:(Hu={},Hu[a.KNOWLEDGE_POINT]=function(t){return{A:3,B:1.1,type:e.EXPONENTIAL}},Hu),getGainMultiplier:(xu={},xu[a.POWER]=function(t){return{A:.04,B:1,type:e.LINEAR}},xu),category:s.MASTERITIES,maxLevel:0},{id:c.MINING_MASTERITY,name:"Mining Mastery",description:"Striking the earth can be done in a wide variety of ways. Every point boosts stone, ore, iron and platinum production by 4%",unlockCondition:function(e){return!0},getCost:(ku={},ku[a.KNOWLEDGE_POINT]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},ku),getGainMultiplier:(Yu={},Yu[a.STONE]=function(t){return{A:.04,B:1,type:e.LINEAR}},Yu[a.ORE]=function(t){return{A:.04,B:1,type:e.LINEAR}},Yu[a.IRON]=function(t){return{A:.04,B:1,type:e.LINEAR}},Yu[a.PLATINUM]=function(t){return{A:.04,B:1,type:e.LINEAR}},Yu),category:s.MASTERITIES,maxLevel:0},{id:c.NATURE_MASTERITY,name:"Nature Mastery",description:"Extensive knowledge of biology and farming helps with spreading greenery on inhospitable worlds. Every point boosts biomass, wood and nutrition production by 4%",unlockCondition:function(e){return!0},getCost:(Wu={},Wu[a.KNOWLEDGE_POINT]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Wu),getGainMultiplier:(Zu={},Zu[a.NUTRITION]=function(t){return{A:.04,B:1,type:e.LINEAR}},Zu[a.BIOMASS]=function(t){return{A:.04,B:1,type:e.LINEAR}},Zu[a.WOOD]=function(t){return{A:.04,B:1,type:e.LINEAR}},Zu),category:s.MASTERITIES,maxLevel:0},{id:c.GAS_MASTERITY,name:"Gas & Liquid Mastery",description:"Solid materials are important, but so are other states of matter. Every point boosts oxygen and water production 4%",unlockCondition:function(e){return!0},getCost:(Fu={},Fu[a.KNOWLEDGE_POINT]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Fu),getGainMultiplier:(Vu={},Vu[a.OXYGEN]=function(t){return{A:.04,B:1,type:e.LINEAR}},Vu[a.WATER]=function(t){return{A:.04,B:1,type:e.LINEAR}},Vu),category:s.MASTERITIES,maxLevel:0},{id:c.BUILDING_MASTERITY,name:"Refining Mastery",description:"Refined materials lie at the core of all complex structures. Every point boosts beam, brick and plate production by 4%",unlockCondition:function(e){return!0},getCost:(ju={},ju[a.KNOWLEDGE_POINT]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},ju),getGainMultiplier:(Ku={},Ku[a.BEAM]=function(t){return{A:.04,B:1,type:e.LINEAR}},Ku[a.BRICK]=function(t){return{A:.04,B:1,type:e.LINEAR}},Ku[a.PLATE]=function(t){return{A:.04,B:1,type:e.LINEAR}},Ku),category:s.MASTERITIES,maxLevel:0},{id:c.ELECTRONICS_MASTERITY,name:"Electronics Mastery",description:"Computers kickstarted a second industrial revolution and are very important in automating the industry. Every point boosts electronics (wire, semiconductor, computer, etc) production by 4%",unlockCondition:function(e){return!0},getCost:(qu={},qu[a.KNOWLEDGE_POINT]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},qu),getGainMultiplier:(zu={},zu[a.WIRE]=function(t){return{A:.04,B:1,type:e.LINEAR}},zu[a.COMPUTER]=function(t){return{A:.04,B:1,type:e.LINEAR}},zu[a.SEMICONDUCTOR]=function(t){return{A:.04,B:1,type:e.LINEAR}},zu[a.MAGNETO]=function(t){return{A:.04,B:1,type:e.LINEAR}},zu),category:s.MASTERITIES,maxLevel:0},{id:c.ROCKET_MASTERITY,name:"Rocket Mastery",description:"Each space colony starts with a rocket trip, and you are good at making rockets. Every point boosts fuel and rockets production by 4%",unlockCondition:function(e){return!0},getCost:(Qu={},Qu[a.KNOWLEDGE_POINT]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Qu),getGainMultiplier:(Ju={},Ju[a.FUEL]=function(t){return{A:.04,B:1,type:e.LINEAR}},Ju[a.ROCKET_ENGINE]=function(t){return{A:.04,B:1,type:e.LINEAR}},Ju),category:s.MASTERITIES,maxLevel:0},{id:c.ORGANICS_MASTERITY,name:"Organics Mastery",description:"Be more efficient in your precious biomass usage. Every point boosts biomass based creatable resources production (such as plastic and rubber) by 4%",unlockCondition:function(e){return!0},getCost:($u={},$u[a.KNOWLEDGE_POINT]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},$u),getGainMultiplier:(el={},el[a.PLASTICS]=function(t){return{A:.04,B:1,type:e.LINEAR}},el[a.RUBBER]=function(t){return{A:.04,B:1,type:e.LINEAR}},el[a.GRAPHENE]=function(t){return{A:.04,B:1,type:e.LINEAR}},el),category:s.MASTERITIES,maxLevel:0},{id:c.POWER_CAPACITY,name:"Power Capacity",description:"More industry facilities require more power. Learn how to build better batteries to increase your power storage. Every point boosts power capacity by 4%",unlockCondition:function(e){return!0},getCost:(tl={},tl[a.KNOWLEDGE_POINT]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},tl),getCapacityMultiplier:(nl={},nl[a.POWER]=function(t){return{A:.04,B:1,type:e.LINEAR}},nl),category:s.CAPACITY,maxLevel:0},{id:c.MATERIALS_CAPACITY,name:"Materials Capacity",description:"You know all about stocking containers to the top. Every point boosts all solid materials capacity by 4%",unlockCondition:function(e){return!0},getCost:(il={},il[a.KNOWLEDGE_POINT]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},il),getCapacityMultiplier:(ol={},ol[a.STONE]=function(t){return{A:.04,B:1,type:e.LINEAR}},ol[a.IRON]=function(t){return{A:.04,B:1,type:e.LINEAR}},ol[a.WOOD]=function(t){return{A:.04,B:1,type:e.LINEAR}},ol[a.ORE]=function(t){return{A:.04,B:1,type:e.LINEAR}},ol[a.PLATINUM]=function(t){return{A:.04,B:1,type:e.LINEAR}},ol[a.BIOMASS]=function(t){return{A:.04,B:1,type:e.LINEAR}},ol),category:s.CAPACITY,maxLevel:0},{id:c.LIQUIDS_CAPACITY,name:"Gas & Liquid Capacity",description:"You know how important full oxygen tank and filled water storage is. Every point boosts oxygen and water capacity by 4%",unlockCondition:function(e){return!0},getCost:(rl={},rl[a.KNOWLEDGE_POINT]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},rl),getCapacityMultiplier:(al={},al[a.OXYGEN]=function(t){return{A:.04,B:1,type:e.LINEAR}},al[a.WATER]=function(t){return{A:.04,B:1,type:e.LINEAR}},al),category:s.CAPACITY,maxLevel:0},{id:c.RESEARCH_CAPACITY,name:"Research Capacity",description:"Pursuit of knowledge never stops for someone as cursious as you. Every point increases research capacity by 4%",unlockCondition:function(e){return!0},getCost:(cl={},cl[a.KNOWLEDGE_POINT]=function(t){return{A:2,B:1.1,type:e.EXPONENTIAL}},cl),getCapacityMultiplier:(sl={},sl[a.RESEARCH]=function(t){return{A:.04,B:1,type:e.LINEAR}},sl),category:s.CAPACITY,maxLevel:0},{id:c.AESTHETICS_CONSUMPTION,name:"Aesthetics Consumption",description:"Pretty environment is surprisingly effective at boosting productivity. Every point decreases aesthetics requirements by 4",unlockCondition:function(e){return!0},getCost:(ul={},ul[a.KNOWLEDGE_POINT]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},ul),getCapacityMultiplier:{},category:s.COLONY,maxLevel:0},{id:c.ENTERTAINMENT_CONSUMPTION,name:"Entertainment Consumption",description:"You are not easily bored and know how to distract people from boredom. Every point decreases entertainment requirements by 4",unlockCondition:function(e){return!0},getCost:(ll={},ll[a.KNOWLEDGE_POINT]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},ll),getCapacityMultiplier:{},category:s.COLONY,maxLevel:0},{id:c.RELIGION_CONSUMPTION,name:"Religion Consumption",description:"In every prayer, a strength of the spirit. From strong spirit, a stronger body. Every point decreases religion requirements by 4",unlockCondition:function(e){return!0},getCost:(pl={},pl[a.KNOWLEDGE_POINT]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},pl),getCapacityMultiplier:{},category:s.COLONY,maxLevel:0},{id:c.SECURITY_CONSUMPTION,name:"Security Consumption",description:"Know when to de-escalate, know when to intervene. Every point decreases security requirements by 4",unlockCondition:function(e){return!0},getCost:(El={},El[a.KNOWLEDGE_POINT]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},El),getCapacityMultiplier:{},category:s.COLONY,maxLevel:0},{id:c.HEALTH_CONSUMPTION,name:"Healthcare Consumption",description:"You know how to review a candidate for a future colony, and how to act when things go wrong. Every point decreases healthcare requirements by 4",unlockCondition:function(e){return!0},getCost:(dl={},dl[a.KNOWLEDGE_POINT]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},dl),getCapacityMultiplier:{},category:s.COLONY,maxLevel:0}],hl=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Tl=function(e){function t(){var t=e.call(this)||this;return t.currentGoalIdx=0,t.goalsState=[],t}return hl(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.currentGoalIdx=e.currentGoalIdx||0},t.prototype.exportData=function(){return{currentGoalIdx:this.currentGoalIdx}},t.prototype.dataToUI=function(){return{index:this.currentGoalIdx,current:this.currentGoalToUI()}},t.prototype.getCurrentGoalDB=function(){var e;return null!==(e=yl[this.currentGoalIdx])&&void 0!==e?e:{id:"complete",description:"Complete",requirements:[]}},t.prototype.getRequirementText=function(e){var t,n,i,o,r,a="";switch(e.type){case bs.RESOURCE:a="Resource: "+(null===(t=L.find((function(t){return t.id===e.target})))||void 0===t?void 0:t.name);break;case bs.UPGRADE:a="Upgrade: "+(null===(n=Ga.find((function(t){return t.id===e.target})))||void 0===n?void 0:n.name);break;case bs.RESEARCH:a="Research: "+(null===(i=mu.find((function(t){return t.id===e.target})))||void 0===i?void 0:i.name);break;case bs.BUILDING:a="Building: "+(null===(o=qs.find((function(t){return t.id===e.target})))||void 0===o?void 0:o.name);break;case bs.POPULATION:a="Population";break;case bs.KP_UPGRADE:a="Knowledge Upgrade: "+(null===(r=ml.find((function(t){return t.id===e.target})))||void 0===r?void 0:r.name)}return a},t.prototype.getRequirementAmount=function(e){var t=0;switch(e.type){case bs.RESOURCE:t=ZE.resources.getResource(e.target);break;case bs.UPGRADE:t=ZE.landingZone.landingZoneUpgrades.getUpgradeLevel(e.target);break;case bs.RESEARCH:t=ZE.science.scienceResearches.getResearchLevel(e.target);break;case bs.BUILDING:t=ZE.landingZone.landingZoneBuildings.getBuildingLevel(e.target);break;case bs.POPULATION:t=ZE.colony.colonists;break;case bs.KP_UPGRADE:t=ZE.prestige.transmitKnowledge.getUpgradeLevel(e.target)}return t},t.prototype.checkGoalStatus=function(){var e=this,t=this.getCurrentGoalDB(),n=!0;t.requirements.forEach((function(t){e.getRequirementAmount(t)<t.amount&&(n=!1)})),n&&this.currentGoalIdx<yl.length&&this.currentGoalIdx++},t.prototype.currentGoalToUI=function(){var e=this,t=this.getCurrentGoalDB();return{id:t.id,name:t.description,hint:t.hint,requirements:t.requirements.map((function(t){var n=e.getRequirementAmount(t),i=n>=t.amount;return{actual:n,target:t.amount,isComplete:i,text:e.getRequirementText(t)}}))}},t.prototype.process=function(e){this.checkGoalStatus()},t}(O),Ll=Tl.getInstance(),Cl=[{id:Bi.EXPERIMENTAL_MEDICINE,name:"Experimental medicine",description:"Regulates the use of experimental drugs",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.CODEX_OF_LAW)>0},category:Pi.SOCIAL,options:[{name:"Forbid All",description:"Clinics are working in a regular way, providing service using only reliable and tested methods"},{name:"Allow All",description:"Using experimental medicine reduces healthcare from clinics, but they also provide a boost to max research"}]},{id:Bi.WATER_FILTERING,name:"Water Filtering Control",description:"Changes the water filtration method",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.CODEX_OF_LAW)>0},category:Pi.SOCIAL,options:[{name:"Quick",description:"Water pumps are working in regular way"},{name:"Multi-Stage",description:"Water pumps consume twice as much power, but increase healthcare by 3 each"}]},{id:Bi.RESEARCH_GRANTS,name:"Research Focus",description:"Setting research as priority through providing better equipment to your scientists can boost the development of your colony, but it won't be cheap",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.CODEX_OF_LAW)>0},category:Pi.SCIENCE,options:[{name:"No Extra Support",description:"Science buildings operate normally"},{name:"Minor Support",description:"Grant your scientists better tools to work with. Science buildings consume 25% more power, but provide 5% more research capacity"},{name:"Major Support",description:"Grant your scientists state-of-the-art tools to work on prototypes. Science buildings consume 75% more power, but provide 10% more research capacity"}]},{id:Bi.FOREST_BEHAVOUR,name:"Forest Use",description:"Your forest plants can be used in different ways to provide various advantages",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.CODEX_OF_LAW)>0&&e.science.scienceResearches.getResearchLevel(y.EXOFORESTRY)>0},category:Pi.SOCIAL,options:[{name:"Lungs of the Colony",description:"Forest plants operate normally"},{name:"Nature Reserves",description:"Forest plants produce 50% less oxygen, but provide a small bonus to aesthetics"},{name:"Picnic zones",description:"Forest plants produce 50% less oxygen, but provide a small bonus to entertainment"}]},{id:Bi.SECURITY_DOTATIONS,name:"Guards Rations",description:"Regulate rations for your policemen to motivate them to work harder",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.CODEX_OF_LAW)>0&&e.science.scienceResearches.getResearchLevel(y.PUBLIC_SERVICE)>0},category:Pi.SOCIAL,options:[{name:"Regular",description:"Policemen does not consume additional resources"},{name:"Extra Rations",description:"Incentivize your police force to work better with extra rations. Policemen consume extra 0.5 nutrition and 0.2 water each, but provide a better service"}]},{id:Bi.ARTIFICIAL_ORGANS,name:"Artificial Organs",description:"Using 3D printers in creating organs to heal people can significantly boost healthcare, but religious people won't like it",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.CODEX_OF_LAW)>0&&e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.ORGANISM_PRINTING)>0},category:Pi.SOCIAL,options:[{name:"Forbid All",description:"Artificial implants are banned"},{name:"Allow",description:"Improves healthcare service, but decrease religious one",getEffectGain:(gl={},gl[T.HEALTHCARE]=function(e){return 20},gl),getEffectConsumption:(Al={},Al[T.RELIGION]=function(e){return 20},Al)}]},{id:Bi.CLEAR_CUTTING,name:"Woodcutting Policy",description:"Change forest cutting restrictions in order to balance your wood production and environmental effects",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.CODEX_OF_LAW)>0&&e.science.scienceResearches.getResearchLevel(y.EXOFORESTRY)>0},category:Pi.ECONOMY,options:[{name:"Minor Regulations",description:'"Foresters produce a normal amount of wood'},{name:"Aggressive Cutting",description:"Encourage production at the cost of pretty landscape. Foresters produce 20% more wood, but each forester reduces aesthetics by 1.5"},{name:"Forest Preservation",description:"Encourage limited cutting and frequent replanting. Foresters produce 20% less wood, but each forester increases aesthetics by 1"}]},{id:Bi.COAL_BURNING,name:"Coal Burning Regulations",description:"Allow or forbid wood usage as coal",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.CODEX_OF_LAW)>0&&e.science.scienceResearches.getResearchLevel(y.EXOFORESTRY)>0},category:Pi.ECONOMY,options:[{name:"Forbid All",description:"There is enough smoke as is, the wood is better used elsewhere. Thermal plants dont use wood"},{name:"Limited Use",description:"Allow using a minor amount of wood for thermal plants. Thermal plants are 10% more efficient, but consume 0.01 wood each"},{name:"Unregulated Use",description:"Time to inflict another industrial revoluion. Thermal plants are 25% more efficient, but consume 0.03 wood each"}]},{id:Bi.FOOD_CHEMICAL_PROCESSING,name:"Food Chemical Processing",description:"Regulate the chemical processing of food",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.CODEX_OF_LAW)>0&&e.science.scienceResearches.getResearchLevel(y.ADVANCED_ANATOMY)>0},category:Pi.ECONOMY,options:[{name:"Forbid All",description:"All food is grown organically and served unprocessed"},{name:"Efficient Processing",description:"Process food to increase shelf life and nutritional value at the cost of its quality. Provides 10% bonus to nutrition production, but decrease healthcare by 10%",getGainMultiplier:(fl={},fl[a.NUTRITION]=function(e){return 1.1},fl),getEffectMultiplier:(Nl={},Nl[T.HEALTHCARE]=function(e){return.9},Nl)}]},{id:Bi.ELECTROTHERMAL_SMELTING,name:"Smelting Method",description:"Use alternative methods to boost metal smelting",unlockCondition:function(e){return e.science.scienceResearches.getResearchLevel(y.CODEX_OF_LAW)>0&&e.science.scienceResearches.getResearchLevel(y.ELECTRICITY_STUDY)>0},category:Pi.ECONOMY,options:[{name:"Traditional",description:"Smelters operate as usually"},{name:"Electrothermal",description:"Smelters use 0.3 power each, but produce 30% more metal"}]},{id:Bi.ORBITAL_BIOEXPERIMENT,name:"Orbital Bio-experiments",description:"Allow your Biolabs to run orbital research expeditions.",unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.ORBITAL_BIORESEARCH)>0},category:Pi.SCIENCE,options:[{name:"Forbid",description:"Bio-labs operate normally"},{name:"Allow",description:"Bio-labs start consuming fuel (0.03 each) but provides 10 times more research capacity"}]}],vl=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Sl=function(){return Sl=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Sl.apply(this,arguments)},Pl=function(e){function t(){var t=e.call(this)||this;return t.lawsStatuses=[],t.workDispatcher.on("[laws] set option",(function(e){console.log("change law",e),t.selectLawOption(e.id,e.optionId)})),t}return vl(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.lawsStatuses=(null==e?void 0:e.laws)||[]},t.prototype.exportData=function(){return{laws:this.lawsStatuses}},t.prototype.dataToUI=function(){var e=this;return{laws:Cl.map((function(t){return e.processToUI(t)})),isUnlocked:ZE.science.scienceResearches.getResearchLevel(y.CODEX_OF_LAW)>0}},t.prototype.getLawSelected=function(e){var t;return(null===(t=this.lawsStatuses.find((function(t){return t.id===e})))||void 0===t?void 0:t.selectedOptionId)||0},t.prototype.processToUI=function(e){var t=this.lawsStatuses.find((function(t){return t.id===e.id}));t||(t={id:e.id,selectedOptionId:0},this.lawsStatuses.push(t));var n=[];e.options.forEach((function(e,i){var o={name:e.name,description:e.description,gain:e.getGain?P.getValue(e.getGain,WE.getInstance()).filter((function(e){return e.amount})).map((function(e){return Sl(Sl({},e),{amountValue:e.amount,amount:_(e.amount)})})):[],max:e.getStorage?P.getValue(e.getStorage,WE.getInstance()).filter((function(e){return e.amount})).map((function(e){return Sl(Sl({},e),{amountValue:e.amount,amount:_(e.amount)})})):[],consume:e.getConsumption?P.getValue(e.getConsumption,WE.getInstance()).filter((function(e){return e.amount})).map((function(e){return Sl(Sl({},e),{amountValue:e.amount,amount:_(e.amount)})})):[],consumeEffect:e.getEffectConsumption?P.getValue(e.getEffectConsumption,WE.getInstance()).filter((function(e){return e.amount})).map((function(e){return Sl(Sl({},e),{amountValue:e.amount,amount:_(e.amount)})})):[],gainEffect:e.getEffectGain?P.getValue(e.getEffectGain,WE.getInstance()).filter((function(e){return e.amount})).map((function(e){return Sl(Sl({},e),{amountValue:e.amount,amount:_(e.amount)})})):[],gainMult:e.getGainMultiplier?P.getValue(e.getGainMultiplier,WE.getInstance()).filter((function(e){return e.amount})).map((function(e){return Sl(Sl({},e),{amountValue:e.amount,amount:_(e.amount)})})):[],isSelected:(null==t?void 0:t.selectedOptionId)===i};n.push(o)}));var i=e.unlockCondition(ZE);return i&&ZE.newNotifications.registerNotification("laws:orders:".concat(e.category,":").concat(e.id)),{id:e.id,name:e.name,description:e.description,isUnlocked:i,isAvailable:!0,options:n,category:e.category}},t.prototype.getEffectGain=function(e){var t=this,n=Cl.filter((function(n){var i;return!!(null===(i=n.options[t.getLawSelected(n.id)].getEffectGain)||void 0===i?void 0:i[e])})),i=[];return this.lawsStatuses.forEach((function(o){var r,a=n.find((function(e){return e.id===o.id}));if(a){var c=a.options[t.getLawSelected(a.id)];if(a&&(null===(r=c.getEffectGain)||void 0===r?void 0:r[e])){var s=c.getEffectGain[e](WE.getInstance());i.push({label:"Law ".concat(a.name,": ").concat(c.name),value:s,id:"law-".concat(a.id),category:"Laws"})}}}),0),i},t.prototype.getEffectMultiplier=function(e){var t=this,n=Cl.filter((function(n){var i;return!!(null===(i=n.options[t.getLawSelected(n.id)].getEffectMultiplier)||void 0===i?void 0:i[e])})),i=[];return this.lawsStatuses.forEach((function(o){var r,a=n.find((function(e){return e.id===o.id}));if(a){var c=a.options[t.getLawSelected(a.id)];if(a&&(null===(r=c.getEffectMultiplier)||void 0===r?void 0:r[e])){var s=c.getEffectMultiplier[e](WE.getInstance());i.push({label:"Law ".concat(a.name,": ").concat(c.name),value:s,id:"law-".concat(a.id),category:"Laws"})}}}),0),i},t.prototype.getEffectBeingConsumed=function(e){var t=this,n=Cl.filter((function(n){var i;return!!(null===(i=n.options[t.getLawSelected(n.id)].getEffectConsumption)||void 0===i?void 0:i[e])})),i=[];return this.lawsStatuses.forEach((function(o){var r,a=n.find((function(e){return e.id===o.id}));if(a){var c=a.options[t.getLawSelected(a.id)];if(a&&(null===(r=c.getEffectConsumption)||void 0===r?void 0:r[e])){var s=c.getEffectConsumption[e](WE.getInstance());i.push({label:"Law ".concat(a.name,": ").concat(c.name),value:s,id:"law-".concat(a.id),category:"Laws"})}}}),0),i},t.prototype.getResourceBeingProduced=function(e){var t=this,n=Cl.filter((function(n){var i;return!!(null===(i=n.options[t.getLawSelected(n.id)].getGain)||void 0===i?void 0:i[e])})),i=[];return this.lawsStatuses.forEach((function(o){var r,a=n.find((function(e){return e.id===o.id}));if(a){var c=a.options[t.getLawSelected(a.id)];if(a&&(null===(r=c.getGain)||void 0===r?void 0:r[e])){var s=c.getGain[e](WE.getInstance());i.push({label:"Law ".concat(a.name,": ").concat(c.name),value:s,id:"law-".concat(a.id),category:"Laws"})}}}),0),i},t.prototype.getResourceMultiplier=function(e){var t=this,n=Cl.filter((function(n){var i;return!!(null===(i=n.options[t.getLawSelected(n.id)].getGainMultiplier)||void 0===i?void 0:i[e])})),i=[];return this.lawsStatuses.forEach((function(o){var r,a=n.find((function(e){return e.id===o.id}));if(a){var c=a.options[t.getLawSelected(a.id)];if(a&&(null===(r=c.getGainMultiplier)||void 0===r?void 0:r[e])){var s=c.getGainMultiplier[e](WE.getInstance());i.push({label:"Law ".concat(a.name,": ").concat(c.name),value:s,id:"law-".concat(a.id),category:"Laws"})}}}),0),i},t.prototype.getResourceBeingConsumed=function(e){var t=this,n=Cl.filter((function(n){var i;return!!(null===(i=n.options[t.getLawSelected(n.id)].getConsumption)||void 0===i?void 0:i[e])})),i=[];return this.lawsStatuses.forEach((function(o){var r,a=n.find((function(e){return e.id===o.id}));if(a){var c=a.options[t.getLawSelected(a.id)];if(a&&(null===(r=c.getConsumption)||void 0===r?void 0:r[e])){var s=c.getConsumption[e](WE.getInstance());i.push({label:"Law ".concat(a.name,": ").concat(c.name),value:s,id:"law-".concat(a.id),category:"Laws"})}}}),0),i},t.prototype.getResourceBeingStored=function(e){var t=this,n=Cl.filter((function(n){var i;return!!(null===(i=n.options[t.getLawSelected(n.id)].getStorage)||void 0===i?void 0:i[e])})),i=[];return this.lawsStatuses.forEach((function(o){var r,a=n.find((function(e){return e.id===o.id}));if(a){var c=a.options[t.getLawSelected(a.id)];if(a&&(null===(r=c.getStorage)||void 0===r?void 0:r[e])){var s=c.getStorage[e](WE.getInstance());i.push({label:"Law ".concat(a.name,": ").concat(c.name),value:s,id:"law-".concat(a.id),category:"Laws"})}}}),0),i},t.prototype.getColonistsCap=function(){var e=this,t=Cl.filter((function(t){return!!t.options[e.getLawSelected(t.id)].getMaxColonists})),n=[];return this.lawsStatuses.forEach((function(i){var o=t.find((function(e){return e.id===i.id}));if(o){var r=o.options[e.getLawSelected(o.id)];if(o&&r.getMaxColonists){var a=r.getMaxColonists(WE.getInstance());n.push({label:"Law ".concat(o.name,": ").concat(r.name),value:a,id:"law-".concat(o.id),category:"Laws"})}}}),0),n},t.prototype.selectLawOption=function(e,t){var n=this.lawsStatuses.findIndex((function(t){return t.id===e}));n<0?this.lawsStatuses.push({id:e,selectedOptionId:t}):this.lawsStatuses[n].selectedOptionId=t,WE.getInstance().resources.reassertBalances()},t.prototype.process=function(e){},t.prototype.reset=function(){this.lawsStatuses=[]},t}(O),Bl=Pl.getInstance();!function(e){e.HEAD="Head",e.CORPUS="Corpus",e.WEAPONS="Weapons",e.POWER_SUPPLY="Power Supply",e.ENGINE="Engine"}(Rl||(Rl={})),function(e){e.DURABILITY="Durability",e.SHIELD_CAP="Shield Capacity",e.SHIELD_MITIGATION="Shield Mitigation",e.DAMAGE="Damage",e.WEAPON_COOLDOWN="Weapon Cooldown",e.HULL_REPAIR="Hull Repair",e.SHIELD_REGEN="Shield Regen",e.SPEED="Speed",e.POWER="Power",e.FUEL_CONSUMPTION="Fuel Consumption"}(Il||(Il={})),function(e){e.ACTUAL_DURABILITY="Actual Durability",e.ACTUAL_SHIELD="Actual Shield",e.ACTUAL_RECHARGE="Actual Recharge"}(Ol||(Ol={}));var _l,Ml,Ul,Gl,bl,Dl,wl,Xl,Hl,xl,kl,Yl,Wl,Zl,Fl,Vl,jl,Kl,ql,zl,Ql,Jl,$l,ep,tp,np,ip,op,rp,ap,cp,sp,up,lp,pp,Ep=function(){return Ep=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ep.apply(this,arguments)},dp={income:0,consume:0,multiplier:1},gp={stats:(_l={},_l[Il.SPEED]=0,_l[Il.POWER]=0,_l[Il.DAMAGE]=0,_l[Il.DURABILITY]=0,_l[Il.SHIELD_CAP]=0,_l[Il.SHIELD_MITIGATION]=0,_l[Il.SHIELD_REGEN]=0,_l[Il.HULL_REPAIR]=0,_l[Il.WEAPON_COOLDOWN]=0,_l[Il.FUEL_CONSUMPTION]=0,_l),costs:[]},Ap=function(e){return Math.pow(1.05,e.space.battlefield.state.pilot.level)},fp=function(e){return Math.pow(.5,e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.QUANTUM_TELEPORT))},Np=function(e){return Math.pow(1.3,e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.DARK_MATTER_CORPUS))*Math.pow(1.25,e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.PRESSED_ARMOR))*Math.pow(1.2,e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.CORROSION_EATING_BACTERIA))*Math.pow(1.2,e.prestige.colonizePlanet.getUpgradeLevel(p.SHIPS_DURABILITY))},Rp=function(e){return Math.pow(1.2,e.prestige.colonizePlanet.getUpgradeLevel(p.SHIPS_DAMAGE))*Math.pow(1.2,e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.LASER_TARGETING))},Ip=function(e){return Math.pow(.8,e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.OPTIMIZED_SPACESHIPS_MATERIALS))},Op=[{name:"Regular",id:"regular",bonusConsume:(Ml={},Ml[Il.POWER]=function(t){return{A:1,B:1.5,type:e.EXPONENTIAL}},Ml),bonusGain:{},bonusMultiplier:(Ul={},Ul[Il.SPEED]=function(t){return{A:.01,B:1,type:e.LINEAR}},Ul[Il.WEAPON_COOLDOWN]=function(t){return{A:.9,B:0,type:e.LINEAR}},Ul),category:Rl.HEAD,cost:(Gl={},Gl[a.WIRE]=function(t){return{A:5e3*Ip(t),B:1.5,type:e.EXPONENTIAL}},Gl[a.COMPUTER]=function(t){return{A:400*Ip(t),B:1.5,type:e.EXPONENTIAL}},Gl[a.RUBBER]=function(t){return{A:1e3*Ip(t),B:1.5,type:e.EXPONENTIAL}},Gl),unlockCondition:function(e){return!0}},{name:"Transport Spaceship Head",id:"transport",bonusConsume:(bl={},bl[Il.POWER]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},bl),bonusGain:{},bonusMultiplier:(Dl={},Dl[Il.SPEED]=function(t){return{A:.03,B:1,type:e.LINEAR}},Dl[Il.FUEL_CONSUMPTION]=function(t){return{A:0,B:.8,type:e.LINEAR}},Dl),category:Rl.HEAD,cost:(wl={},wl[a.WIRE]=function(t){return{A:1e4*Ip(t),B:1.5,type:e.EXPONENTIAL}},wl[a.COMPUTER]=function(t){return{A:1e3*Ip(t),B:1.5,type:e.EXPONENTIAL}},wl),unlockCondition:function(e){return!0}},{name:"Plated Corpus",id:"plated",bonusConsume:(Xl={},Xl[Il.POWER]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},Xl),bonusGain:(Hl={},Hl[Il.DURABILITY]=function(t){return{A:200*Ap(t)*Np(t),B:0,type:e.LINEAR}},Hl),bonusMultiplier:{},category:Rl.CORPUS,cost:(xl={},xl[a.PLATE]=function(t){return{A:1e4*Ip(t),B:1.5,type:e.EXPONENTIAL}},xl[a.WIRE]=function(t){return{A:1e3*Ip(t),B:1.5,type:e.EXPONENTIAL}},xl),unlockCondition:function(e){return!0}},{name:"Graphene Corpus",id:"graphene",bonusConsume:(kl={},kl[Il.POWER]=function(t){return{A:2,B:1.05,type:e.EXPONENTIAL}},kl),bonusGain:(Yl={},Yl[Il.DURABILITY]=function(t){return{A:280*Ap(t)*Np(t),B:0,type:e.LINEAR}},Yl),bonusMultiplier:{},category:Rl.CORPUS,cost:(Wl={},Wl[a.PLATE]=function(t){return{A:8e3*Ip(t),B:1.5,type:e.EXPONENTIAL}},Wl[a.WIRE]=function(t){return{A:1e3*Ip(t),B:1.5,type:e.EXPONENTIAL}},Wl[a.GRAPHENE]=function(t){return{A:400*Ip(t),B:1.5,type:e.EXPONENTIAL}},Wl),unlockCondition:function(e){return!0}},{name:"Rocket Launcher",id:"rls",bonusConsume:(Zl={},Zl[Il.POWER]=function(t){return{A:1.5,B:1.05,type:e.EXPONENTIAL}},Zl[Il.FUEL_CONSUMPTION]=function(t){return{A:2*fp(t),B:1.05,type:e.EXPONENTIAL}},Zl),bonusGain:(Fl={},Fl[Il.DAMAGE]=function(t){return{A:9*Ap(t)*Rp(t),B:0,type:e.LINEAR}},Fl),bonusMultiplier:{},category:Rl.WEAPONS,cost:(Vl={},Vl[a.WIRE]=function(t){return{A:1e3*Ip(t),B:1.5,type:e.EXPONENTIAL}},Vl[a.PLATE]=function(t){return{A:1e3*Ip(t),B:1.5,type:e.EXPONENTIAL}},Vl[a.FUEL]=function(t){return{A:2e3*Ip(t),B:1.5,type:e.EXPONENTIAL}},Vl),unlockCondition:function(e){return!0}},{name:"MRLS",id:"mrls",bonusConsume:(jl={},jl[Il.POWER]=function(t){return{A:3,B:1.05,type:e.EXPONENTIAL}},jl[Il.FUEL_CONSUMPTION]=function(t){return{A:3*fp(t),B:1.05,type:e.EXPONENTIAL}},jl),bonusGain:(Kl={},Kl[Il.DAMAGE]=function(t){return{A:4*Ap(t)*Rp(t),B:0,type:e.LINEAR}},Kl),bonusMultiplier:(ql={},ql[Il.WEAPON_COOLDOWN]=function(t){return{A:0,B:.75,type:e.LINEAR}},ql),category:Rl.WEAPONS,cost:(zl={},zl[a.WIRE]=function(t){return{A:5e3*Ip(t),B:1.5,type:e.EXPONENTIAL}},zl[a.PLATE]=function(t){return{A:5e3*Ip(t),B:1.5,type:e.EXPONENTIAL}},zl[a.FUEL]=function(t){return{A:5e3*Ip(t),B:1.5,type:e.EXPONENTIAL}},zl),unlockCondition:function(e){return!0}},{name:"Quark-Gluon Canon",id:"quark-gluon-canon",bonusConsume:(Ql={},Ql[Il.POWER]=function(t){return{A:8,B:1.05,type:e.EXPONENTIAL}},Ql[Il.FUEL_CONSUMPTION]=function(t){return{A:12*fp(t),B:1.05,type:e.EXPONENTIAL}},Ql),bonusGain:(Jl={},Jl[Il.DAMAGE]=function(t){return{A:19*Ap(t)*Rp(t),B:0,type:e.LINEAR}},Jl),bonusMultiplier:{},category:Rl.WEAPONS,cost:($l={},$l[a.WIRE]=function(t){return{A:9e3*Ip(t),B:1.5,type:e.EXPONENTIAL}},$l[a.COMPUTER]=function(t){return{A:300*Ip(t),B:1.5,type:e.EXPONENTIAL}},$l[a.FUEL]=function(t){return{A:9e3*Ip(t),B:1.5,type:e.EXPONENTIAL}},$l),unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.QUARK_GLUON_CANON)>0}},{name:"Magnetic Shield",id:"shield",bonusConsume:(ep={},ep[Il.POWER]=function(t){return{A:6,B:1.05,type:e.EXPONENTIAL}},ep[Il.FUEL_CONSUMPTION]=function(t){return{A:5*fp(t),B:1.05,type:e.EXPONENTIAL}},ep),bonusGain:(tp={},tp[Il.SHIELD_CAP]=function(t){return{A:80*Ap(t),B:0,type:e.LINEAR}},tp[Il.SHIELD_REGEN]=function(t){return{A:3*Ap(t),B:0,type:e.LINEAR}},tp[Il.SHIELD_MITIGATION]=function(t){return{A:0,B:.2,type:e.LINEAR}},tp),bonusMultiplier:{},category:Rl.WEAPONS,cost:(np={},np[a.WIRE]=function(t){return{A:9e3*Ip(t),B:1.5,type:e.EXPONENTIAL}},np[a.COMPUTER]=function(t){return{A:500*Ip(t),B:1.5,type:e.EXPONENTIAL}},np[a.MAGNETO]=function(t){return{A:100*Ip(t),B:1.5,type:e.EXPONENTIAL}},np),unlockCondition:function(e){return e.landingZone.landingZoneUpgrades.getUpgradeLevel(n.PORTABLE_MAGNETOS)>0}},{name:"Solar Panels",id:"solar",bonusConsume:(ip={},ip[Il.FUEL_CONSUMPTION]=function(t){return{A:.5*fp(t),B:1.05,type:e.EXPONENTIAL}},ip),bonusGain:(op={},op[Il.POWER]=function(t){return{A:4,B:0,type:e.LINEAR}},op),bonusMultiplier:{},category:Rl.POWER_SUPPLY,cost:(rp={},rp[a.WIRE]=function(t){return{A:2e3*Ip(t),B:1.5,type:e.EXPONENTIAL}},rp[a.SEMICONDUCTOR]=function(t){return{A:2e3*Ip(t),B:1.5,type:e.EXPONENTIAL}},rp),unlockCondition:function(e){return!0}},{name:"Thermonuclear Power Plant",id:"thermonuclear",bonusConsume:(ap={},ap[Il.FUEL_CONSUMPTION]=function(t){return{A:3.5*fp(t),B:1.05,type:e.EXPONENTIAL}},ap),bonusGain:(cp={},cp[Il.POWER]=function(t){return{A:10,B:0,type:e.LINEAR}},cp),bonusMultiplier:{},category:Rl.POWER_SUPPLY,cost:(sp={},sp[a.PLATE]=function(t){return{A:9e3*Ip(t),B:1.5,type:e.EXPONENTIAL}},sp[a.WIRE]=function(t){return{A:5e3*Ip(t),B:1.5,type:e.EXPONENTIAL}},sp),unlockCondition:function(e){return!0}},{name:"Reactive Engine",id:"reactive",bonusConsume:(up={},up[Il.FUEL_CONSUMPTION]=function(t){return{A:4*fp(t),B:1,type:e.EXPONENTIAL}},up[Il.POWER]=function(t){return{A:2,B:1.5,type:e.EXPONENTIAL}},up),bonusGain:(lp={},lp[Il.SPEED]=function(t){return{A:.05,B:1,type:e.LINEAR}},lp),bonusMultiplier:{},category:Rl.ENGINE,cost:(pp={},pp[a.PLATE]=function(t){return{A:14e3*Ip(t),B:1.5,type:e.EXPONENTIAL}},pp[a.WIRE]=function(t){return{A:7e3*Ip(t),B:1.5,type:e.EXPONENTIAL}},pp),unlockCondition:function(e){return!0}}];const yp={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let mp;const hp=new Uint8Array(16);function Tp(){if(!mp&&(mp="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!mp))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return mp(hp)}const Lp=[];for(let e=0;e<256;++e)Lp.push((e+256).toString(16).slice(1));const Cp=function(e,t,n){if(yp.randomUUID&&!t&&!e)return yp.randomUUID();const i=(e=e||{}).random||(e.rng||Tp)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=i[e];return t}return function(e,t=0){return(Lp[e[t+0]]+Lp[e[t+1]]+Lp[e[t+2]]+Lp[e[t+3]]+"-"+Lp[e[t+4]]+Lp[e[t+5]]+"-"+Lp[e[t+6]]+Lp[e[t+7]]+"-"+Lp[e[t+8]]+Lp[e[t+9]]+"-"+Lp[e[t+10]]+Lp[e[t+11]]+Lp[e[t+12]]+Lp[e[t+13]]+Lp[e[t+14]]+Lp[e[t+15]]).toLowerCase()}(i)};var vp,Sp,Pp,Bp,_p,Mp,Up,Gp,bp,Dp,wp,Xp,Hp,xp,kp,Yp,Wp,Zp,Fp=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Vp=function(){return Vp=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Vp.apply(this,arguments)},jp=function(e){function t(){var t=e.call(this)||this;return t.models=[],t.editing=null,t.validationError=void 0,t.workDispatcher.on("[spaceship-constructor] load-to-editor",(function(e){console.log("Load to editor",e),t.validationError=void 0;var n=t.models.find((function(t){return t.uuid===e.uuid}));t.editing=n?{name:n.name,uuid:n.uuid,parts:Vp({},JSON.parse(JSON.stringify(n.parts)))}:{name:"Unknown",uuid:"",parts:{}}})),t.workDispatcher.on("[spaceship-constructor] create-new",(function(e){console.log("Load to editor",e),t.validationError=void 0,t.editing={name:"Unknown",uuid:"",parts:{}}})),t.workDispatcher.on("[spaceship-constructor] save",(function(e){console.log("Saving",e),t.saveShip()})),t.workDispatcher.on("[spaceship-constructor] delete",(function(e){console.log("Deleting",e),t.deleteShipModel(e)})),t.workDispatcher.on("[spaceship-constructor] set part id",(function(e){var n;if(console.log("set id",e),t.editing){var i=void 0;switch(e.key){case"head":i=Rl.HEAD;break;case"weapon1":case"weapon2":i=Rl.WEAPONS;break;case"corpus":i=Rl.CORPUS;break;case"power":i=Rl.POWER_SUPPLY;break;case"engine":i=Rl.ENGINE}t.editing.parts[e.key]={id:e.id,level:(null===(n=t.editing.parts[e.key])||void 0===n?void 0:n.level)||1,category:i}}})),t.workDispatcher.on("[spaceship-constructor] set part level",(function(e){var n;console.log("set level",e),t.editing&&(null===(n=t.editing.parts[e.key])||void 0===n||(n.level=Math.max(e.level||0,1)))})),t.workDispatcher.on("[spaceship-constructor] set name",(function(e){console.log("Load to editor",e),t.editing&&(t.editing.name=e)})),t}return Fp(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.deleteShipModel=function(e){var t=this.models.findIndex((function(t){return t.uuid===e}));if(t>-1){if(ZE.space.hangar.getAmountById(e)>0)return;this.models.splice(t,1)}},t.prototype.calculateStats=function(e){var t=Object.values(e.parts),n=function(){var e;return(e={})[Il.SPEED]={income:1,consume:0,multiplier:1},e[Il.POWER]=Ep({},dp),e[Il.DAMAGE]=Ep({},dp),e[Il.DURABILITY]=Ep({},dp),e[Il.SHIELD_CAP]=Ep({},dp),e[Il.SHIELD_MITIGATION]=Ep({},dp),e[Il.SHIELD_REGEN]=Ep({},dp),e[Il.HULL_REPAIR]=Ep({},dp),e[Il.WEAPON_COOLDOWN]={income:3,consume:0,multiplier:1},e[Il.FUEL_CONSUMPTION]=Ep({},dp),e}(),i=[];t.forEach((function(e){var t=e.id,o=Op.find((function(e){return e.id===t}));if(o){Object.entries(o.bonusGain).forEach((function(t){var i=t[0],o=t[1],r=P.calculate(WE.getInstance(),o,0,e.level);n[i].income+=r})),Object.entries(o.bonusConsume).forEach((function(t){var i=t[0],o=t[1],r=P.calculate(WE.getInstance(),o,0,e.level);n[i].consume+=r})),Object.entries(o.bonusMultiplier).forEach((function(t){var i=t[0],o=t[1],r=P.calculate(WE.getInstance(),o,e.level,1);n[i].multiplier*=r}));var r=P.calcBatchAll(o.cost,WE.getInstance(),e.level,WE.getInstance().resources.getBatchObject());i=P.calcSum(WE.getInstance(),i,r)}}));var o={};for(var r in n){var a=r;o[a]=n[a].income*n[a].multiplier-n[a].consume}var c=i.reduce((function(e,t){return Math.min(e,t.max)}),1e300),s=i.reduce((function(e,t){return e&&!t.isBlocked}),!0);return i.reduce((function(e,t){return Math.max(e,t.eta)}),0),{stats:o,costs:WE.getInstance().resources.assertEnought(i,WE.getInstance().resources.getBatchObject(),WE.getInstance().resources.getBatchBalanceObject()),costsOriginal:i,progress:c<1?(100*c).toPrecision(3):"100",isAvailable:c>=1,isBlocked:!s}},t.prototype.getModelWithStats=function(e){var t=this.models.find((function(t){return t.uuid===e}));if(t){var n=this.calculateStats(t);return Vp(Vp({},t),n)}},t.prototype.validateBeforeSave=function(e){var t,n,i,o;if(!(null===(t=null==e?void 0:e.parts.corpus)||void 0===t?void 0:t.level))return{result:!1,reason:"Corpus should be selected"};if(!(null===(n=null==e?void 0:e.parts.head)||void 0===n?void 0:n.level))return{result:!1,reason:"Head should be selected"};if(!(null===(i=null==e?void 0:e.parts.engine)||void 0===i?void 0:i.level))return{result:!1,reason:"Engine should be selected"};if(!(null===(o=null==e?void 0:e.parts.power)||void 0===o?void 0:o.level))return{result:!1,reason:"Power source should be selected"};var r=this.calculateStats(e).stats;return!r[Il.POWER]||r[Il.POWER]<0?{result:!1,reason:"Power supply is not enough"}:(null==e?void 0:e.name)?{result:!0}:{result:!1,reason:"Name cant be empty"}},t.prototype.saveShip=function(){var e,t,n=this;if(this.validationError=void 0,this.editing){var i=!(null===(e=this.editing)||void 0===e?void 0:e.uuid);if(!i&&ZE.space.hangar.getAmountById(null===(t=this.editing)||void 0===t?void 0:t.uuid)){i=!0;var o=this.models.find((function(e){var t;return e.uuid===(null===(t=n.editing)||void 0===t?void 0:t.uuid)}));this.editing.name=(null==o?void 0:o.name)===this.editing.name?"".concat(this.editing.name," (").concat(Date.now(),")"):this.editing.name}var r=this.validateBeforeSave(this.editing);if(!r.result)return console.error(r),void(this.validationError=r.reason);if(this.validationError=void 0,i){var a=Cp();return this.models.push(Vp(Vp({},this.editing),{uuid:a})),void(this.editing.uuid=a)}var c=this.models.findIndex((function(e){var t;return e.uuid===(null===(t=n.editing)||void 0===t?void 0:t.uuid)}));this.models[c]=Vp({},this.editing),this.editing=null}},t.prototype.importData=function(e){this.models=(null==e?void 0:e.models)||[]},t.prototype.exportData=function(){return{models:this.models}},t.prototype.processShipPartsToUI=function(e){var t={head:{category:Rl.HEAD},weapon1:{category:Rl.WEAPONS},weapon2:{category:Rl.WEAPONS},corpus:{category:Rl.CORPUS},engine:{category:Rl.ENGINE},power:{category:Rl.POWER_SUPPLY}};return Object.entries(e.parts).forEach((function(e){var n=e[0],i=e[1];if(i){var o=Op.find((function(e){return e.id===i.id}));if(o){var r=P.calcBatchAll(o.cost,WE.getInstance(),i.level,WE.getInstance().resources.getBatchObject()),a={category:o.category,data:{id:i.id,name:o.name,level:i.level,cost:WE.getInstance().resources.assertEnought(r,WE.getInstance().resources.getBatchObject(),WE.getInstance().resources.getBatchBalanceObject()),gain:P.calcBatch(o.bonusGain,WE.getInstance(),0,i.level).map((function(e){return Vp(Vp({},e),{amountValue:e.amount,amount:"+".concat(_(e.amount))})})),gainMult:P.calcBatch(o.bonusMultiplier,WE.getInstance(),i.level,1).map((function(e){return Vp(Vp({},e),{amountValue:e.amount,amount:"x".concat(_(e.amount))})})),consume:P.calcBatch(o.bonusConsume,WE.getInstance(),0,i.level).map((function(e){return Vp(Vp({},e),{amountValue:e.amount,amount:"-".concat(_(e.amount))})}))}};t[n]=a}}})),t},t.prototype.dataToUI=function(){var e,t,n=this,i=this.editing?this.calculateStats(this.editing):{costs:[],stats:{}},o={stats:Vp(Vp({},gp.stats),i.stats),costs:i.costs};return{isUnlocked:ZE.science.scienceResearches.getResearchLevel(y.ADVANCED_SPACE_CONSTRUCTION)>0,list:this.models.map((function(e){var t;return{name:e.name,uuid:e.uuid,isEditing:e.uuid===(null===(t=n.editing)||void 0===t?void 0:t.uuid),amountPurchased:ZE.space.hangar.getAmountById(e.uuid)}})),shipConstructor:this.editing?{uuid:(null===(e=this.editing)||void 0===e?void 0:e.uuid)||"",name:(null===(t=this.editing)||void 0===t?void 0:t.name)||"",parts:this.processShipPartsToUI(this.editing),availableParts:Op.filter((function(e){return e.unlockCondition(WE.getInstance())})).map((function(e){return{name:e.name,id:e.id,category:e.category}})),totalStats:o,validationError:this.validationError}:void 0}},t.prototype.reset=function(){this.editing=null,this.models=[],this.validationError=void 0},t}(O),Kp=jp.getInstance(),qp=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),zp=function(){return zp=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},zp.apply(this,arguments)},Qp=function(e){function t(){var t=e.call(this)||this;return t.hangar=[],t.workDispatcher.on("[spaceship-hangar] build",(function(e){console.log("Constructing",e),t.buildShip(e)})),t.workDispatcher.on("[spaceship-hangar] destroy",(function(e){console.log("Destroying",e),t.destroyShip(e)})),t}return qp(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.hangar=e||[]},t.prototype.exportData=function(){return this.hangar},t.prototype.destroyShip=function(e){var t=WE.getInstance().space.spaceship.models.find((function(t){return t.uuid===e}));if(t){var n=WE.getInstance().space.spaceship.calculateStats(t).costsOriginal,i=this.hangar.findIndex((function(t){return t.id===e}));i>-1&&(this.hangar[i].amount--,n.forEach((function(e){WE.getInstance().resources.addResource(e.id,.8*e.amount)})),ZE.resources.reassertBalances())}else console.error("Model ".concat(e," not found"))},t.prototype.buildShip=function(e){var t=WE.getInstance().space.spaceship.models.find((function(t){return t.uuid===e}));if(t){var n=WE.getInstance().space.spaceship.calculateStats(t),i=n.costsOriginal;if(n.isAvailable){var o=this.hangar.findIndex((function(t){return t.id===e}));WE.getInstance().resources.subtractResourceBatch(i),ZE.resources.reassertBalances(),o>-1?this.hangar[o].amount++:this.hangar.push({id:e,amount:1})}}},t.prototype.processToUI=function(e){var t=this.hangar.find((function(t){return t.id===e.uuid}));t||(t={id:e.uuid,amount:0});var n=WE.getInstance().space.spaceship.calculateStats(e),i={stats:zp(zp({},gp.stats),n.stats),costs:n.costs};return{id:t.id,amount:t.amount,name:e.name,stats:i,progress:n.progress,isBlocked:n.isBlocked,isAvailable:n.isAvailable}},t.prototype.getAmountById=function(e){var t;return(null===(t=this.hangar.find((function(t){return t.id===e})))||void 0===t?void 0:t.amount)||0},t.prototype.dataToUI=function(){var e=this;return{isUnlocked:ZE.space.spaceship.models.length>0,ships:WE.getInstance().space.spaceship.models.map((function(t){return e.processToUI(t)}))}},t.prototype.reset=function(){this.hangar=[]},t}(O),Jp=Qp.getInstance(),$p=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),eE=function(){return eE=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},eE.apply(this,arguments)},tE=function(e){function t(){var t=e.call(this)||this;return t.fleets=[],t.workDispatcher.on("[spaceship-fleet] load-to-editor",(function(e){console.log("Load to editor",e),t.editing=eE({},t.fleets.find((function(t){return t.uuid===e.uuid}))||{name:"Unknown",uuid:"",slots:[]}),t.editing.slots=function(e,t,n){if(n||2===arguments.length)for(var i,o=0,r=t.length;o<r;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))}([],t.editing.slots,!0)})),t.workDispatcher.on("[spaceship-fleet] create-new",(function(e){console.log("Load to editor",e),t.editing={name:"Unknown",uuid:"",slots:[]}})),t.workDispatcher.on("[spaceship-fleet] save",(function(e){console.log("Saving",e),t.saveFleet()})),t.workDispatcher.on("[spaceship-fleet] delete",(function(e){console.log("Deleting",e),t.deleteFleet(e)})),t.workDispatcher.on("[spaceship-fleet] set id",(function(e){console.log("Setting to slot",e),t.deployModel(e.modelId,e.line,e.column)})),t.workDispatcher.on("[spaceship-fleet] set name",(function(e){console.log("Set name",e),t.editing&&(t.editing.name=e)})),t}return $p(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.getModelUsed=function(e){var t;return(null===(t=this.editing)||void 0===t?void 0:t.slots.filter((function(t){return t.shipId===e})).reduce((function(e,t){return e+t.amount}),0))||0},t.prototype.getInvalidSlots=function(e){if(!e)return[];var t=[],n={};return e.slots.forEach((function(e){e.shipId&&(n[e.shipId]||(n[e.shipId]=0),n[e.shipId]++,n[e.shipId]>WE.getInstance().space.hangar.getAmountById(e.shipId)&&t.push(e))})),t},t.prototype.deployModel=function(e,t,n){var i,o;if(this.editing){var r=null===(i=this.editing)||void 0===i?void 0:i.slots.findIndex((function(e){return e.line===t&&e.column===n}));if("none"===e&&r>-1)this.editing.slots[r].shipId=void 0;else{var a=this.getModelUsed(e);ZE.space.hangar.getAmountById(e)<=a||(r<0?null===(o=this.editing)||void 0===o||o.slots.push({line:t,column:n,shipId:e,amount:1}):(this.editing.slots[r].shipId=e,this.editing.slots[r].amount=1))}}},t.prototype.saveFleet=function(){var e,t=this;if(this.editing)if(null===(e=this.editing)||void 0===e?void 0:e.uuid){var n=this.fleets.findIndex((function(e){var n;return e.uuid===(null===(n=t.editing)||void 0===n?void 0:n.uuid)}));this.fleets[n]=eE({},this.editing)}else this.fleets.push(eE(eE({},this.editing),{uuid:Cp()}))},t.prototype.deleteFleet=function(e){var t=this.fleets.findIndex((function(t){return t.uuid===e}));t>-1&&this.fleets.splice(t,1)},t.prototype.importData=function(e){this.fleets=e||[]},t.prototype.exportData=function(){return this.fleets},t.prototype.slotsToUI=function(){var e,t=[],n=this.getInvalidSlots(this.editing);console.log("invalidList: ",n);for(var i=function(i){for(var r=function(r){var a={line:i,column:r,isInvalid:n.some((function(e){return e.line===i&&e.column===r}))},c=null===(e=o.editing)||void 0===e?void 0:e.slots.find((function(e){return e.line===i&&e.column===r}));if(!c||!c.shipId)return t.push(a),"continue";var s=ZE.space.spaceship.getModelWithStats(c.shipId);if(!s)return t.push(a),"continue";var u=s.stats,l=s.name,p=s.uuid;a.stats=eE(eE({},gp.stats),u),a.selectedName=l,a.selectedUUID=p,t.push(a)},a=0;a<5;a++)r(a)},o=this,r=0;r<2;r++)i(r);return t},t.prototype.dataToUI=function(){var e,t=this;return{isUnlocked:ZE.space.spaceship.models.length>0,list:this.fleets.map((function(e){var n;return{uuid:e.uuid,name:e.name,isEditing:(null===(n=t.editing)||void 0===n?void 0:n.uuid)===e.uuid,isInvalid:t.getInvalidSlots(e).length>0}})),editing:this.editing?{uuid:null===(e=this.editing)||void 0===e?void 0:e.uuid,name:this.editing.name,slots:this.slotsToUI(),options:ZE.space.hangar.hangar.map((function(e){var n;return{id:e.id,available:e.amount,used:t.getModelUsed(e.id),name:(null===(n=ZE.space.spaceship.models.find((function(t){return t.uuid===e.id})))||void 0===n?void 0:n.name)||""}}))}:void 0}},t.prototype.reset=function(){this.editing=void 0,this.fleets=[]},t}(O),nE=tE.getInstance(),iE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),oE=function(){return oE=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},oE.apply(this,arguments)},rE=function(e){function t(){var t=e.call(this)||this;return t.state={inProgress:!1,me:[],enemy:[],bullets:[]},t}return iE(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.initializeEnemy=function(e){for(var t,n=[],i=0;i<2;i++)for(var o=0;o<5;o++){var r=((t={})[Il.SPEED]=2+.1*e,t[Il.POWER]=1,t[Il.FUEL_CONSUMPTION]=0,t[Il.WEAPON_COOLDOWN]=3,t[Il.DAMAGE]=4*(e+1)*Math.pow(1.4,e),t[Il.HULL_REPAIR]=0,t[Il.DURABILITY]=45*(e+1)*Math.pow(1.4,e),t[Il.SHIELD_REGEN]=.1*Math.pow(1.4,e),t[Il.SHIELD_MITIGATION]=.3,t[Il.SHIELD_CAP]=20*(e+1)*Math.pow(1.4,e),t);n.push({shipId:"Nomad",line:i,column:o,stats:r})}return n},t.prototype.fullfillStatsBeforeBattle=function(e){var t;return oE(oE({},e),((t={})[Ol.ACTUAL_DURABILITY]=e.Durability,t[Ol.ACTUAL_RECHARGE]=0,t[Ol.ACTUAL_SHIELD]=e[Il.SHIELD_CAP],t))},t.prototype.initializeFight=function(e){var t=this,n=ZE.space.fleet.fleets.find((function(e){return e.uuid===ZE.space.battlefield.state.fleetUsed}));n&&(this.state.me=n.slots.filter((function(e){return!!e.shipId})).map((function(e){var n=ZE.space.spaceship.getModelWithStats(e.shipId);if(!n)throw new Error("Cant calculate model "+e.shipId);return{modelId:e.shipId,x:15*e.column+15,y:95-15*(1-e.line),line:e.line,side:0,stats:t.fullfillStatsBeforeBattle(oE(oE({},gp.stats),n.stats))}})),this.state.enemy=this.initializeEnemy(e).map((function(e){return{modelId:e.shipId,x:15*e.column+15,y:5+15*(1-e.line),line:e.line,side:1,stats:t.fullfillStatsBeforeBattle(oE(oE({},gp.stats),e.stats))}})),this.state.bullets=[],this.state.inProgress=!0)},t.prototype.finalizeFight=function(){this.state.me=[],this.state.enemy=[],this.state.bullets=[],this.state.inProgress=!1},t.prototype.spaceshipAttack=function(e){var t=0===e.side?this.state.enemy:this.state.me,n=0;t.forEach((function(e,i){(e.line<t[n].line||e.line===t[n].line&&e.stats[Il.DAMAGE]/e.stats[Ol.ACTUAL_DURABILITY]>t[n].stats[Il.DAMAGE]/t[n].stats[Ol.ACTUAL_DURABILITY])&&(n=i)}));var i={x:e.x,y:e.y,side:e.side,tx:t[n].x,ty:t[n].y,dmg:e.stats[Il.DAMAGE],uuid:Cp()};this.state.bullets.push(i)},t.prototype.processBullet=function(e,t){var n=Math.sqrt(Math.pow(e.tx-e.x,2)+Math.pow(e.ty-e.y,2));if(e.x+=t*(e.tx-e.x)*20/n,e.y+=t*(e.ty-e.y)*20/n,n<5){var i=0===e.side?this.state.enemy:this.state.me,o=1e10,r=null,a=-1;if(i.forEach((function(t,n){var i=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));i<o&&(o=i,r=t,a=n)})),o>10)return!0;if(r){var c=e.dmg,s=Math.min(c,r.stats[Ol.ACTUAL_SHIELD]/(1-r.stats[Il.SHIELD_MITIGATION]));r.stats[Ol.ACTUAL_SHIELD]-=c*(1-r.stats[Il.SHIELD_MITIGATION]),c-=s,r.stats[Ol.ACTUAL_DURABILITY]-=c,r.stats[Ol.ACTUAL_SHIELD]<0&&(r.stats[Ol.ACTUAL_SHIELD]=0),r.stats[Ol.ACTUAL_DURABILITY]<0&&i.splice(a,1)}return!0}return!1},t.prototype.processShip=function(e,t){e.stats[Ol.ACTUAL_DURABILITY]<e.stats[Il.DURABILITY]&&e.stats[Il.HULL_REPAIR]>0&&(e.stats[Ol.ACTUAL_DURABILITY]=Math.min(e.stats[Ol.ACTUAL_DURABILITY]+t*e.stats[Il.HULL_REPAIR],e.stats[Il.DURABILITY])),e.stats[Ol.ACTUAL_SHIELD]<e.stats[Il.SHIELD_CAP]&&e.stats[Il.SHIELD_REGEN]>0&&(e.stats[Ol.ACTUAL_SHIELD]=Math.min(e.stats[Ol.ACTUAL_SHIELD]+t*e.stats[Il.SHIELD_REGEN],e.stats[Il.SHIELD_CAP])),e.stats[Ol.ACTUAL_RECHARGE]+=t,e.stats[Ol.ACTUAL_RECHARGE]>=e.stats[Il.WEAPON_COOLDOWN]&&(e.stats[Ol.ACTUAL_RECHARGE]=0,this.spaceshipAttack(e))},t.prototype.process=function(e){var t=this;this.state.inProgress&&(this.state.me.forEach((function(n){return t.processShip(n,e)})),this.state.enemy.forEach((function(n){return t.processShip(n,e)})),this.state.bullets.forEach((function(n,i){t.processBullet(n,e)&&t.state.bullets.splice(i,1)})))},t.prototype.isBattleWon=function(){return this.state.me.length&&!this.state.enemy.length},t.prototype.isBattleLost=function(){return!this.state.me.length&&this.state.inProgress},t.prototype.dataToUI=function(){return{inProgress:this.state.inProgress,me:this.state.me.map((function(e){var t,n;return oE(oE({},e),{name:null!==(n=null===(t=ZE.space.spaceship.models.find((function(t){return t.uuid===e.modelId})))||void 0===t?void 0:t.name)&&void 0!==n?n:e.modelId})})),enemy:this.state.enemy.map((function(e){return oE(oE({},e),{name:e.modelId})})),bullets:this.state.bullets}},t}(O),aE=rE.getInstance(),cE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),sE=function(){return sE=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},sE.apply(this,arguments)},uE=function(e){function t(){var t=e.call(this)||this;return t.state={isFighting:!1,isAutoadvance:!1,isAutofight:!1,traveling:{progress:0,total:0},fleetUsed:void 0,level:0,maxLevel:0,pilot:{xp:0,maxXp:10,level:0}},t.statsCached={speed:0},t.fight=aE,t.workDispatcher.on("[space-battlefield] set fleet",(function(e){if(console.log("Selecting fleet",e),t.statsCached=void 0,"None"===e)return t.state.fleetUsed=void 0,void t.stopFight();t.state.fleetUsed=e})),t.workDispatcher.on("[space-battlefield] set level",(function(e){console.log("Set level!",e,Math.max(0,Math.min(t.state.maxLevel,Math.floor(e))),Math.min(t.state.maxLevel,Math.floor(e)),Math.floor(e),e),t.stopFight(),t.state.level=Math.max(0,Math.min(t.state.maxLevel,Math.floor(e)))})),t.workDispatcher.on("[space-battlefield] toggle fight",(function(e){console.log("Toggling fight",e),e?t.startFight():t.stopFight()})),t.workDispatcher.on("[space-battlefield] toggle autofight",(function(e){console.log("Toggling autofight",e),t.state.isAutofight=e,e&&!t.state.isFighting&&t.startFight()})),t.workDispatcher.on("[space-battlefield] toggle autoprogress",(function(e){console.log("Toggling autoprogress",e),t.state.isAutoadvance=e})),t}return cE(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.state=(null==e?void 0:e.battlefield)||{isFighting:!1,isAutoadvance:!1,isAutofight:!1,traveling:{progress:0,total:0},fleetUsed:void 0,level:0,maxLevel:0,pilot:{xp:0,maxXp:10,level:0}},this.state.pilot||(this.state.pilot={xp:0,maxXp:10,level:0}),this.statsCached=void 0},t.prototype.exportData=function(){return{battlefield:this.state}},t.prototype.calcUsedFleetStats=function(){var e=this;if(this.state.fleetUsed){var t=ZE.space.fleet.fleets.find((function(t){return t.uuid===e.state.fleetUsed}));if(t){var n=100,i=0;return t.slots.forEach((function(e){if(e.shipId){var t=ZE.space.spaceship.getModelWithStats(e.shipId);if(t){var o=t.stats;n=Math.min(n,o.Speed||1),i+=o[Il.FUEL_CONSUMPTION]||0}}})),{speed:n,fuelConsumption:i}}}},t.prototype.getFromCache=function(){return this.statsCached||(this.statsCached=this.calcUsedFleetStats()),this.statsCached},t.prototype.getXPBonus=function(){return Math.pow(1.15,this.state.maxLevel)},t.prototype.getKPBonus=function(){return Math.pow(1.1,this.state.maxLevel)},t.prototype.dataToUI=function(){var e=this,t=ZE.space.fleet.fleets.find((function(t){return t.uuid===e.state.fleetUsed})),n=this.getFromCache();return{isUnlocked:ZE.space.fleet.fleets.length>0,battlefield:{level:this.state.level,maxLevel:this.state.maxLevel,xpBonus:this.getXPBonus(),kpBonus:this.getKPBonus(),isAutofight:this.state.isAutofight,isFighting:this.state.isFighting,isAutoprogres:this.state.isAutoadvance,travelSpeed:(null==n?void 0:n.speed)||0,fuelConsumption:(null==n?void 0:n.fuelConsumption)||0,selectedFleetId:this.state.fleetUsed,selectedFleetName:null==t?void 0:t.name,travelProgress:this.state.traveling.total?this.state.traveling.progress/this.state.traveling.total:0,travelEta:B((this.state.traveling.total-this.state.traveling.progress)/((null==n?void 0:n.speed)||1e-50))},fleetSelectable:ZE.space.fleet.fleets.map((function(t){return{uuid:t.uuid,name:t.name,isEditing:e.state.fleetUsed===t.uuid,isInvalid:ZE.space.fleet.getInvalidSlots(t).length>0}})),fight:this.fight.dataToUI(),pilot:sE(sE({},this.state.pilot),{bonus:"x".concat(_(Ap(ZE)))})}},t.prototype.resetTravel=function(){this.state.traveling.total=100+20*this.state.level,this.state.traveling.progress=0},t.prototype.stopFight=function(){this.state.isFighting=!1,this.fight.state.inProgress&&this.fight.finalizeFight(),this.resetTravel()},t.prototype.startFight=function(){var e,t=this;if(this.state.fleetUsed)if(ZE.space.fleet.getInvalidSlots(ZE.space.fleet.fleets.find((function(e){return e.uuid===t.state.fleetUsed}))).length>0)this.state.fleetUsed=void 0;else{var n=ZE.resources.getResource(a.FUEL),i=(null===(e=this.getFromCache())||void 0===e?void 0:e.fuelConsumption)||0;n+i>0&&(ZE.resources.subtractResource(a.FUEL,-i),this.state.isFighting=!0,this.resetTravel())}},t.prototype.process=function(e){var t;if(this.state.pilot.xp>this.state.pilot.maxXp&&(this.state.pilot.xp=0,this.state.pilot.level++,this.state.pilot.maxXp=10*Math.pow(2,this.state.pilot.level)),this.state.isFighting){if(this.state.traveling.progress<this.state.traveling.total)return void(this.state.traveling.progress+=e*(null===(t=this.getFromCache())||void 0===t?void 0:t.speed)||0);if(!this.fight.state.inProgress)return void this.fight.initializeFight(this.state.level);this.fight.isBattleWon()?(this.fight.finalizeFight(),this.state.pilot.xp+=2*this.state.level*Math.pow(1.2,this.state.level)*Math.pow(1.3,ZE.prestige.colonizePlanet.getUpgradeLevel(p.PILOT_XP)),this.state.maxLevel=Math.max(this.state.maxLevel,this.state.level+1),this.stopFight(),this.state.isAutofight&&this.startFight(),this.state.isAutoadvance&&(this.state.level=Math.min(this.state.level+1,this.state.maxLevel))):this.fight.isBattleLost()?(this.fight.finalizeFight(),this.state.level=Math.max(0,this.state.level-1)):this.fight.process(e)}},t.prototype.reset=function(){this.fight.finalizeFight(),this.state={isFighting:!1,isAutoadvance:!1,isAutofight:!1,traveling:{progress:0,total:0},fleetUsed:void 0,level:0,maxLevel:0,pilot:this.state.pilot||{xp:0,maxXp:10,level:0}}},t}(O),lE=uE.getInstance(),pE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),EE=function(e){function t(){var t=e.call(this)||this;return t.spaceship=Kp,t.hangar=Jp,t.fleet=nE,t.battlefield=lE,t}return pE(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.spaceship.importData(null==e?void 0:e.spaceship),this.hangar.importData(null==e?void 0:e.hangar),this.fleet.importData(null==e?void 0:e.fleet),this.battlefield.importData(null==e?void 0:e.battlefield)},t.prototype.exportData=function(){return{spaceship:this.spaceship.exportData(),hangar:this.hangar.exportData(),fleet:this.fleet.exportData(),battlefield:this.battlefield.exportData()}},t.prototype.dataToUI=function(){return{isUnlocked:ZE.science.scienceResearches.getResearchLevel(y.ROCKET_SCIENCE)>0,spaceship:this.spaceship.dataToUI(),hangar:this.hangar.dataToUI(),fleet:this.fleet.dataToUI(),battle:this.battlefield.dataToUI()}},t.prototype.process=function(e){this.battlefield.process(e)},t.prototype.reset=function(){this.spaceship.reset(),this.fleet.reset(),this.hangar.reset(),this.battlefield.reset()},t}(O).getInstance(),dE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),gE=function(e){function t(){var t=e.call(this)||this;return t.upgrades=[],t.numPrestiged=0,t.workDispatcher.on("[transmit-knowledge] do prestige",(function(e){console.log("do prestige",e),t.doPrestige()})),t.workDispatcher.on("[transmit-knowledge] do upgrade",(function(e){console.log("do prestige",e),t.doUpgrade(e.id,e.amount)})),t}return dE(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.upgrades=e.upgrades,this.numPrestiged=e.numPrestiged},t.prototype.exportData=function(){return{upgrades:this.upgrades,numPrestiged:this.numPrestiged}},t.prototype.dataToUI=function(){var e=this,t=ml.map((function(t){return e.processToUI(t)}));return this.isPrestigeAvailable()&&ZE.newNotifications.registerNotification("prestige:transmit-knowledge"),{upgrades:t,isUnlocked:this.numPrestiged>0||this.isPrestigeAvailable(),kp:_(ZE.resources.getResource(a.KNOWLEDGE_POINT)),prestige:{isAvailable:this.isPrestigeAvailable(),description:"",potentialGain:_(this.getPrestigeGain())}}},t.prototype.getUpgradeLevel=function(e){var t;return(null===(t=this.upgrades.find((function(t){return t.id===e})))||void 0===t?void 0:t.level)||0},t.prototype.processToUI=function(e){var t=this.upgrades.find((function(t){return t.id===e.id}));t||(t={id:e.id,level:0},this.upgrades.push(t));var n=P.calcBatchAll(e.getCost,WE.getInstance(),t.level,WE.getInstance().resources.getBatchObject()),i=n.reduce((function(e,t){return Math.min(e,t.max)}),1e300);return{id:e.id,name:e.name,description:e.description,isUnlocked:e.unlockCondition(ZE),isAvailable:i>=1,cost:WE.getInstance().resources.assertEnought(n,WE.getInstance().resources.getBatchObject(),WE.getInstance().resources.getBatchBalanceObject()),progress:i<1?(100*i).toPrecision(3):"100",isMaxedOut:!!e.maxLevel&&e.maxLevel<=t.level,maxLevel:e.maxLevel,level:t.level,category:e.category}},t.prototype.getEffectGain=function(e){var t=ml.filter((function(t){var n;return!!(null===(n=t.getEffectGain)||void 0===n?void 0:n[e])})),n=[];return this.upgrades.forEach((function(i){var o,r=t.find((function(e){return e.id===i.id}));if(r&&(null===(o=r.getEffectGain)||void 0===o?void 0:o[e])){var a=P.calculate(ZE,r.getEffectGain[e],0,i.level);n.push({label:"Knowledge: ".concat(r.name),value:a,id:"knowledge-".concat(r.id),category:"KP Upgrades"})}}),0),n},t.prototype.getEffectMultiplier=function(e){var t=ml.filter((function(t){var n;return!!(null===(n=t.getEffectMultiplier)||void 0===n?void 0:n[e])})),n=[];return this.upgrades.forEach((function(i){var o,r=t.find((function(e){return e.id===i.id}));if(r&&(null===(o=r.getEffectMultiplier)||void 0===o?void 0:o[e])){var a=P.calculate(ZE,r.getEffectMultiplier[e],i.level,1);a&&n.push({label:"Knowledge: ".concat(r.name),value:a,id:"knowledge-".concat(r.id),category:"KP Upgrades"})}}),0),n},t.prototype.getResourceBeingProduced=function(e){var t=ml.filter((function(t){var n;return!!(null===(n=t.getGain)||void 0===n?void 0:n[e])})),n=[];return this.upgrades.forEach((function(i){var o,r=t.find((function(e){return e.id===i.id}));if(r&&(null===(o=r.getGain)||void 0===o?void 0:o[e])){var a=P.calculate(ZE,r.getGain[e],0,i.level);n.push({label:"Knowledge: ".concat(r.name),value:a,id:"knowledge-".concat(r.id),category:"KP Upgrades"})}}),0),n},t.prototype.getResourceMultiplier=function(e){var t=ml.filter((function(t){var n;return!!(null===(n=t.getGainMultiplier)||void 0===n?void 0:n[e])})),n=[];return this.upgrades.forEach((function(i){var o,r=t.find((function(e){return e.id===i.id}));if(r&&(null===(o=r.getGainMultiplier)||void 0===o?void 0:o[e])){var a=P.calculate(ZE,r.getGainMultiplier[e],0,i.level);console.log("thisProd: ",a,e,i.level),a&&n.push({label:"Knowledge: ".concat(r.name),value:a,id:"knowledge-".concat(r.id),category:"KP Upgrades"})}}),0),n},t.prototype.getResourceBeingStored=function(e){var t=ml.filter((function(t){var n;return!!(null===(n=t.getCapacityEffect)||void 0===n?void 0:n[e])})),n=[];return this.upgrades.forEach((function(i){var o,r,a=t.find((function(e){return e.id===i.id}));if(a&&(null===(o=a.getCapacityEffect)||void 0===o?void 0:o[e])){var c=P.calculate(ZE,null===(r=a.getCapacityEffect)||void 0===r?void 0:r[e],0,i.level);n.push({label:"Knowledge: ".concat(a.name),value:c,id:"knowledge-".concat(a.id),category:"KP Upgrades"})}}),0),n},t.prototype.getCapacityMult=function(e){var t=ml.filter((function(t){var n;return!!(null===(n=t.getCapacityMultiplier)||void 0===n?void 0:n[e])})),n=[];return this.upgrades.forEach((function(i){var o=t.find((function(e){return e.id===i.id}));if(o&&o.getCapacityMultiplier){var r=P.calculate(ZE,o.getCapacityMultiplier[e],0,i.level);r&&n.push({label:"Knowledge: ".concat(o.name),value:r,id:"knowledge-".concat(o.id),category:"KP Upgrades"})}}),0),n},t.prototype.doUpgrade=function(e,t){void 0===t&&(t=1);var n=ml.find((function(t){return t.id===e}));if(n){var i=this.upgrades.findIndex((function(t){return t.id===e}));if(i<0)i=this.upgrades.length,this.upgrades.push({id:e,level:0});else if(n.maxLevel&&this.upgrades[i].level>=n.maxLevel)return;var o=P.calcBatchAll(n.getCost,WE.getInstance(),this.upgrades[i].level,WE.getInstance().resources.getBatchObject(),t).reduce((function(e,t){return Math.min(e,Math.floor(t.max))}),1e300);if(!(o<1)){var r=Math.min(Math.floor(o),t),a=P.calcBatchAll(n.getCost,WE.getInstance(),this.upgrades[i].level,WE.getInstance().resources.getBatchObject(),r);this.upgrades[i].level+=r,console.log("costs: ",a),WE.getInstance().resources.subtractResourceBatch(a),ZE.resources.reassertBalances()}}},t.prototype.isPrestigeAvailable=function(){return ZE.landingZone.landingZoneUpgrades.getUpgradeLevel(n.GREAT_RADIO_TRANSMITTER)>0&&ZE.colony.colonists>50},t.prototype.getPrestigeGain=function(){var e=WE.getInstance().prestige.colonizePlanet.processPlanetToUI(WE.getInstance().prestige.colonizePlanet.current);return(ZE.colony.colonists-50)*WE.getInstance().prestige.colonizePlanet.getCurrentXPBonus()*Math.pow(1.5,WE.getInstance().landingZone.landingZoneUpgrades.getUpgradeLevel(n.QUANTUM_ENCRYPTION))*e.xpGain*WE.getInstance().space.battlefield.getKPBonus()},t.prototype.doPrestige=function(){if(this.isPrestigeAvailable()){var e=this.getPrestigeGain(),t=ZE.resources.getResource(a.COLONIZE_XP)||0,n=ZE.resources.getResource(a.KNOWLEDGE_POINT)||0;ZE.landingZone.reset(),ZE.colony.reset(),ZE.crafting.reset(),ZE.science.reset(),ZE.laws.reset(),ZE.resources.reset(),ZE.space.reset(),ZE.statistics.stats.kpTotal=(ZE.statistics.stats.kpTotal||0)+e,ZE.statistics.stats.kpMaxGain=Math.max(ZE.statistics.stats.kpMaxGain||0,e),ZE.resources.addResource(a.KNOWLEDGE_POINT,e+n),ZE.resources.addResource(a.COLONIZE_XP,t),ZE.statistics.stats.timeThisPrestige=0,this.numPrestiged++,ZE.resources.reassertBalances()}},t.prototype.process=function(e){},t}(O),AE=gE.getInstance(),fE=[{id:l.COLD,category:u.TEMPERATURE,name:"Cold",complexityModifier:1.15,getGainMultiplier:(vp={},vp[a.POWER]=function(t){return{A:1,B:.9,type:e.EXPONENTIAL}},vp[a.NUTRITION]=function(t){return{A:1,B:.9,type:e.EXPONENTIAL}},vp[a.BIOMASS]=function(t){return{A:1,B:.9,type:e.EXPONENTIAL}},vp[a.WATER]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},vp[a.OXYGEN]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},vp)},{id:l.HOT,category:u.TEMPERATURE,name:"Hot",complexityModifier:.9,getGainMultiplier:(Sp={},Sp[a.POWER]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Sp[a.WATER]=function(t){return{A:1,B:.95,type:e.EXPONENTIAL}},Sp[a.OXYGEN]=function(t){return{A:1,B:.95,type:e.EXPONENTIAL}},Sp)},{id:l.ORE_POOR,category:u.CRUST,name:"Ore Poor",complexityModifier:1.2,getGainMultiplier:(Pp={},Pp[a.ORE]=function(t){return{A:1,B:.8,type:e.EXPONENTIAL}},Pp[a.STONE]=function(t){return{A:1,B:.8,type:e.EXPONENTIAL}},Pp[a.PLATINUM]=function(t){return{A:1,B:.8,type:e.EXPONENTIAL}},Pp[a.IRON]=function(t){return{A:1,B:.8,type:e.EXPONENTIAL}},Pp)},{id:l.ORE_RICH,category:u.CRUST,name:"Ore Rich",complexityModifier:.85,getGainMultiplier:(Bp={},Bp[a.ORE]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Bp[a.STONE]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Bp[a.PLATINUM]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Bp[a.IRON]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},Bp)},{id:l.SMALL,category:u.SIZE,name:"Small",complexityModifier:1.2,getGainMultiplier:(_p={},_p[a.ORE]=function(t){return{A:1,B:.9,type:e.EXPONENTIAL}},_p[a.STONE]=function(t){return{A:1,B:.9,type:e.EXPONENTIAL}},_p[a.PLATINUM]=function(t){return{A:1,B:.9,type:e.EXPONENTIAL}},_p[a.IRON]=function(t){return{A:1,B:.9,type:e.EXPONENTIAL}},_p),getCapacityMultiplier:(Mp={},Mp[a.ORE]=function(t){return{A:1,B:.9,type:e.EXPONENTIAL}},Mp[a.STONE]=function(t){return{A:1,B:.9,type:e.EXPONENTIAL}},Mp[a.PLATINUM]=function(t){return{A:1,B:.9,type:e.EXPONENTIAL}},Mp[a.IRON]=function(t){return{A:1,B:.9,type:e.EXPONENTIAL}},Mp)},{id:l.LARGE,category:u.SIZE,name:"Big",complexityModifier:.9,getGainMultiplier:(Up={},Up[a.ORE]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},Up[a.STONE]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},Up[a.PLATINUM]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},Up[a.IRON]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},Up),getCapacityMultiplier:(Gp={},Gp[a.ORE]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},Gp[a.STONE]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},Gp[a.PLATINUM]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},Gp[a.IRON]=function(t){return{A:1,B:1.05,type:e.EXPONENTIAL}},Gp)},{id:l.WET,category:u.HUMIDITY,name:"Wet",complexityModifier:.85,getGainMultiplier:(bp={},bp[a.WATER]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},bp[a.NUTRITION]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},bp[a.BIOMASS]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},bp[a.WOOD]=function(t){return{A:1,B:1.1,type:e.EXPONENTIAL}},bp),getCapacityMultiplier:{}},{id:l.DRY,category:u.HUMIDITY,name:"Dry",complexityModifier:1.15,getGainMultiplier:(Dp={},Dp[a.WATER]=function(t){return{A:1,B:.9,type:e.EXPONENTIAL}},Dp[a.NUTRITION]=function(t){return{A:1,B:.9,type:e.EXPONENTIAL}},Dp[a.BIOMASS]=function(t){return{A:1,B:.9,type:e.EXPONENTIAL}},Dp[a.WOOD]=function(t){return{A:1,B:.9,type:e.EXPONENTIAL}},Dp),getCapacityMultiplier:{}}],NE=[{id:p.PRODUCTIVITY,name:"Productivity",description:"Learn experience of the ancestors to increase overall productivity by 10% (additive)",unlockCondition:function(e){return!0},getCost:(wp={},wp[a.COLONIZE_XP]=function(t){return{A:3,B:1.5,type:e.EXPONENTIAL}},wp),maxLevel:0},{id:p.BUILDING_PRICES,name:"Building Knowledge",description:"Learn old architecture schemas and plans to reduce all buildings prices by 5% multiplicative",unlockCondition:function(e){return!0},getCost:(Xp={},Xp[a.COLONIZE_XP]=function(t){return{A:3,B:1.5,type:e.EXPONENTIAL}},Xp),maxLevel:0},{id:p.PILOT_XP,name:"Pilot XP",description:"Investigate ancient ships driving instructions and pass this knowledge to your pilots. Receive 30% multiplicative bonus to pilot XP",unlockCondition:function(e){return!0},getCost:(Hp={},Hp[a.COLONIZE_XP]=function(t){return{A:3,B:1.5,type:e.EXPONENTIAL}},Hp),maxLevel:0},{id:p.SHIPS_DAMAGE,name:"Ships Damage",description:"Learn more about destructive weapons that terrified whole galaxies once upon the time . Receive 20% multiplicative bonus to ships damage",unlockCondition:function(e){return!0},getCost:(xp={},xp[a.COLONIZE_XP]=function(t){return{A:3,B:1.5,type:e.EXPONENTIAL}},xp),maxLevel:0},{id:p.SHIPS_DURABILITY,name:"Ships Durability",description:"Learn more about trading civilizations technologies that had to protect their ships from aggressive barbarian in order to survive. Receive 20% multiplicative bonus to ships durability",unlockCondition:function(e){return!0},getCost:(kp={},kp[a.COLONIZE_XP]=function(t){return{A:3,B:1.5,type:e.EXPONENTIAL}},kp),maxLevel:0}],RE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),IE=function(){return IE=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},IE.apply(this,arguments)},OE=function(e,t,n){if(n||2===arguments.length)for(var i,o=0,r=t.length;o<r;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))},yE=function(t){function o(){var e=t.call(this)||this;return e.current={name:"Default",modifiers:{},yearLength:365,eccentricity:0,asteroidsDanger:0},e.available=[],e.numPrestiged=0,e.currentSearchFilters=[],e.upgrades=[],e.workDispatcher.on("[colonize-planet] set search filter",(function(t){console.log("do search filter",t),e.setSearchFilter(t.id)})),e.workDispatcher.on("[colonize-planet] do search",(function(t){console.log("do search",t),e.doSearch()})),e.workDispatcher.on("[colonize-planet] do prestige",(function(t){console.log("do colonize",t),e.doColonize(t.id)})),e.workDispatcher.on("[colonize-planet] do upgrade",(function(t){console.log("do xp upgrade",t),e.doUpgrade(t.id)})),e}return RE(o,t),o.getInstance=function(){return o.instance||(o.instance=new o),o.instance},o.prototype.importData=function(e){this.available=e.available,this.current=e.current,this.numPrestiged=e.numPrestiged,this.currentSearchFilters=e.filters||[],this.upgrades=e.upgrades||[],this.current.eccentricity||(this.current.eccentricity=0),this.current.yearLength||(this.current.yearLength=365),this.current.asteroidsDanger||(this.current.asteroidsDanger=0)},o.prototype.exportData=function(){return{available:this.available,current:this.current,numPrestiged:this.numPrestiged,filters:this.currentSearchFilters,upgrades:this.upgrades}},o.prototype.getUpgradeLevel=function(e){var t;return(null===(t=this.upgrades.find((function(t){return t.id===e})))||void 0===t?void 0:t.level)||0},o.prototype.getResourceUpgradeMultiplier=function(e){var t=NE.find((function(e){return e.id===p.PRODUCTIVITY}));return t?[{label:"XP Upgrade: ".concat(t.name),value:1+.1*this.getUpgradeLevel(p.PRODUCTIVITY),id:"knowledge-".concat(t.id),category:"XP Upgrades"}]:[]},o.prototype.doUpgrade=function(e){var t=NE.find((function(t){return t.id===e}));if(t){var n=this.upgrades.findIndex((function(t){return t.id===e}));if(n<0)n=this.upgrades.length,this.upgrades.push({id:e,level:0});else if(t.maxLevel&&this.upgrades[n].level>=t.maxLevel)return;var i=P.calcBatchAll(t.getCost,WE.getInstance(),this.upgrades[n].level,WE.getInstance().resources.getBatchObject());i.reduce((function(e,t){return Math.min(e,Math.floor(t.max))}),1e300)<1||(this.upgrades[n].level++,console.log("costs: ",i),WE.getInstance().resources.subtractResourceBatch(i),ZE.resources.reassertBalances())}},o.prototype.processUpgradeToUI=function(e){var t=this.upgrades.find((function(t){return t.id===e.id}));t||(t={id:e.id,level:0},this.upgrades.push(t));var n=P.calcBatchAll(e.getCost,WE.getInstance(),t.level,WE.getInstance().resources.getBatchObject()),i=n.reduce((function(e,t){return Math.min(e,t.max)}),1e300);return{id:e.id,name:e.name,description:e.description,isUnlocked:e.unlockCondition(ZE),isAvailable:i>=1,cost:WE.getInstance().resources.assertEnought(n,WE.getInstance().resources.getBatchObject(),WE.getInstance().resources.getBatchBalanceObject()),progress:i<1?(100*i).toPrecision(3):"100",isMaxedOut:!!e.maxLevel&&e.maxLevel<=t.level,maxLevel:e.maxLevel,level:t.level}},o.prototype.dataToUI=function(){var e,t=this,n=this.available.map((function(e){return t.processPlanetToUI(e)}));this.isPrestigeAvailable()&&ZE.newNotifications.registerNotification("prestige:colonize");var i=NE.map((function(e){return t.processUpgradeToUI(e)})),o=this.processPlanetToUI(this.current),r=this.getCurrentXPGainBreakdown(o),c=this.getSearchCost(),s=c.reduce((function(e,t){return Math.min(e,t.max)}),1e300);return{available:n,current:o,isUnlocked:this.numPrestiged>0||this.isPrestigeAvailable(),isPrestigeAvailable:this.isPrestigeAvailable(),currentXP:ZE.resources.getResource(a.COLONIZE_XP),search:{isAvailable:s>=1,cost:WE.getInstance().resources.assertEnought(c,WE.getInstance().resources.getBatchObject(),WE.getInstance().resources.getBatchBalanceObject()),progress:s<1?(100*s).toPrecision(3):"100",filter:{isAvailable:ZE.science.scienceResearches.getResearchLevel(y.EXOPLANET_SCIENCE)>0,modifierName:(null===(e=fE.find((function(e){var n,i;return e.id===(null===(i=null===(n=t.currentSearchFilters)||void 0===n?void 0:n[0])||void 0===i?void 0:i.modifierId)})))||void 0===e?void 0:e.name)||"None",modifiersAvailable:OE([],fE.map((function(e){return{id:e.id,name:e.name}})),!0)}},prestige:{isAvailable:this.isPrestigeAvailable(),potentialGain:_(r.xpGain),gainBase:_(r.baseXpGain),gainBattleMult:r.battleXPGain>1?_(r.battleXPGain):"",potentialBonus:_(this.getXpBonus(ZE.resources.getResource(a.COLONIZE_XP)+r.xpGain)),currentBonus:_(this.getXpBonus(ZE.resources.getResource(a.COLONIZE_XP)))},upgrades:i}},o.prototype.isPrestigeAvailable=function(){return ZE.landingZone.landingZoneBuildings.getBuildingActiveLevel(i.SPACESHIP_STATION)>0},o.prototype.setSearchFilter=function(e){ZE.science.scienceResearches.getResearchLevel(y.EXOPLANET_SCIENCE)>0&&(this.currentSearchFilters=e&&"None"!==e?[{modifierId:e}]:[])},o.prototype.doGenerate=function(e){var t={},n=fE.reduce((function(e,t){return e[t.category]||(e[t.category]=[t]),e[t.category].push(t),e}),{}),i=fE.reduce((function(t,n){return e.find((function(e){return e.modifierId===n.id}))&&(t[n.category]=n),t}),{});Object.entries(n).forEach((function(e){var n=e[0],o=e[1],r=i[n];if(r)t[n]={id:r.id,level:1+2*Math.random()};else{var a=Math.round(Math.random()*o.length);a<o.length&&(t[o[a].category]={id:o[a].id,level:1+2*Math.random()})}}));var o=["AD","TOI","HAP","HAT","Gliese","CORROT","Kepler","WASP"],r=o[Math.floor(Math.random()*o.length)];this.available.push({name:"".concat(r," ").concat(Math.round(100*Math.random())," ").concat(["B","C","D"][Math.floor(3*Math.random())]),modifiers:t,eccentricity:Math.max(Math.pow(Math.random(),2)-.3,0),asteroidsDanger:Math.max(0,Math.random()-.5),yearLength:Math.round(120+500*Math.random())})},o.prototype.doSearch=function(){var e=this;if(this.isPrestigeAvailable()){var t=this.getSearchCost();t.reduce((function(e,t){return Math.min(e,t.max)}),1e300)<1||(this.available=[],WE.getInstance().resources.subtractResourceBatch(t),Array.from({length:3}).forEach((function(){return e.doGenerate(e.currentSearchFilters)})))}},o.prototype.getResourceMultiplier=function(e){var t=Object.values(this.current.modifiers),n=fE.filter((function(n){var i;return t.map((function(e){return e.id})).includes(n.id)&&!!(null===(i=n.getGainMultiplier)||void 0===i?void 0:i[e])})),i=[];return t.forEach((function(t){var o,r=n.find((function(e){return e.id===t.id}));if(r&&(null===(o=r.getGainMultiplier)||void 0===o?void 0:o[e])){var a=P.calculate(ZE,r.getGainMultiplier[e],t.level,1);console.log("0--0",e,r.id,a),a&&i.push({label:"Planet modifier: ".concat(r.name),value:a,id:"planet-modifier-".concat(r.id),category:"Planet"})}}),0),i},o.prototype.getCapacityMultiplier=function(e){var t=Object.values(this.current.modifiers),n=fE.filter((function(n){var i;return t.map((function(e){return e.id})).includes(n.id)&&!!(null===(i=n.getCapacityMultiplier)||void 0===i?void 0:i[e])})),i=[];return t.forEach((function(t){var o,r=n.find((function(e){return e.id===t.id}));if(r&&(null===(o=r.getCapacityMultiplier)||void 0===o?void 0:o[e])){var a=P.calculate(ZE,r.getCapacityMultiplier[e],t.level,1);console.log("0--0",e,r.id,a),a&&i.push({label:"Planet modifier: ".concat(r.name),value:a,id:"planet-modifier-".concat(r.id),category:"Planet"})}}),0),i},o.prototype.getClimateChangeText=function(e){return e<=.01?"Stable":e<=.2?"Small Season Changes":e<=.4?"Moderate Season Changes":e<=.6?"Big Season Changes":"Terrible"},o.prototype.processPlanetToUI=function(e){var t={},n={},i="",o=1,r=function(r){var a=e.modifiers[r];if(!a)return"continue";var c=a.id,s=fE.find((function(e){return e.id===c}));if(!s)return"continue";i="".concat(s.name," ").concat(i),s.getGainMultiplier&&P.calcBatch(s.getGainMultiplier,WE.getInstance(),a.level).forEach((function(e){var n;t[e.id]?null===(n=t[e.id])||void 0===n||(n.amount*=e.amount):t[e.id]=e})),s.getCapacityMultiplier&&P.calcBatch(s.getCapacityMultiplier,WE.getInstance(),a.level).forEach((function(e){var t;n[e.id]?null===(t=n[e.id])||void 0===t||(t.amount*=e.amount):n[e.id]=e})),o*=Math.pow(s.complexityModifier,a.level)};for(var a in e.modifiers)r(a);var c=this.getColonizeCost(),s=c.reduce((function(e,t){return Math.min(e,t.max)}),1e300),u=1+Math.pow(e.eccentricity||0,2);return o*=u,{name:e.name,description:i,gainMult:Object.values(t).map((function(e){return IE(IE({},e),{amountValue:e.amount,amount:_(e.amount)})})),max:[],cost:WE.getInstance().resources.assertEnought(c,WE.getInstance().resources.getBatchObject(),WE.getInstance().resources.getBatchBalanceObject()),isAvailable:s>=1,progress:s<1?(100*s).toPrecision(3):"100",consume:[],consumeEffect:[],gainEffect:[],gain:[],maxMult:Object.values(n).map((function(e){return IE(IE({},e),{amountValue:e.amount,amount:_(e.amount)})})),xpGain:o,daysPerYear:_(e.yearLength||365,3),climateChange:this.getClimateChangeText(e.eccentricity||0),climateHarshness:u}},o.prototype.getXpBonus=function(e){return 1+.3*Math.pow(e,.4)},o.prototype.getCurrentXPBonus=function(){return this.getXpBonus(ZE.resources.getResource(a.COLONIZE_XP))},o.prototype.getColonizeCost=function(){var t;return P.calcBatchAll(((t={})[a.ROCKET_ENGINE]=function(t){return{A:1e3,B:1,type:e.EXPONENTIAL}},t),WE.getInstance(),1,WE.getInstance().resources.getBatchObject())},o.prototype.getSearchCost=function(){var t,n=this;return P.calcBatchAll(((t={})[a.FUEL]=function(t){return{A:2500*Math.pow(2,n.currentSearchFilters.length),B:1,type:e.EXPONENTIAL}},t),WE.getInstance(),1,WE.getInstance().resources.getBatchObject())},o.prototype.getCurrentXPGainBreakdown=function(e){var t=(null!=e?e:this.processPlanetToUI(this.current)).xpGain*Math.pow(1.5,ZE.landingZone.landingZoneUpgrades.getUpgradeLevel(n.QUANTUM_ENCRYPTION)),i=ZE.space.battlefield.getXPBonus();return{baseXpGain:t,battleXPGain:i,xpGain:t*i}},o.prototype.doColonize=function(e){if(!(this.getColonizeCost().reduce((function(e,t){return Math.min(e,t.max)}),1e300)<1)&&this.isPrestigeAvailable()){var t=this.getCurrentXPGainBreakdown().xpGain,n=ZE.resources.getResource(a.KNOWLEDGE_POINT),i=ZE.resources.getResource(a.COLONIZE_XP);ZE.statistics.stats.xpTotal=(ZE.statistics.stats.xpTotal||0)+t,ZE.statistics.stats.xpMaxGain=Math.max(ZE.statistics.stats.xpMaxGain||0,t),ZE.landingZone.reset(),ZE.colony.reset(),ZE.crafting.reset(),ZE.science.reset(),ZE.laws.reset(),ZE.resources.reset(),ZE.space.reset(),ZE.resources.addResource(a.COLONIZE_XP,i+t),ZE.resources.addResource(a.KNOWLEDGE_POINT,n),this.numPrestiged++,ZE.statistics.stats.timeThisPlanet=0,ZE.statistics.stats.timeThisPrestige=0,this.current=this.available[e],this.current.yearLength||(this.current.yearLength=365,this.current.eccentricity=0),this.available=[],ZE.resources.reassertBalances()}},o}(O),mE=yE.getInstance(),hE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),TE=function(e){function t(){var t=e.call(this)||this;return t.transmitKnowledge=AE,t.colonizePlanet=mE,t}return hE(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.transmitKnowledge.importData(e.transmitKnowledge),this.colonizePlanet.importData(e.colonizePlanet)},t.prototype.exportData=function(){return{transmitKnowledge:this.transmitKnowledge.exportData(),colonizePlanet:this.colonizePlanet.exportData()}},t.prototype.dataToUI=function(){return{transmitKnowledge:this.transmitKnowledge.dataToUI(),colonizePlanet:this.colonizePlanet.dataToUI(),isUnlocked:this.transmitKnowledge.isPrestigeAvailable()||this.transmitKnowledge.numPrestiged>0||this.colonizePlanet.isPrestigeAvailable()||this.colonizePlanet.numPrestiged>0}},t.prototype.preProcess=function(e){},t.prototype.process=function(e){this.transmitKnowledge.process(e)},t}(O).getInstance(),LE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),CE=function(e){function t(){var t=e.call(this)||this;return t.expeditionsState={isInProgress:!1,progress:0,lastLooted:{},numExpeditions:0,currentMode:0,currentMax:100,runningExpeditionMode:0},t.expeditionsState={isInProgress:!1,progress:0,lastLooted:{},numExpeditions:0,currentMode:0,currentMax:100,runningExpeditionMode:0},t.workDispatcher.on("[expedition] send",(function(e){console.log("do expedition",e),t.startExpedition()})),t.workDispatcher.on("[expedition] set mode",(function(e){console.log("set expedition mode",e),t.expeditionsState.currentMode=e.mode})),t}return LE(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.expeditionsState=e||{isInProgress:!1,progress:0,lastLooted:{},numExpeditions:0}},t.prototype.exportData=function(){return this.expeditionsState},t.prototype.dataToUI=function(){var e;return{numExpeditions:this.expeditionsState.numExpeditions,progress:this.expeditionsState.progress,lastLooted:Object.entries(this.expeditionsState.lastLooted).map((function(e){var t=e[0],n=e[1];return{id:t,amount:_(n),name:v(t),amountValue:n}})),isUnlocked:this.isExpeditionUnlocked(),isInProgress:this.expeditionsState.isInProgress,eta:B(this.expeditionsState.currentMax-this.expeditionsState.progress),percentage:100*this.expeditionsState.progress/this.expeditionsState.currentMax,multiplier:_(this.getLootMultiplier()),currentMode:null!==(e=this.expeditionsState.currentMode)&&void 0!==e?e:0}},t.prototype.isExpeditionUnlocked=function(){return ZE.science.scienceResearches.getResearchLevel(y.GEOGRAPHY)>0},t.prototype.startExpedition=function(){!this.expeditionsState.isInProgress&&this.isExpeditionUnlocked()&&(this.expeditionsState.currentMax=this.getExpeditionDuration(),this.expeditionsState.isInProgress=!0,this.expeditionsState.progress=0,this.expeditionsState.runningExpeditionMode=this.expeditionsState.currentMode,this.expeditionsState.numExpeditions++)},t.prototype.getLoot=function(){var e=this.getLootMultiplier(),t=1;switch(this.expeditionsState.runningExpeditionMode){case 0:default:t=1;break;case 1:t=4;break;case 2:t=16}for(var n=L.filter((function(e){return e.unlockCondition(ZE)&&e.valuability<1e6})),i={},o=0;o<2;o++){var r=n.splice(Math.floor(Math.random()*(n.length-1e-5)),1)[0];i[r.id]=100*(Math.random()+.5)*e*t/r.valuability}return i},t.prototype.getLootMultiplier=function(){return Math.pow(1.05,ZE.landingZone.landingZoneBuildings.getBuildingActiveLevel(i.EXPEDITION_CENTER))*Math.pow(1.3,ZE.landingZone.landingZoneUpgrades.getUpgradeLevel(n.ENERGY_SAVING_EXPEDITION_DRONES))},t.prototype.endExpedition=function(){this.expeditionsState.isInProgress=!1,this.expeditionsState.progress=0;var e=this.getLoot();for(var t in this.expeditionsState.lastLooted=e,e)ZE.resources.addResource(t,e[t]||0)},t.prototype.getExpeditionDuration=function(){switch(this.expeditionsState.currentMode){case 0:return 120;case 1:return 600;case 2:return 3600}return 120},t.prototype.process=function(e){this.expeditionsState.isInProgress&&(this.expeditionsState.currentMax||(this.expeditionsState.runningExpeditionMode=0,this.expeditionsState.currentMax=this.getExpeditionDuration()),this.expeditionsState.progress+=e,this.expeditionsState.progress>=this.expeditionsState.currentMax&&this.endExpedition())},t.prototype.reset=function(){this.expeditionsState.isInProgress=!1,this.expeditionsState.progress=0,this.expeditionsState.lastLooted={}},t}(O),vE=CE.getInstance(),SE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),PE=function(e){function t(){var t=e.call(this)||this;return t.newNotificationState={},t.notificationsToUI={},t.workDispatcher.on("[new-notification] set viewed",(function(e){console.log("new-notification set viewed",e),t.setViewed(e.id)})),t}return SE(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.newNotificationState=e||{}},t.prototype.exportData=function(){return this.newNotificationState},t.prototype.dataToUI=function(){return{new:this.notificationsToUI}},t.prototype.setViewed=function(e){this.newNotificationState[e]=!0},t.prototype.getViewed=function(e){var t;return null!==(t=this.newNotificationState[e])&&void 0!==t&&t},t.prototype.registerNotification=function(e){if(this.newNotificationState[e])return!1;for(var t=e.split(":"),n=[];t.length>0;)n.push("".concat(t.splice(0,1))),this.notificationsToUI[n.join(":")]=!0;return this.notificationsToUI[e]},t.prototype.reset=function(){this.newNotificationState={},this.notificationsToUI={}},t.prototype.preUI=function(){this.notificationsToUI={}},t}(O),BE=PE.getInstance(),_E=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ME=function(){return ME=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ME.apply(this,arguments)},UE=function(e){function t(){var t=e.call(this)||this;return t.stats={timeInGame:0,timeThisPlanet:0,timeThisPrestige:0,maxColonists:0,maxHappiness:0,kpTotal:0,kpMaxGain:0,xpTotal:0,xpMaxGain:0},t}return _E(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.stats=e||{timeInGame:ZE.timeInGame,timeThisPlanet:ZE.timeInGame,timeThisPrestige:ZE.timeInPrestige,maxColonists:0,maxHappiness:0}},t.prototype.exportData=function(){return this.stats},t.prototype.dataToUI=function(){return ME(ME({},this.stats),{maxHappiness:Math.round(100*this.stats.maxHappiness),numPrestiges:ZE.prestige.transmitKnowledge.numPrestiged,numColonized:ZE.prestige.colonizePlanet.numPrestiged})},t.prototype.process=function(e){this.stats.timeThisPrestige+=e,this.stats.timeThisPlanet+=e,this.stats.timeInGame+=e,this.stats.maxHappiness=Math.max(this.stats.maxHappiness,ZE.colony.getColonistsHappiness()),this.stats.maxColonists=Math.max(this.stats.maxColonists,ZE.colony.colonists)},t}(O).getInstance();!function(e){e[e.EXTREMELY_COLD=0]="EXTREMELY_COLD",e[e.VERY_COLD=1]="VERY_COLD",e[e.COLD=2]="COLD",e[e.SLIGHTLY_COLD=3]="SLIGHTLY_COLD",e[e.NORMAL=4]="NORMAL",e[e.SLIGHTLY_WARM=5]="SLIGHTLY_WARM",e[e.WARM=6]="WARM",e[e.HOT=7]="HOT",e[e.VERY_HOT=8]="VERY_HOT"}(Yp||(Yp={})),function(e){e[e.SPRING=0]="SPRING",e[e.SUMMER=1]="SUMMER",e[e.AUTUMN=2]="AUTUMN",e[e.WINTER=3]="WINTER"}(Wp||(Wp={}));var GE=[{id:Yp.VERY_HOT,distanceCondition:.35,temperatureModifier:1.75,name:"Very Hot"},{id:Yp.HOT,distanceCondition:.45,temperatureModifier:1.5,name:"Hot"},{id:Yp.WARM,distanceCondition:.6,temperatureModifier:1.3,name:"Warm"},{id:Yp.SLIGHTLY_WARM,distanceCondition:.8,temperatureModifier:1.1,name:"Slightly Warm"},{id:Yp.NORMAL,distanceCondition:1.2,temperatureModifier:1,name:"Normal"},{id:Yp.SLIGHTLY_COLD,distanceCondition:1.4,temperatureModifier:.9,name:"Slightly Cold"},{id:Yp.COLD,distanceCondition:1.55,temperatureModifier:.75,name:"Cold"},{id:Yp.VERY_COLD,distanceCondition:1.65,temperatureModifier:.66,name:"Very Cold"},{id:Yp.EXTREMELY_COLD,distanceCondition:1.7,temperatureModifier:.62,name:"Extremely Cold"}],bE=((Zp={})[Wp.SPRING]="Spring",Zp[Wp.SUMMER]="Summer",Zp[Wp.AUTUMN]="Autumn",Zp[Wp.WINTER]="Winter",Zp),DE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),wE=function(e){function t(){var t=e.call(this)||this;return t.climateState={day:0,season:Wp.SPRING,temperature:Yp.NORMAL,year:0},t}return DE(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.climateState=e||{day:0,season:Wp.SPRING,temperature:Yp.NORMAL,year:0}},t.prototype.exportData=function(){return this.climateState},t.prototype.dataToUI=function(){var e=this,t=GE.find((function(t){return t.id===e.climateState.temperature}));if(!t)throw new Error("Invalid temperature modifier ".concat(this.climateState.temperature));return{temperature:t.name,year:this.climateState.year,day:this.climateState.day,season:bE[this.climateState.season]}},t.prototype.getDays=function(){return.2*ZE.statistics.stats.timeThisPrestige},t.prototype.getSeasonId=function(){var e=ZE.prestige.colonizePlanet.current.yearLength,t=this.getDays()%e;return Math.floor(4*t/e)},t.prototype.getResourceMultiplier=function(e){var t=this,n=GE.find((function(e){return e.id===t.climateState.temperature}));if(!n)throw new Error("Invalid temperature modifier ".concat(this.climateState.temperature));if(1===n.temperatureModifier)return[];var i=n.temperatureModifier,o=1/n.temperatureModifier;return[a.POWER].includes(e)?[{id:"temp_modif_".concat(n.id),label:"Temperature modifier: ".concat(n.name),value:i,category:"Environment"}]:[a.WATER,a.OXYGEN].includes(e)?[{id:"temp_modif_".concat(n.id),label:"Temperature modifier: ".concat(n.name),value:o,category:"Environment"}]:[a.WOOD].includes(e)?[{id:"temp_modif_".concat(n.id),label:"Temperature modifier: ".concat(n.name),value:Math.pow(Math.min(o,i),.5),category:"Environment"}]:[]},t.prototype.process=function(e){var t=this.getDays(),n=ZE.prestige.colonizePlanet.current.yearLength;this.climateState.year=1+Math.floor(t/n),this.climateState.day=1+this.getDays()%n,this.climateState.season=this.getSeasonId();for(var i=Math.floor(16*this.climateState.day/n),o=1-ZE.prestige.colonizePlanet.current.eccentricity*Math.sin(6.28*i/16),r=0;GE[r].distanceCondition<o;)r++;GE[r].id!==this.climateState.temperature&&(console.log("Weather changed: ".concat(this.climateState.temperature," -> ").concat(GE[r].id)),this.climateState.temperature=GE[r].id,ZE.resources.reassertBalances())},t}(O).getInstance(),XE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),HE=function(e){function t(){var t=e.call(this)||this;return t.state={multiplier:1,amountLeft:0,lastOnline:9999999999},t.workDispatcher.on("[banked-time] set multiplier",(function(e){t.setMultiplier(e)})),t}return XE(t,e),t.prototype.setMultiplier=function(e){e<1&&(e=1),e>4&&(e=4),this.state.amountLeft<=0&&(e=1),this.state.multiplier=e},t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.state=e||{multiplier:1,amountLeft:0,lastOnline:Date.now()},this.state.lastOnline||(this.state.lastOnline=Date.now()),Date.now()-this.state.lastOnline>6e4&&(this.state.amountLeft=Math.min(28800,(this.state.amountLeft||0)+(Date.now()-this.state.lastOnline)/1e3),this.state.lastOnline=Date.now())},t.prototype.exportData=function(){return this.state},t.prototype.dataToUI=function(){return this.state},t.prototype.process=function(e){this.state.multiplier>1&&(this.state.amountLeft<=0&&(this.state.amountLeft=0,this.state.multiplier=1),this.state.amountLeft-=e*(this.state.multiplier-1)/this.state.multiplier),this.state.lastOnline=Date.now()},t}(O).getInstance(),xE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),kE=function(e){function t(){var t=e.call(this)||this;return t.climate=wE,t.bankedTime=HE,t}return xE(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.importData=function(e){this.climate.importData(null==e?void 0:e.climate),this.bankedTime.importData(null==e?void 0:e.bankedTime)},t.prototype.exportData=function(){return{climate:this.climate.exportData(),bankedTime:this.bankedTime.exportData()}},t.prototype.dataToUI=function(){return{climate:this.climate.dataToUI(),bankedTime:this.bankedTime.dataToUI()}},t.prototype.process=function(e){this.climate.process(e),this.bankedTime.process(e)},t.prototype.reset=function(){},t}(O).getInstance(),YE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),WE=function(e){function t(){var t=this,n=Date.now();return(t=e.call(this)||this).dT=0,t.timeInGame=0,t.timeInPrestige=0,t.isFirstIter=!1,t.isLoading=!0,t.speedUpFactor=1,t.settings={turnAnimationsOn:!0},t.workDispatcher.on("initialize",(function(e){console.log("Received payload",e)})),t.resources=$s,t.milestones=su,t.landingZone=ru,t.colony=yu,t.science=vu,t.crafting=bu,t.goals=Ll,t.laws=Bl,t.space=EE,t.expedition=vE,t.newNotifications=BE,t.prestige=TE,t.statistics=UE,t.environment=kE,setInterval((function(){t.isLoading?console.warn("Game is loading... Skip"):t.process(.1)}),100),setInterval((function(){t.workDispatcher.output("[game] update ui",t.dataToUI())}),200),setInterval((function(){t.workDispatcher.output("[game] save",t.exportData())}),1e4),t.workDispatcher.on("[game] load",(function(e){console.log("Received load",e),t.importData(e)})),t.workDispatcher.on("[game] export text",(function(e){console.log("Received export text",e),t.workDispatcher.output("[game] export to string",t.exportData())})),t.workDispatcher.on("[game] export file",(function(e){console.log("Received export to file",e),t.workDispatcher.output("[game] export to file",t.exportData())})),t.workDispatcher.on("[game] purchase max",(function(e){console.log("Received purchase max",e),t.purchaseMax()})),t.workDispatcher.on("[game] trigger save",(function(e){t.workDispatcher.output("[game] save",t.exportData())})),t.workDispatcher.on("[game] toggle animations",(function(e){t.settings.turnAnimationsOn=e,t.workDispatcher.output("[game] save and reload",t.exportData())})),t.workDispatcher.output("loaded",{ttp:Date.now()-n}),t.isLoading=!1,t}return YE(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.process=function(e){var t=1*this.speedUpFactor*(this.environment.bankedTime.state.multiplier||1);this.dT=e*t,this.landingZone.preProcess(e*t),this.milestones.process(e*t),this.landingZone.process(e*t),this.colony.process(e*t),this.resources.process(e*t),this.colony.process(e*t),this.science.process(e*t),this.crafting.process(e*t),this.goals.process(e*t),this.space.process(e*t),this.expedition.process(e*t),this.prestige.process(e*t),this.statistics.process(e*t),this.environment.process(e*t),this.timeInPrestige+=e*t,this.timeInGame+=e*t,this.isFirstIter&&(this.isFirstIter=!1,this.resources.reassertBalances())},t.prototype.importData=function(e){this.isLoading=!0,this.resources.importData(e.resources),this.milestones.importData(e.milestones||[]),this.landingZone.importData(e.landingZone),this.colony.importData(e.colony),this.science.importData(e.science),this.crafting.importData(e.crafting),this.goals.importData(e.goals),this.laws.importData(e.laws),this.expedition.importData(e.expedition),this.newNotifications.importData(e.newNotifications),this.prestige.importData(e.prestige),this.resources.reassertBalances(),this.statistics.importData(e.statistics),this.environment.importData(e.environment),this.space.importData(e.space),this.settings=e.settings||{turnAnimationsOn:!0},this.timeInGame=e.timeInGame,this.timeInPrestige=e.timeInPrestige,this.isFirstIter=!0,this.isLoading=!1},t.prototype.exportData=function(){return{landingZone:this.landingZone.exportData(),colony:this.colony.exportData(),resources:this.resources.exportData(),milestones:this.milestones.exportData(),science:this.science.exportData(),crafting:this.crafting.exportData(),goals:this.goals.exportData(),laws:this.laws.exportData(),expedition:this.expedition.exportData(),newNotifications:this.newNotifications.exportData(),prestige:this.prestige.exportData(),statistics:this.statistics.exportData(),environment:this.environment.exportData(),space:this.space.exportData(),settings:this.settings,timeInPrestige:this.timeInPrestige,timeInGame:this.timeInGame}},t.prototype.dataToUI=function(){return this.newNotifications.preUI(),{landingZone:this.landingZone.dataToUI(),colony:this.colony.dataToUI(),science:this.science.dataToUI(),crafting:this.crafting.dataToUI(),resources:this.resources.dataToUI(),laws:this.laws.dataToUI(),goals:this.goals.dataToUI(),space:this.space.dataToUI(),expeditions:this.expedition.dataToUI(),newNotifications:this.newNotifications.dataToUI(),prestige:this.prestige.dataToUI(),statistics:this.statistics.dataToUI(),settings:this.settings,environment:this.environment.dataToUI(),timeInPrestige:B(this.timeInPrestige),timeInGame:B(this.timeInGame)}},t.prototype.purchaseMax=function(){},t}(O),ZE=WE.getInstance();self.addEventListener("message",(function(e){var t=e.data;console.log("send to worker: ",t),ZE.workDispatcher.handleInput(t.type,t.payload)}))})();